---
title: Application multiniveau avec Apache Cassandra
description: Découvrez comment exécuter des machines virtuelles Linux pour une architecture multiniveau dans Microsoft Azure.
author: MikeWasson
ms.date: 05/03/2018
ms.openlocfilehash: 7ee14088a2fae3cfc5c1119daf717236c75ecc6a
ms.sourcegitcommit: 58d93e7ac9a6d44d5668a187a6827d7cd4f5a34d
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/02/2018
ms.locfileid: "37142231"
---
# <a name="n-tier-application-with-apache-cassandra"></a><span data-ttu-id="6081d-103">Application multiniveau avec Apache Cassandra</span><span class="sxs-lookup"><span data-stu-id="6081d-103">N-tier application with Apache Cassandra</span></span>

<span data-ttu-id="6081d-104">Cette architecture de référence montre comment déployer des machines virtuelles et un réseau virtuel configuré pour une application multiniveau à l’aide de Apache Cassandra sur Linux pour la couche Données.</span><span class="sxs-lookup"><span data-stu-id="6081d-104">This reference architecture shows how to deploy VMs and a virtual network configured for an N-tier application, using Apache Cassandra on Linux for the data tier.</span></span> [<span data-ttu-id="6081d-105">**Déployez cette solution**.</span><span class="sxs-lookup"><span data-stu-id="6081d-105">**Deploy this solution**.</span></span>](#deploy-the-solution) 

<span data-ttu-id="6081d-106">![[0]][0]</span><span class="sxs-lookup"><span data-stu-id="6081d-106">![[0]][0]</span></span>

<span data-ttu-id="6081d-107">*Téléchargez un [fichier Visio][visio-download] de cette architecture.*</span><span class="sxs-lookup"><span data-stu-id="6081d-107">*Download a [Visio file][visio-download] of this architecture.*</span></span>

## <a name="architecture"></a><span data-ttu-id="6081d-108">Architecture</span><span class="sxs-lookup"><span data-stu-id="6081d-108">Architecture</span></span> 

<span data-ttu-id="6081d-109">Elle comporte les composants suivants :</span><span class="sxs-lookup"><span data-stu-id="6081d-109">The architecture has the following components:</span></span>

* <span data-ttu-id="6081d-110">**Groupe de ressources.**</span><span class="sxs-lookup"><span data-stu-id="6081d-110">**Resource group.**</span></span> <span data-ttu-id="6081d-111">Les [groupes de ressources][resource-manager-overview] servent à regrouper des ressources afin de pouvoir les gérer en fonction de la durée de vie, du propriétaire ou d’autres critères.</span><span class="sxs-lookup"><span data-stu-id="6081d-111">[Resource groups][resource-manager-overview] are used to group resources so they can be managed by lifetime, owner, or other criteria.</span></span>

* <span data-ttu-id="6081d-112">**Réseau virtuel (VNet) et sous-réseaux.**</span><span class="sxs-lookup"><span data-stu-id="6081d-112">**Virtual network (VNet) and subnets.**</span></span> <span data-ttu-id="6081d-113">Chaque machine virtuelle Azure est déployée dans un réseau virtuel qui peut être segmenté en plusieurs sous-réseaux.</span><span class="sxs-lookup"><span data-stu-id="6081d-113">Every Azure VM is deployed into a VNet that can be segmented into multiple subnets.</span></span> <span data-ttu-id="6081d-114">Créez un sous-réseau distinct pour chaque niveau.</span><span class="sxs-lookup"><span data-stu-id="6081d-114">Create a separate subnet for each tier.</span></span> 

* <span data-ttu-id="6081d-115">**Groupes de sécurité réseau.**</span><span class="sxs-lookup"><span data-stu-id="6081d-115">**NSGs.**</span></span> <span data-ttu-id="6081d-116">Utilisez des [groupes de sécurité réseau][nsg] pour limiter le trafic réseau au sein du réseau virtuel.</span><span class="sxs-lookup"><span data-stu-id="6081d-116">Use [network security groups][nsg] (NSGs) to restrict network traffic within the VNet.</span></span> <span data-ttu-id="6081d-117">Par exemple, dans l’architecture à 3 niveaux illustrée ici, le niveau base de données n’accepte pas le trafic en provenance du frontend web, mais uniquement du niveau Business et du sous-réseau de gestion.</span><span class="sxs-lookup"><span data-stu-id="6081d-117">For example, in the 3-tier architecture shown here, the database tier does not accept traffic from the web front end, only from the business tier and the management subnet.</span></span>

* <span data-ttu-id="6081d-118">**Machines virtuelles**.</span><span class="sxs-lookup"><span data-stu-id="6081d-118">**Virtual machines**.</span></span> <span data-ttu-id="6081d-119">Pour obtenir des suggestions sur la configuration des machines virtuelles, consultez [Exécuter une machine virtuelle Windows sur Azure](./windows-vm.md) et [Exécuter une machine virtuelle Linux sur Azure](./linux-vm.md).</span><span class="sxs-lookup"><span data-stu-id="6081d-119">For recommendations on configuring VMs, see [Run a Windows VM on Azure](./windows-vm.md) and [Run a Linux VM on Azure](./linux-vm.md).</span></span>

* <span data-ttu-id="6081d-120">**Groupes à haute disponibilité.**</span><span class="sxs-lookup"><span data-stu-id="6081d-120">**Availability sets.**</span></span> <span data-ttu-id="6081d-121">Créez un [groupe à haute disponibilité][azure-availability-sets] pour chaque niveau et configurez au moins deux machines virtuelles dans chaque niveau.</span><span class="sxs-lookup"><span data-stu-id="6081d-121">Create an [availability set][azure-availability-sets] for each tier, and provision at least two VMs in each tier.</span></span> <span data-ttu-id="6081d-122">Cela rend les machines virtuelles éligibles pour un [niveau contrat de service (SLA)][vm-sla] plus élevé.</span><span class="sxs-lookup"><span data-stu-id="6081d-122">This makes the VMs eligible for a higher [service level agreement (SLA)][vm-sla] for VMs.</span></span> 

* <span data-ttu-id="6081d-123">**Groupe identique de machines virtuelles** (non affichée).</span><span class="sxs-lookup"><span data-stu-id="6081d-123">**VM scale set** (not shown).</span></span> <span data-ttu-id="6081d-124">Un [groupe identique de machines virtuelles][vmss] est une alternative à l’utilisation d’un groupe à haute disponibilité.</span><span class="sxs-lookup"><span data-stu-id="6081d-124">A [VM scale set][vmss] is an alternative to using an availability set.</span></span> <span data-ttu-id="6081d-125">Un groupe identique simplifie l’augmentation de taille des instances de la machine virtuelle dans un niveau, manuellement ou automatiquement à partir de règles prédéfinies.</span><span class="sxs-lookup"><span data-stu-id="6081d-125">A scale sets makes it easy to scale out the VMs in a tier, either manually or automatically based on predefined rules.</span></span>

* <span data-ttu-id="6081d-126">**Équilibreurs de charge Azure.**</span><span class="sxs-lookup"><span data-stu-id="6081d-126">**Azure Load balancers.**</span></span> <span data-ttu-id="6081d-127">Les [équilibreurs de charge][load-balancer] distribuent les demandes Internet entrantes aux instances de machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="6081d-127">The [load balancers][load-balancer] distribute incoming Internet requests to the VM instances.</span></span> <span data-ttu-id="6081d-128">Utilisez un [équilibreur de charge public][load-balancer-external] pour distribuer le trafic Internet entrant vers le niveau Web et un [équilibreur de charge interne][load-balancer-internal] pour distribuer le trafic réseau du niveau Web vers le niveau Business.</span><span class="sxs-lookup"><span data-stu-id="6081d-128">Use a [public load balancer][load-balancer-external] to distribute incoming Internet traffic to the web tier, and an [internal load balancer][load-balancer-internal] to distribute network traffic from the web tier to the business tier.</span></span>

* <span data-ttu-id="6081d-129">**Adresse IP publique**.</span><span class="sxs-lookup"><span data-stu-id="6081d-129">**Public IP address**.</span></span> <span data-ttu-id="6081d-130">Une adresse IP publique est nécessaire pour que l’équilibreur de charge public puisse recevoir le trafic Internet.</span><span class="sxs-lookup"><span data-stu-id="6081d-130">A public IP address is needed for the public load balancer to receive Internet traffic.</span></span>

* <span data-ttu-id="6081d-131">**Serveur de rebond (jumpbox).**</span><span class="sxs-lookup"><span data-stu-id="6081d-131">**Jumpbox.**</span></span> <span data-ttu-id="6081d-132">Également appelée [hôte bastion].</span><span class="sxs-lookup"><span data-stu-id="6081d-132">Also called a [bastion host].</span></span> <span data-ttu-id="6081d-133">Machine virtuelle sécurisée sur le réseau, utilisée par les administrateurs pour se connecter aux autres machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="6081d-133">A secure VM on the network that administrators use to connect to the other VMs.</span></span> <span data-ttu-id="6081d-134">Le serveur de rebond a un groupe de sécurité réseau qui autorise le trafic distant provenant uniquement d’adresses IP publiques figurant sur une liste verte.</span><span class="sxs-lookup"><span data-stu-id="6081d-134">The jumpbox has an NSG that allows remote traffic only from public IP addresses on a safe list.</span></span> <span data-ttu-id="6081d-135">Le groupe de sécurité réseau doit autoriser le trafic SSH.</span><span class="sxs-lookup"><span data-stu-id="6081d-135">The NSG should permit ssh traffic.</span></span>

* <span data-ttu-id="6081d-136">**Base de données Apache Cassandra**.</span><span class="sxs-lookup"><span data-stu-id="6081d-136">**Apache Cassandra database**.</span></span> <span data-ttu-id="6081d-137">Fournit une haute disponibilité du niveau Données, en activant la réplication et le basculement.</span><span class="sxs-lookup"><span data-stu-id="6081d-137">Provides high availability at the data tier, by enabling replication and failover.</span></span>

* <span data-ttu-id="6081d-138">**Azure DNS**.</span><span class="sxs-lookup"><span data-stu-id="6081d-138">**Azure DNS**.</span></span> <span data-ttu-id="6081d-139">[Azure DNS][azure-dns] est un service d’hébergement pour les domaines DNS qui offre une résolution de noms à l’aide de l’infrastructure Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="6081d-139">[Azure DNS][azure-dns] is a hosting service for DNS domains, providing name resolution using Microsoft Azure infrastructure.</span></span> <span data-ttu-id="6081d-140">En hébergeant vos domaines dans Azure, vous pouvez gérer vos enregistrements DNS avec les mêmes informations d’identification, les mêmes API, les mêmes outils et la même facturation que vos autres services Azure.</span><span class="sxs-lookup"><span data-stu-id="6081d-140">By hosting your domains in Azure, you can manage your DNS records using the same credentials, APIs, tools, and billing as your other Azure services.</span></span>

## <a name="recommendations"></a><span data-ttu-id="6081d-141">Recommandations</span><span class="sxs-lookup"><span data-stu-id="6081d-141">Recommendations</span></span>

<span data-ttu-id="6081d-142">Vos exigences peuvent différer de celles de l’architecture décrite ici.</span><span class="sxs-lookup"><span data-stu-id="6081d-142">Your requirements might differ from the architecture described here.</span></span> <span data-ttu-id="6081d-143">Utilisez ces recommandations comme point de départ.</span><span class="sxs-lookup"><span data-stu-id="6081d-143">Use these recommendations as a starting point.</span></span> 

### <a name="vnet--subnets"></a><span data-ttu-id="6081d-144">Réseau virtuel / sous-réseaux</span><span class="sxs-lookup"><span data-stu-id="6081d-144">VNet / Subnets</span></span>

<span data-ttu-id="6081d-145">Quand vous créez le réseau virtuel, déterminez le nombre d’adresses IP dont vos ressources sur chaque sous-réseau ont besoin.</span><span class="sxs-lookup"><span data-stu-id="6081d-145">When you create the VNet, determine how many IP addresses your resources in each subnet require.</span></span> <span data-ttu-id="6081d-146">Spécifiez un masque de sous-réseau et une plage d’adresses de réseau virtuel suffisamment large pour les adresse IP requises, à l’aide de la notation [CIDR].</span><span class="sxs-lookup"><span data-stu-id="6081d-146">Specify a subnet mask and a VNet address range large enough for the required IP addresses, using [CIDR] notation.</span></span> <span data-ttu-id="6081d-147">Utilisez un espace d’adressage qui se trouve dans les [blocs d’adresses IP privées][private-ip-space] standard, à savoir 10.0.0.0/8, 172.16.0.0/12 et 192.168.0.0/16.</span><span class="sxs-lookup"><span data-stu-id="6081d-147">Use an address space that falls within the standard [private IP address blocks][private-ip-space], which are 10.0.0.0/8, 172.16.0.0/12, and 192.168.0.0/16.</span></span>

<span data-ttu-id="6081d-148">Choisissez une plage d’adresses qui ne chevauche pas votre réseau local, au cas où vous devriez configurer ultérieurement une passerelle entre le réseau virtuel et votre réseau local.</span><span class="sxs-lookup"><span data-stu-id="6081d-148">Choose an address range that does not overlap with your on-premises network, in case you need to set up a gateway between the VNet and your on-premise network later.</span></span> <span data-ttu-id="6081d-149">Une fois le réseau virtuel créé, vous ne pouvez plus modifier la plage d’adresses.</span><span class="sxs-lookup"><span data-stu-id="6081d-149">Once you create the VNet, you can't change the address range.</span></span>

<span data-ttu-id="6081d-150">Concevez les sous-réseaux en tenant compte des exigences en matière de sécurité et de fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="6081d-150">Design subnets with functionality and security requirements in mind.</span></span> <span data-ttu-id="6081d-151">Toutes les machines virtuelles du même niveau ou rôle doivent être placées sur le même sous-réseau, qui peut constituer une limite de sécurité.</span><span class="sxs-lookup"><span data-stu-id="6081d-151">All VMs within the same tier or role should go into the same subnet, which can be a security boundary.</span></span> <span data-ttu-id="6081d-152">Pour plus d’informations sur la conception des réseaux virtuels et des sous-réseaux, consultez [Planifier et concevoir des réseaux virtuels Azure][plan-network].</span><span class="sxs-lookup"><span data-stu-id="6081d-152">For more information about designing VNets and subnets, see [Plan and design Azure Virtual Networks][plan-network].</span></span>

### <a name="load-balancers"></a><span data-ttu-id="6081d-153">Équilibreurs de charge</span><span class="sxs-lookup"><span data-stu-id="6081d-153">Load balancers</span></span>

<span data-ttu-id="6081d-154">N’exposez pas les machines virtuelles directement à Internet. Attribuez plutôt à chaque machine virtuelle une adresse IP privée.</span><span class="sxs-lookup"><span data-stu-id="6081d-154">Do not expose the VMs directly to the Internet, but instead give each VM a private IP address.</span></span> <span data-ttu-id="6081d-155">Les clients se connectent à l’aide de l’adresse IP de l’équilibreur de charge public.</span><span class="sxs-lookup"><span data-stu-id="6081d-155">Clients connect using the IP address of the public load balancer.</span></span>

<span data-ttu-id="6081d-156">Définissez des règles d’équilibreur de charge pour diriger le trafic réseau vers les machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="6081d-156">Define load balancer rules to direct network traffic to the VMs.</span></span> <span data-ttu-id="6081d-157">Par exemple, pour activer le trafic HTTP, créez une règle qui mappe le port 80 de la configuration frontend au port 80 dans le pool d’adresses backend.</span><span class="sxs-lookup"><span data-stu-id="6081d-157">For example, to enable HTTP traffic, create a rule that maps port 80 from the front-end configuration to port 80 on the back-end address pool.</span></span> <span data-ttu-id="6081d-158">Quand un client envoie une requête HTTP au port 80, l’équilibreur de charge sélectionne une adresse IP backend en utilisant un [algorithme de hachage][load-balancer-hashing] qui inclut l’adresse IP source.</span><span class="sxs-lookup"><span data-stu-id="6081d-158">When a client sends an HTTP request to port 80, the load balancer selects a back-end IP address by using a [hashing algorithm][load-balancer-hashing] that includes the source IP address.</span></span> <span data-ttu-id="6081d-159">Ainsi, les requêtes des clients sont réparties entre toutes les machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="6081d-159">In that way, client requests are distributed across all the VMs.</span></span>

### <a name="network-security-groups"></a><span data-ttu-id="6081d-160">Groupes de sécurité réseau</span><span class="sxs-lookup"><span data-stu-id="6081d-160">Network security groups</span></span>

<span data-ttu-id="6081d-161">Utilisez des règles de groupe de sécurité réseau pour limiter le trafic entre les niveaux.</span><span class="sxs-lookup"><span data-stu-id="6081d-161">Use NSG rules to restrict traffic between tiers.</span></span> <span data-ttu-id="6081d-162">Par exemple, dans l’architecture à 3 niveaux ci-dessus, le niveau Web ne communique pas directement avec le niveau Base de données.</span><span class="sxs-lookup"><span data-stu-id="6081d-162">For example, in the 3-tier architecture shown above, the web tier does not communicate directly with the database tier.</span></span> <span data-ttu-id="6081d-163">Pour appliquer cette recommandation, le niveau Base de données doit bloquer le trafic entrant provenant du sous-réseau du niveau Web.</span><span class="sxs-lookup"><span data-stu-id="6081d-163">To enforce this, the database tier should block incoming traffic from the web tier subnet.</span></span>  

1. <span data-ttu-id="6081d-164">Interdisez tout le trafic entrant provenant du réseau virtuel.</span><span class="sxs-lookup"><span data-stu-id="6081d-164">Deny all inbound traffic from the VNet.</span></span> <span data-ttu-id="6081d-165">(Utilisez la balise `VIRTUAL_NETWORK` dans la règle.)</span><span class="sxs-lookup"><span data-stu-id="6081d-165">(Use the `VIRTUAL_NETWORK` tag in the rule.)</span></span> 
2. <span data-ttu-id="6081d-166">Autorisez le trafic entrant à partir du sous-réseau du niveau Business.</span><span class="sxs-lookup"><span data-stu-id="6081d-166">Allow inbound traffic from the business tier subnet.</span></span>  
3. <span data-ttu-id="6081d-167">Autorisez le trafic entrant à partir du sous-réseau du niveau Base de données.</span><span class="sxs-lookup"><span data-stu-id="6081d-167">Allow inbound traffic from the database tier subnet itself.</span></span> <span data-ttu-id="6081d-168">Cette règle autorise la communication entre les machines virtuelles de la base de données, qui est nécessaire pour la réplication de base de données et le basculement.</span><span class="sxs-lookup"><span data-stu-id="6081d-168">This rule allows communication between the database VMs, which is needed for database replication and failover.</span></span>
4. <span data-ttu-id="6081d-169">Autorisez le trafic SSH (port 22) à partir du sous-réseau du serveur de rebond.</span><span class="sxs-lookup"><span data-stu-id="6081d-169">Allow ssh traffic (port 22) from the jumpbox subnet.</span></span> <span data-ttu-id="6081d-170">Cette règle permet aux administrateurs de se connecter au niveau Base de données à partir du serveur de rebond.</span><span class="sxs-lookup"><span data-stu-id="6081d-170">This rule lets administrators connect to the database tier from the jumpbox.</span></span>

<span data-ttu-id="6081d-171">Créer des règles de 2 &ndash; 4 avec une priorité plus élevée que la première règle, afin qu’elles la remplacent.</span><span class="sxs-lookup"><span data-stu-id="6081d-171">Create rules 2 &ndash; 4 with higher priority than the first rule, so they override it.</span></span>

### <a name="cassandra"></a><span data-ttu-id="6081d-172">Cassandra</span><span class="sxs-lookup"><span data-stu-id="6081d-172">Cassandra</span></span>

<span data-ttu-id="6081d-173">Nous vous recommandons d’utiliser [DataStax Enterprise][datastax] pour la production, mais ces recommandations s’appliquent à toute édition de Cassandra.</span><span class="sxs-lookup"><span data-stu-id="6081d-173">We recommend [DataStax Enterprise][datastax] for production use, but these recommendations apply to any Cassandra edition.</span></span> <span data-ttu-id="6081d-174">Pour plus d’informations sur l’exécution de DataStax dans Azure, consultez le [Guide de déploiement de DataStax Enterprise pour Azure][cassandra-in-azure].</span><span class="sxs-lookup"><span data-stu-id="6081d-174">For more information on running DataStax in Azure, see [DataStax Enterprise Deployment Guide for Azure][cassandra-in-azure].</span></span> 

<span data-ttu-id="6081d-175">Placez les machines virtuelles pour un cluster Cassandra dans un groupe à haute disponibilité afin de vous assurer que les réplicas Cassandra sont répartis parmi plusieurs domaines d’erreur et domaines de mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="6081d-175">Put the VMs for a Cassandra cluster in an availability set to ensure that the Cassandra replicas are distributed across multiple fault domains and upgrade domains.</span></span> <span data-ttu-id="6081d-176">Pour plus d’informations sur les domaines d’erreur et les domaines de mise à niveau, consultez [Gérer la disponibilité des machines virtuelles][azure-availability-sets].</span><span class="sxs-lookup"><span data-stu-id="6081d-176">For more information about fault domains and upgrade domains, see [Manage the availability of virtual machines][azure-availability-sets].</span></span> 

<span data-ttu-id="6081d-177">Configurez trois domaines d’erreur (le maximum) et 18 domaines de mise à niveau par groupe à haute disponibilité.</span><span class="sxs-lookup"><span data-stu-id="6081d-177">Configure three fault domains (the maximum) per availability set and 18 upgrade domains per availability set.</span></span> <span data-ttu-id="6081d-178">Cela fournit le nombre maximal de domaines de mise à niveau qui peuvent être répartis uniformément entre les domaines d’erreur.</span><span class="sxs-lookup"><span data-stu-id="6081d-178">This provides the maximum number of upgrade domains that can still be distributed evenly across the fault domains.</span></span>   

<span data-ttu-id="6081d-179">Configurez les nœuds en mode rack.</span><span class="sxs-lookup"><span data-stu-id="6081d-179">Configure nodes in rack-aware mode.</span></span> <span data-ttu-id="6081d-180">Mappez les domaines d’erreur à des racks dans le fichier `cassandra-rackdc.properties`.</span><span class="sxs-lookup"><span data-stu-id="6081d-180">Map fault domains to racks in the `cassandra-rackdc.properties` file.</span></span>

<span data-ttu-id="6081d-181">Vous n’avez pas besoin d’équilibreur de charge devant le cluster.</span><span class="sxs-lookup"><span data-stu-id="6081d-181">You don't need a load balancer in front of the cluster.</span></span> <span data-ttu-id="6081d-182">Le client se connecte directement à un nœud dans le cluster.</span><span class="sxs-lookup"><span data-stu-id="6081d-182">The client connects directly to a node in the cluster.</span></span>

<span data-ttu-id="6081d-183">Pour la haute disponibilité, déployez Cassandra dans plusieurs régions Azure.</span><span class="sxs-lookup"><span data-stu-id="6081d-183">For high availability, deploy Cassandra in more than one Azure region.</span></span> <span data-ttu-id="6081d-184">Dans chaque région, les nœuds sont configurés en mode rack avec des domaines d’erreur et de mise à niveau, afin d’assurer la résilience à l’intérieur de la région.</span><span class="sxs-lookup"><span data-stu-id="6081d-184">Within each region, nodes are configured in rack-aware mode with fault and upgrade domains, for resiliency inside the region.</span></span>


### <a name="jumpbox"></a><span data-ttu-id="6081d-185">Serveur de rebond</span><span class="sxs-lookup"><span data-stu-id="6081d-185">Jumpbox</span></span>

<span data-ttu-id="6081d-186">N’autorisez pas l’accès SSH à partir de l’Internet public vers les machines virtuelles qui exécutent la charge de travail d’application.</span><span class="sxs-lookup"><span data-stu-id="6081d-186">Do not allow ssh access from the public Internet to the VMs that run the application workload.</span></span> <span data-ttu-id="6081d-187">Au lieu de cela, tout l’accès SSH à ces machines virtuelles doit transiter par le serveur de rebond.</span><span class="sxs-lookup"><span data-stu-id="6081d-187">Instead, all ssh access to these VMs must come through the jumpbox.</span></span> <span data-ttu-id="6081d-188">Un administrateur se connecte au serveur de rebond, puis se connecte à l’autre machine virtuelle à partir du serveur de rebond.</span><span class="sxs-lookup"><span data-stu-id="6081d-188">An administrator logs into the jumpbox, and then logs into the other VM from the jumpbox.</span></span> <span data-ttu-id="6081d-189">Le serveur de rebond autorise le trafic SSH à partir d’Internet, mais uniquement à partir d’adresses IP connues et sûres.</span><span class="sxs-lookup"><span data-stu-id="6081d-189">The jumpbox allows ssh traffic from the Internet, but only from known, safe IP addresses.</span></span>

<span data-ttu-id="6081d-190">Le serveur de rebond a des exigences de performances minimales, donc sélectionnez une machine virtuelle de petite taille.</span><span class="sxs-lookup"><span data-stu-id="6081d-190">The jumpbox has minimal performance requirements, so select a small VM size.</span></span> <span data-ttu-id="6081d-191">Créez-lui une [adresse IP publique].</span><span class="sxs-lookup"><span data-stu-id="6081d-191">Create a [public IP address] for the jumpbox.</span></span> <span data-ttu-id="6081d-192">Placez-le sur le même réseau virtuel que les autres machines virtuelles, mais sur un sous-réseau de gestion distinct.</span><span class="sxs-lookup"><span data-stu-id="6081d-192">Place the jumpbox in the same VNet as the other VMs, but in a separate management subnet.</span></span>

<span data-ttu-id="6081d-193">Pour sécuriser le serveur de rebond, ajoutez une règle de groupe de sécurité réseau qui autorise les connexions SSH provenant uniquement d’un ensemble sûr d’adresses IP publiques.</span><span class="sxs-lookup"><span data-stu-id="6081d-193">To secure the jumpbox, add an NSG rule that allows ssh connections only from a safe set of public IP addresses.</span></span> <span data-ttu-id="6081d-194">Configurez les groupes de sécurité réseau pour les autres sous-réseaux de façon à autoriser le trafic SSH provenant du sous-réseau de gestion.</span><span class="sxs-lookup"><span data-stu-id="6081d-194">Configure the NSGs for the other subnets to allow ssh traffic from the management subnet.</span></span>

## <a name="scalability-considerations"></a><span data-ttu-id="6081d-195">Considérations relatives à l’extensibilité</span><span class="sxs-lookup"><span data-stu-id="6081d-195">Scalability considerations</span></span>

<span data-ttu-id="6081d-196">[Les groupes de machines virtuelles identiques][vmss] vous aident à déployer et à gérer un ensemble de machines virtuelles identiques.</span><span class="sxs-lookup"><span data-stu-id="6081d-196">[VM scale sets][vmss] help you to deploy and manage a set of identical VMs.</span></span> <span data-ttu-id="6081d-197">Les groupes identiques prennent en charge la mise à l’échelle automatique basée sur des métriques de performances.</span><span class="sxs-lookup"><span data-stu-id="6081d-197">Scale sets support autoscaling based on performance metrics.</span></span> <span data-ttu-id="6081d-198">À mesure que la charge sur les machines virtuelles augmente, des machines virtuelles supplémentaires sont ajoutées automatiquement à l’équilibreur de charge.</span><span class="sxs-lookup"><span data-stu-id="6081d-198">As the load on the VMs increases, additional VMs are automatically added to the load balancer.</span></span> <span data-ttu-id="6081d-199">Les groupes identiques sont parfaits si vous devez rapidement faire monter en puissance des machines virtuelles, ou si vous avez besoin d’une mise à l’échelle automatique.</span><span class="sxs-lookup"><span data-stu-id="6081d-199">Consider scale sets if you need to quickly scale out VMs, or need to autoscale.</span></span>

<span data-ttu-id="6081d-200">Il existe deux façons de configurer des machines virtuelles déployées dans un groupe identique :</span><span class="sxs-lookup"><span data-stu-id="6081d-200">There are two basic ways to configure VMs deployed in a scale set:</span></span>

- <span data-ttu-id="6081d-201">Utiliser des extensions pour configurer la machine virtuelle après son provisionnement.</span><span class="sxs-lookup"><span data-stu-id="6081d-201">Use extensions to configure the VM after it is provisioned.</span></span> <span data-ttu-id="6081d-202">Avec cette approche, le démarrage des nouvelles instances de machine virtuelle peut être plus long que pour une machine virtuelle sans extension.</span><span class="sxs-lookup"><span data-stu-id="6081d-202">With this approach, new VM instances may take longer to start up than a VM with no extensions.</span></span>

- <span data-ttu-id="6081d-203">Déployer un [disque managé](/azure/storage/storage-managed-disks-overview) avec une image de disque personnalisée.</span><span class="sxs-lookup"><span data-stu-id="6081d-203">Deploy a [managed disk](/azure/storage/storage-managed-disks-overview) with a custom disk image.</span></span> <span data-ttu-id="6081d-204">Cette option peut être plus rapide à déployer.</span><span class="sxs-lookup"><span data-stu-id="6081d-204">This option may be quicker to deploy.</span></span> <span data-ttu-id="6081d-205">Toutefois, elle vous oblige à tenir l’image à jour.</span><span class="sxs-lookup"><span data-stu-id="6081d-205">However, it requires you to keep the image up to date.</span></span>

<span data-ttu-id="6081d-206">Pour plus d’informations, consultez [Considérations relatives à la conception des groupes de machines virtuelles identiques][vmss-design].</span><span class="sxs-lookup"><span data-stu-id="6081d-206">For additional considerations, see [Design considerations for scale sets][vmss-design].</span></span>

> [!TIP]
> <span data-ttu-id="6081d-207">Quand vous utilisez une solution de mise à l’échelle automatique, testez-la bien à l’avance avec des charges de travail de niveau production.</span><span class="sxs-lookup"><span data-stu-id="6081d-207">When using any autoscale solution, test it with production-level workloads well in advance.</span></span>

<span data-ttu-id="6081d-208">Chaque abonnement Azure a des limites par défaut, notamment une quantité maximale de machines virtuelles par région.</span><span class="sxs-lookup"><span data-stu-id="6081d-208">Each Azure subscription has default limits in place, including a maximum number of VMs per region.</span></span> <span data-ttu-id="6081d-209">Vous pouvez augmenter la limite en créant une demande de support.</span><span class="sxs-lookup"><span data-stu-id="6081d-209">You can increase the limit by filing a support request.</span></span> <span data-ttu-id="6081d-210">Pour plus d’informations, consultez [Abonnement Azure et limites, quotas et contraintes de service][subscription-limits].</span><span class="sxs-lookup"><span data-stu-id="6081d-210">For more information, see [Azure subscription and service limits, quotas, and constraints][subscription-limits].</span></span>

## <a name="availability-considerations"></a><span data-ttu-id="6081d-211">Considérations relatives à la disponibilité</span><span class="sxs-lookup"><span data-stu-id="6081d-211">Availability considerations</span></span>

<span data-ttu-id="6081d-212">Si vous n’utilisez pas de groupes identiques de machines virtuelles, placez les machines virtuelles dans le même niveau au sein d’un groupe à haute disponibilité.</span><span class="sxs-lookup"><span data-stu-id="6081d-212">If you are not using VM scale sets, put VMs in the same tier into an availability set.</span></span> <span data-ttu-id="6081d-213">Créez au moins deux machines virtuelles dans le groupe à haute disponibilité, afin de prendre en charge le [contrat SLA de disponibilité pour les machines virtuelles Azure][vm-sla].</span><span class="sxs-lookup"><span data-stu-id="6081d-213">Create at least two VMs in the availability set to support the [availability SLA for Azure VMs][vm-sla].</span></span> <span data-ttu-id="6081d-214">Pour plus d’informations, consultez [Gestion de la disponibilité des machines virtuelles][availability-set].</span><span class="sxs-lookup"><span data-stu-id="6081d-214">For more information, see [Manage the availability of virtual machines][availability-set].</span></span> 

<span data-ttu-id="6081d-215">L’équilibreur de charge utilise des [sondes d’intégrité][health-probes] pour surveiller la disponibilité des instances de machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="6081d-215">The load balancer uses [health probes][health-probes] to monitor the availability of VM instances.</span></span> <span data-ttu-id="6081d-216">Si une sonde ne peut pas atteindre une instance dans le délai imparti, l’équilibreur de charge cesse d’envoyer le trafic vers cette machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="6081d-216">If a probe cannot reach an instance within a timeout period, the load balancer stops sending traffic to that VM.</span></span> <span data-ttu-id="6081d-217">Toutefois, il continue à sonder, et si la machine virtuelle redevient disponible il reprend l’envoi du trafic vers cette machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="6081d-217">However, the load balancer will continue to probe, and if the VM becomes available again, the load balancer resumes sending traffic to that VM.</span></span>

<span data-ttu-id="6081d-218">Voici quelques recommandations concernant les sondes d’intégrité d’équilibreur de charge :</span><span class="sxs-lookup"><span data-stu-id="6081d-218">Here are some recommendations on load balancer health probes:</span></span>

* <span data-ttu-id="6081d-219">Les sondes peuvent tester le protocole TCP ou HTTP.</span><span class="sxs-lookup"><span data-stu-id="6081d-219">Probes can test either HTTP or TCP.</span></span> <span data-ttu-id="6081d-220">Si vos machines virtuelles exécutent un serveur HTTP, créez une sonde HTTP.</span><span class="sxs-lookup"><span data-stu-id="6081d-220">If your VMs run an HTTP server, create an HTTP probe.</span></span> <span data-ttu-id="6081d-221">Sinon, créez une sonde TCP.</span><span class="sxs-lookup"><span data-stu-id="6081d-221">Otherwise create a TCP probe.</span></span>
* <span data-ttu-id="6081d-222">Pour une sonde HTTP, spécifiez le chemin d’un point de terminaison HTTP.</span><span class="sxs-lookup"><span data-stu-id="6081d-222">For an HTTP probe, specify the path to an HTTP endpoint.</span></span> <span data-ttu-id="6081d-223">La sonde vérifie la présence d’une réponse HTTP 200 à partir de ce chemin.</span><span class="sxs-lookup"><span data-stu-id="6081d-223">The probe checks for an HTTP 200 response from this path.</span></span> <span data-ttu-id="6081d-224">Il peut s’agir du chemin racine (« / ») ou d’un point de terminaison de surveillance de l’intégrité qui implémente une logique personnalisée afin de vérifier l’intégrité de l’application.</span><span class="sxs-lookup"><span data-stu-id="6081d-224">This can be the root path ("/"), or a health-monitoring endpoint that implements some custom logic to check the health of the application.</span></span> <span data-ttu-id="6081d-225">Le point de terminaison doit autoriser les requêtes HTTP anonymes.</span><span class="sxs-lookup"><span data-stu-id="6081d-225">The endpoint must allow anonymous HTTP requests.</span></span>
* <span data-ttu-id="6081d-226">La sonde est envoyée à partir d’une [adresse IP connue][health-probe-ip], 168.63.129.16.</span><span class="sxs-lookup"><span data-stu-id="6081d-226">The probe is sent from a [known IP address][health-probe-ip], 168.63.129.16.</span></span> <span data-ttu-id="6081d-227">Veillez à ne bloquer le trafic vers ou à partir de cette adresse IP dans aucune stratégie de pare-feu ou règle de groupe de sécurité réseau.</span><span class="sxs-lookup"><span data-stu-id="6081d-227">Make sure you don't block traffic to or from this IP address in any firewall policies or network security group (NSG) rules.</span></span>
* <span data-ttu-id="6081d-228">Utilisez des [journaux de sonde d’intégrité][health-probe-log] pour afficher l’état des sondes d’intégrité.</span><span class="sxs-lookup"><span data-stu-id="6081d-228">Use [health probe logs][health-probe-log] to view the status of the health probes.</span></span> <span data-ttu-id="6081d-229">Activez la journalisation dans le portail Azure pour chaque équilibreur de charge.</span><span class="sxs-lookup"><span data-stu-id="6081d-229">Enable logging in the Azure portal for each load balancer.</span></span> <span data-ttu-id="6081d-230">Les journaux sont écrits dans le Stockage Blob Azure.</span><span class="sxs-lookup"><span data-stu-id="6081d-230">Logs are written to Azure Blob storage.</span></span> <span data-ttu-id="6081d-231">Ils indiquent combien de machines virtuelles du côté backend ne reçoivent pas de trafic réseau à cause d’échecs de réponses de sonde.</span><span class="sxs-lookup"><span data-stu-id="6081d-231">The logs show how many VMs on the back end are not receiving network traffic due to failed probe responses.</span></span>

<span data-ttu-id="6081d-232">Pour le cluster Cassandra, les scénarios de basculement à prendre en compte dépendent des niveaux de cohérence utilisés par l’application, ainsi que du nombre de réplicas utilisés.</span><span class="sxs-lookup"><span data-stu-id="6081d-232">For the Cassandra cluster, the failover scenarios to consider depend on the consistency levels used by the application, as well as the number of replicas used.</span></span> <span data-ttu-id="6081d-233">Pour plus d’informations sur l’utilisation et les niveaux de cohérence dans Cassandra, consultez [Configuring data consistency ][cassandra-consistency] (Configuration de la cohérence des données) et [Cassandra: How many nodes are talked to with Quorum?][cassandra-consistency-usage] (Cassandra : quel est le nombre de nœuds en communication avec le quorum ?)</span><span class="sxs-lookup"><span data-stu-id="6081d-233">For consistency levels and usage in Cassandra, see [Configuring data consistency][cassandra-consistency] and [Cassandra: How many nodes are talked to with Quorum?][cassandra-consistency-usage]</span></span> <span data-ttu-id="6081d-234">La disponibilité des données dans Cassandra est déterminée par le niveau de cohérence utilisé par l’application et le mécanisme de réplication.</span><span class="sxs-lookup"><span data-stu-id="6081d-234">Data availability in Cassandra is determined by the consistency level used by the application and the replication mechanism.</span></span> <span data-ttu-id="6081d-235">Pour plus d’informations sur la réplication dans Cassandra, consultez [Data Replication in NoSQL Databases Explained][cassandra-replication] (Explication de la réplication des données dans les bases de données NoSQL).</span><span class="sxs-lookup"><span data-stu-id="6081d-235">For replication in Cassandra, see [Data Replication in NoSQL Databases Explained][cassandra-replication].</span></span>

## <a name="security-considerations"></a><span data-ttu-id="6081d-236">Considérations relatives à la sécurité</span><span class="sxs-lookup"><span data-stu-id="6081d-236">Security considerations</span></span>

<span data-ttu-id="6081d-237">Les réseaux virtuels sont une limite d’isolation du trafic dans Azure.</span><span class="sxs-lookup"><span data-stu-id="6081d-237">Virtual networks are a traffic isolation boundary in Azure.</span></span> <span data-ttu-id="6081d-238">Les machines virtuelles d’un réseau virtuel ne peuvent pas communiquer directement avec celles d’un autre réseau virtuel.</span><span class="sxs-lookup"><span data-stu-id="6081d-238">VMs in one VNet cannot communicate directly with VMs in a different VNet.</span></span> <span data-ttu-id="6081d-239">Les machines virtuelles situées sur un même réseau virtuel peuvent communiquer, sauf si vous créez des [groupes de sécurité réseau][nsg] pour limiter le trafic.</span><span class="sxs-lookup"><span data-stu-id="6081d-239">VMs within the same VNet can communicate, unless you create [network security groups][nsg] (NSGs) to restrict traffic.</span></span> <span data-ttu-id="6081d-240">Pour plus d’informations, consultez [Services cloud Microsoft et sécurité réseau][network-security].</span><span class="sxs-lookup"><span data-stu-id="6081d-240">For more information, see [Microsoft cloud services and network security][network-security].</span></span>

<span data-ttu-id="6081d-241">Pour le trafic Internet entrant, les règles d’équilibreur de charge définissent le trafic qui peut atteindre le backend.</span><span class="sxs-lookup"><span data-stu-id="6081d-241">For incoming Internet traffic, the load balancer rules define which traffic can reach the back end.</span></span> <span data-ttu-id="6081d-242">Toutefois, les règles d’équilibreur de charge ne prennent pas en charge les listes de sécurité IP. Par conséquent, si vous souhaitez ajouter certaines adresses IP publiques à une liste verte, ajoutez un groupe de sécurité réseau au sous-réseau.</span><span class="sxs-lookup"><span data-stu-id="6081d-242">However, load balancer rules don't support IP safe lists, so if you want to add certain public IP addresses to a safe list, add an NSG to the subnet.</span></span>

<span data-ttu-id="6081d-243">Ajoutez une appliance virtuelle réseau (NVA) pour créer un réseau de périmètre (DMZ) entre Internet et le réseau virtuel Azure.</span><span class="sxs-lookup"><span data-stu-id="6081d-243">Consider adding a network virtual appliance (NVA) to create a DMZ between the Internet and the Azure virtual network.</span></span> <span data-ttu-id="6081d-244">NVA est un terme générique décrivant une appliance virtuelle qui peut effectuer des tâches liées au réseau, telles que pare-feu, inspection des paquets, audit et routage personnalisé.</span><span class="sxs-lookup"><span data-stu-id="6081d-244">NVA is a generic term for a virtual appliance that can perform network-related tasks, such as firewall, packet inspection, auditing, and custom routing.</span></span> <span data-ttu-id="6081d-245">Pour plus d’informations, consultez [Implémentation d’une zone DMZ entre Azure et Internet][dmz].</span><span class="sxs-lookup"><span data-stu-id="6081d-245">For more information, see [Implementing a DMZ between Azure and the Internet][dmz].</span></span>

<span data-ttu-id="6081d-246">Chiffrez les données sensibles au repos et utilisez [Azure Key Vault][azure-key-vault] pour gérer les clés de chiffrement de base de données.</span><span class="sxs-lookup"><span data-stu-id="6081d-246">Encrypt sensitive data at rest and use [Azure Key Vault][azure-key-vault] to manage the database encryption keys.</span></span> <span data-ttu-id="6081d-247">Key Vault peut stocker des clés de chiffrement dans des modules de sécurité matériel (HSM).</span><span class="sxs-lookup"><span data-stu-id="6081d-247">Key Vault can store encryption keys in hardware security modules (HSMs).</span></span> <span data-ttu-id="6081d-248">Il est également recommandé pour stocker des secrets de l’application, comme des chaînes de connexion de base de données, dans le coffre de clés.</span><span class="sxs-lookup"><span data-stu-id="6081d-248">It's also recommended to store application secrets, such as database connection strings, in Key Vault.</span></span>

## <a name="deploy-the-solution"></a><span data-ttu-id="6081d-249">Déployer la solution</span><span class="sxs-lookup"><span data-stu-id="6081d-249">Deploy the solution</span></span>

<span data-ttu-id="6081d-250">Un déploiement pour cette architecture de référence est disponible sur [GitHub][github-folder].</span><span class="sxs-lookup"><span data-stu-id="6081d-250">A deployment for this reference architecture is available on [GitHub][github-folder].</span></span> 

### <a name="prerequisites"></a><span data-ttu-id="6081d-251">Prérequis</span><span class="sxs-lookup"><span data-stu-id="6081d-251">Prerequisites</span></span>

[!INCLUDE [ref-arch-prerequisites.md](../../../includes/ref-arch-prerequisites.md)]

### <a name="deploy-the-solution-using-azbb"></a><span data-ttu-id="6081d-252">Déployer la solution à l’aide d’azbb</span><span class="sxs-lookup"><span data-stu-id="6081d-252">Deploy the solution using azbb</span></span>

<span data-ttu-id="6081d-253">Pour déployer les machines virtuelles Linux pour une architecture de référence d’application multiniveau, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="6081d-253">To deploy the Linux VMs for an N-tier application reference architecture, follow these steps:</span></span>

1. <span data-ttu-id="6081d-254">Accédez au dossier `virtual-machines\n-tier-linux` pour rechercher le référentiel que vous avez cloné à l’étape 1 des conditions préalables ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="6081d-254">Navigate to the `virtual-machines\n-tier-linux` folder for the repository you cloned in step 1 of the pre-requisites above.</span></span>

2. <span data-ttu-id="6081d-255">Le fichier de paramètres spécifie un nom d’utilisateur et un mot de passe administrateur par défaut pour chaque machine virtuelle dans le déploiement.</span><span class="sxs-lookup"><span data-stu-id="6081d-255">The parameter file specifies a default adminstrator user name and password for each VM in the deployment.</span></span> <span data-ttu-id="6081d-256">Vous devez les modifier avant de déployer l’architecture de référence.</span><span class="sxs-lookup"><span data-stu-id="6081d-256">You must change these before you deploy the reference architecture.</span></span> <span data-ttu-id="6081d-257">Ouvrez le fichier `n-tier-linux.json` et remplacez chaque champ **adminUsername** et **adminPassword** par vos nouveaux paramètres.</span><span class="sxs-lookup"><span data-stu-id="6081d-257">Open the `n-tier-linux.json` file and replace each **adminUsername** and **adminPassword** field with your new settings.</span></span>   <span data-ttu-id="6081d-258">Enregistrez le fichier .</span><span class="sxs-lookup"><span data-stu-id="6081d-258">Save the file.</span></span>

3. <span data-ttu-id="6081d-259">Déployez l’architecture de référence à l’aide de l’outil de ligne de commande **azbb**, comme indiqué ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="6081d-259">Deploy the reference architecture using the **azbb** command line tool as shown below.</span></span>

   ```bash
   azbb -s <your subscription_id> -g <your resource_group_name> -l <azure region> -p n-tier-linux.json --deploy
   ```

<span data-ttu-id="6081d-260">Pour plus d’informations sur le déploiement de cet exemple d’architecture de référence à l’aide des blocs de construction Azure, visitez notre [référentiel GitHub][git].</span><span class="sxs-lookup"><span data-stu-id="6081d-260">For more information on deploying this sample reference architecture using Azure Building Blocks, visit the [GitHub repository][git].</span></span>

<!-- links -->
[dmz]: ../dmz/secure-vnet-dmz.md
[multi-vm]: ./multi-vm.md
[naming conventions]: /azure/guidance/guidance-naming-conventions
[azbb]: https://github.com/mspnp/template-building-blocks/wiki/Install-Azure-Building-Blocks
[azure-administration]: /azure/automation/automation-intro
[azure-availability-sets]: /azure/virtual-machines/virtual-machines-linux-manage-availability
[azure-cli-2]: https://docs.microsoft.com/cli/azure/install-azure-cli?view=azure-cli-latest
[azure-dns]: /azure/dns/dns-overview
[azure-key-vault]: https://azure.microsoft.com/services/key-vault

[hôte bastion]: https://en.wikipedia.org/wiki/Bastion_host
[bastion host]: https://en.wikipedia.org/wiki/Bastion_host
[cassandra-in-azure]: https://academy.datastax.com/resources/deployment-guide-azure
[cassandra-consistency]: http://docs.datastax.com/en/cassandra/2.0/cassandra/dml/dml_config_consistency_c.html
[cassandra-replication]: http://www.planetcassandra.org/data-replication-in-nosql-databases-explained/
[cassandra-consistency-usage]: https://medium.com/@foundev/cassandra-how-many-nodes-are-talked-to-with-quorum-also-should-i-use-it-98074e75d7d5#.b4pb4alb2

[cidr]: https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing
[chef]: https://www.chef.io/solutions/azure/
[datastax]: http://www.datastax.com/products/datastax-enterprise
[git]: https://github.com/mspnp/template-building-blocks
[github-folder]: https://github.com/mspnp/reference-architectures/tree/master/virtual-machines/n-tier-linux
[lb-external-create]: /azure/load-balancer/load-balancer-get-started-internet-portal
[lb-internal-create]: /azure/load-balancer/load-balancer-get-started-ilb-arm-portal
[load-balancer-external]: /azure/load-balancer/load-balancer-internet-overview
[load-balancer-internal]: /azure/load-balancer/load-balancer-internal-overview
[nsg]: /azure/virtual-network/virtual-networks-nsg
[nsg-rules]: /azure/azure-resource-manager/best-practices-resource-manager-security#network-security-groups
[operations-management-suite]: https://www.microsoft.com/server-cloud/operations-management-suite/overview.aspx
[plan-network]: /azure/virtual-network/virtual-network-vnet-plan-design-arm
[private-ip-space]: https://en.wikipedia.org/wiki/Private_network#Private_IPv4_address_spaces
[adresse IP publique]: /azure/virtual-network/virtual-network-ip-addresses-overview-arm
[public IP address]: /azure/virtual-network/virtual-network-ip-addresses-overview-arm
[puppet]: https://puppetlabs.com/blog/managing-azure-virtual-machines-puppet
[ref-arch-repo]: https://github.com/mspnp/reference-architectures
[vm-sla]: https://azure.microsoft.com/support/legal/sla/virtual-machines
[vnet faq]: /azure/virtual-network/virtual-networks-faq
[visio-download]: https://archcenter.blob.core.windows.net/cdn/vm-reference-architectures.vsdx
[Nagios]: https://www.nagios.org/
[Zabbix]: http://www.zabbix.com/
[Icinga]: http://www.icinga.org/
[0]: ./images/n-tier-cassandra.png "Architecture multiniveau à l’aide de Microsoft Azure"

[resource-manager-overview]: /azure/azure-resource-manager/resource-group-overview 
[vmss]: /azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview
[load-balancer]: /azure/load-balancer/load-balancer-get-started-internet-arm-cli
[load-balancer-hashing]: /azure/load-balancer/load-balancer-overview#load-balancer-features
[vmss-design]: /azure/virtual-machine-scale-sets/virtual-machine-scale-sets-design-overview
[subscription-limits]: /azure/azure-subscription-service-limits
[availability-set]: /azure/virtual-machines/virtual-machines-windows-manage-availability
[health-probes]: /azure/load-balancer/load-balancer-overview#load-balancer-features
[health-probe-log]: /azure/load-balancer/load-balancer-monitor-log
[health-probe-ip]: /azure/virtual-network/virtual-networks-nsg#special-rules
[network-security]: /azure/best-practices-network-security