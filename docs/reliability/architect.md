---
title: Conception d’applications Azure pour la résilience et disponibilité
description: Générer la résilience et disponibilité dans une application Azure
author: MikeWasson
ms.date: 04/10/2019
ms.topic: article
ms.service: architecture-center
ms.subservice: cloud-design-principles
ms.openlocfilehash: ee4bb5b4a85e48fe0ff017297c31823c93a48f04
ms.sourcegitcommit: 579c39ff4b776704ead17a006bf24cd4cdc65edd
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/17/2019
ms.locfileid: "59646565"
---
# <a name="architecting-azure-applications-for-resiliency-and-availability"></a><span data-ttu-id="4f7a7-103">Conception d’applications Azure pour la résilience et disponibilité</span><span class="sxs-lookup"><span data-stu-id="4f7a7-103">Architecting Azure applications for resiliency and availability</span></span>

<span data-ttu-id="4f7a7-104">Une fois que vous avez développé la configuration requise pour votre application, l’étape suivante consiste à intégrer la résilience et disponibilité.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-104">After you've developed the requirements for your application, the next step is to build resiliency and availability into it.</span></span> <span data-ttu-id="4f7a7-105">Ces qualités ne peut pas être ajoutées à la fin &mdash; vous devez les concevoir l’architecture.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-105">These qualities can't be added at the end &mdash; you must design them into the architecture.</span></span>

## <a name="conduct-a-failure-mode-analysis"></a><span data-ttu-id="4f7a7-106">Effectuer une analyse du mode d’échec</span><span class="sxs-lookup"><span data-stu-id="4f7a7-106">Conduct a failure mode analysis</span></span>

<span data-ttu-id="4f7a7-107">*Analyse du mode d’échec* (FMA) génère la résilience dans un système en identifiant les points de défaillance possibles et en définissant la façon dont l’application répond à ces défaillances.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-107">*Failure mode analysis* (FMA) builds resiliency into a system by identifying possible failure points and defining how the application responds to those failures.</span></span> <span data-ttu-id="4f7a7-108">La FMA doit faire partie des phases de conception et l’architecture, afin de la récupération après défaillance est intégrée au système à partir du début.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-108">The FMA should be part of the architecture and design phases, so failure recovery is built into the system from the beginning.</span></span> <span data-ttu-id="4f7a7-109">Les objectifs d’une analyse FMA sont de :</span><span class="sxs-lookup"><span data-stu-id="4f7a7-109">The goals of an FMA are to:</span></span>

- <span data-ttu-id="4f7a7-110">Déterminer les types d’échecs qu’une application peut rencontrer et comment l’application détecte ces échecs.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-110">Determine what types of failures an application might experience and how the application detects those failures.</span></span>
- <span data-ttu-id="4f7a7-111">Capturer les effets de chaque type de défaillance potentiels et déterminer comment l’application répond.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-111">Capture the potential effects of each type of failure and determine how the app responds.</span></span>
- <span data-ttu-id="4f7a7-112">Planifier pour la journalisation et surveillance de l’échec et identifier les stratégies de récupération.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-112">Plan for logging and monitoring the failure and identify recovery strategies.</span></span>

<span data-ttu-id="4f7a7-113">Voici quelques exemples de modes d’échec et les stratégies de détection pour un point de défaillance spécifique &mdash; un appel à un service web externe :</span><span class="sxs-lookup"><span data-stu-id="4f7a7-113">Here are some examples of failure modes and detection strategies for a specific failure point &mdash; a call to an external web service:</span></span>

| <span data-ttu-id="4f7a7-114">Mode d’échec</span><span class="sxs-lookup"><span data-stu-id="4f7a7-114">Failure mode</span></span>           | <span data-ttu-id="4f7a7-115">Stratégie de détection</span><span class="sxs-lookup"><span data-stu-id="4f7a7-115">Detection strategy</span></span>           |
|------------------------|------------------------------|
| <span data-ttu-id="4f7a7-116">Le service est indisponible</span><span class="sxs-lookup"><span data-stu-id="4f7a7-116">Service is unavailable</span></span> | <span data-ttu-id="4f7a7-117">HTTP 5xx</span><span class="sxs-lookup"><span data-stu-id="4f7a7-117">HTTP 5xx</span></span>                     |
| <span data-ttu-id="4f7a7-118">Limitation</span><span class="sxs-lookup"><span data-stu-id="4f7a7-118">Throttling</span></span>             | <span data-ttu-id="4f7a7-119">HTTP 429 (Trop de demandes)</span><span class="sxs-lookup"><span data-stu-id="4f7a7-119">HTTP 429 (Too Many Requests)</span></span> |
| <span data-ttu-id="4f7a7-120">Authentication</span><span class="sxs-lookup"><span data-stu-id="4f7a7-120">Authentication</span></span>         | <span data-ttu-id="4f7a7-121">HTTP 401 (Non autorisé)</span><span class="sxs-lookup"><span data-stu-id="4f7a7-121">HTTP 401 (Unauthorized)</span></span>      |
| <span data-ttu-id="4f7a7-122">Temps de réponse lent</span><span class="sxs-lookup"><span data-stu-id="4f7a7-122">Slow response</span></span>          | <span data-ttu-id="4f7a7-123">Délai d’expiration de la requête</span><span class="sxs-lookup"><span data-stu-id="4f7a7-123">Request times out</span></span>            |

<span data-ttu-id="4f7a7-124">Pour plus d’informations sur le processus FMA, avec des recommandations spécifiques pour Azure, consultez [analyse du mode d’échec](../resiliency/failure-mode-analysis.md).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-124">For more information about the FMA process, with specific recommendations for Azure, see [Failure mode analysis](../resiliency/failure-mode-analysis.md).</span></span>

## <a name="plan-for-redundancy"></a><span data-ttu-id="4f7a7-125">Plan pour la redondance</span><span class="sxs-lookup"><span data-stu-id="4f7a7-125">Plan for redundancy</span></span>

<span data-ttu-id="4f7a7-126">Échecs de varient dans la portée de l’impact.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-126">Failures vary in scope of impact.</span></span> <span data-ttu-id="4f7a7-127">Certaines défaillances matérielles, telles que d’un disque défectueux, affectent un seul ordinateur hôte.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-127">Some hardware failures, such as a failed disk, affect a single host machine.</span></span> <span data-ttu-id="4f7a7-128">Un commutateur réseau défaillant peut affecter un rack de serveur entier.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-128">A failed network switch could affect an entire server rack.</span></span> <span data-ttu-id="4f7a7-129">Échecs moins courants, tels que la perte de puissance, interrompent un centre de données entier.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-129">Less common failures, such as loss of power, disrupt a whole datacenter.</span></span> <span data-ttu-id="4f7a7-130">Exceptionnellement, une région entière deviendrait indisponible.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-130">Rarely, an entire region becomes unavailable.</span></span>

<span data-ttu-id="4f7a7-131">Redondance est une façon de rendre une application résiliente.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-131">Redundancy is one way to make an application resilient.</span></span> <span data-ttu-id="4f7a7-132">Le niveau de redondance dépend des besoins de votre entreprise &mdash; pas chaque application a besoin de redondance entre les régions pour vous prémunir contre une panne régionale.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-132">The level of redundancy depends on your business requirements &mdash; not every application needs redundancy across regions to guard against a regional outage.</span></span> <span data-ttu-id="4f7a7-133">En règle générale, il existe un compromis entre redondance et la fiabilité par rapport aux coûts plus élevée et la complexité.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-133">In general, there's a tradeoff between greater redundancy and reliability versus higher costs and complexity.</span></span>

### <a name="review-azure-redundancy-features"></a><span data-ttu-id="4f7a7-134">Passez en revue les fonctionnalités de redondance Azure</span><span class="sxs-lookup"><span data-stu-id="4f7a7-134">Review Azure redundancy features</span></span>

<span data-ttu-id="4f7a7-135">Azure propose plusieurs fonctionnalités de redondance à tous les niveaux de défaillance, à partir d’une machine virtuelle (VM) individuelle dans une région entière.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-135">Azure has a number of redundancy features at every level of failure, from an individual virtual machine (VM) to an entire region.</span></span>

- <span data-ttu-id="4f7a7-136">**Unique des machines virtuelles** ont un [contrat de niveau service (SLA)](https://azure.microsoft.com/support/legal/sla/virtual-machines) fournie par Azure.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-136">**Single VMs** have an [uptime service level agreement (SLA)](https://azure.microsoft.com/support/legal/sla/virtual-machines) provided by Azure.</span></span> <span data-ttu-id="4f7a7-137">(La machine virtuelle doit utiliser le stockage premium pour tous les disques de système d’exploitation et disques de données). Bien que vous puissiez obtenir un contrat supérieur en exécutant deux machines virtuelles ou plus, une machine virtuelle unique peut présenter une fiabilité suffisante pour certaines charges de travail.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-137">(The VM must use premium storage for all operating system disks and data disks.) Although you can get a higher SLA by running two or more VMs, a single VM may be reliable enough for some workloads.</span></span> <span data-ttu-id="4f7a7-138">Toutefois, pour les charges de travail de production, nous vous recommandons d’utiliser au moins deux machines virtuelles pour la redondance.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-138">For production workloads, however, we recommend using two or more VMs for redundancy.</span></span>
- <span data-ttu-id="4f7a7-139">**Groupes à haute disponibilité** protègent contre les défaillances matérielles localisées, telle qu’un disque ou réseau défaillant du commutateur.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-139">**Availability sets** protect against localized hardware failures, such as a disk or network switch failing.</span></span> <span data-ttu-id="4f7a7-140">Machines virtuelles dans un groupe à haute disponibilité sont réparties entre jusqu'à trois *domaines d’erreur*.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-140">VMs in an availability set are distributed across up to three *fault domains*.</span></span> <span data-ttu-id="4f7a7-141">Des domaines d’erreur définit un groupe de machines virtuelles qui partagent un common power source et un commutateur réseau.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-141">A fault domains defines a group of VMs that share a common power source and network switch.</span></span> <span data-ttu-id="4f7a7-142">Si une défaillance matérielle affecte un domaine d’erreur, le trafic réseau est acheminé vers les machines virtuelles dans les autres domaines d’erreur.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-142">If a hardware failure affects one fault domain, network traffic is routed to VMs in the other fault domains.</span></span> <span data-ttu-id="4f7a7-143">Pour plus d’informations sur les groupes à haute disponibilité, consultez [gérer la disponibilité des machines virtuelles Windows Azure](/azure/virtual-machines/windows/manage-availability).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-143">For more information about availability sets, see [Manage the availability of Windows virtual machines in Azure](/azure/virtual-machines/windows/manage-availability).</span></span>
- <span data-ttu-id="4f7a7-144">**Zones de disponibilité** sont physiquement séparées des zones dans une région Azure.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-144">**Availability Zones** are physically separate zones within an Azure region.</span></span> <span data-ttu-id="4f7a7-145">Chaque zone de disponibilité possède une source d’alimentation, un réseau et un système de refroidissement propres.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-145">Each Availability Zone has a distinct power source, network, and cooling.</span></span> <span data-ttu-id="4f7a7-146">Déploiement de machines virtuelles entre des Zones de disponibilité permet de protéger une application contre les défaillances de centre de données à l’échelle.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-146">Deploying VMs across Availability Zones helps to protect an application against datacenter-wide failures.</span></span> <span data-ttu-id="4f7a7-147">Les régions ne prennent pas toutes en charge les zones de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-147">Not all regions support Availability Zones.</span></span> <span data-ttu-id="4f7a7-148">Pour obtenir la liste des régions et services pris en charge, consultez [Que sont les zones de disponibilité dans Azure ?](/azure/availability-zones/az-overview).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-148">For a list of supported regions and services, see [What are Availability Zones in Azure?](/azure/availability-zones/az-overview).</span></span>

    <span data-ttu-id="4f7a7-149">Si vous envisagez d’utiliser des Zones de disponibilité dans votre déploiement, tout d’abord vérifier que votre architecture d’application et de la base de code prend en charge cette configuration.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-149">If you plan to use Availability Zones in your deployment, first validate that your application architecture and codebase support this configuration.</span></span> <span data-ttu-id="4f7a7-150">Si vous déployez des logiciels commerciaux, consulter le fournisseur de logiciels et les tester correctement avant de déployer en production.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-150">If you deploy commercial software, consult with the software vendor and test adequately before deploying into production.</span></span> <span data-ttu-id="4f7a7-151">Une application doit maintenir l’état et éviter la perte de données en cas de panne dans la zone configurée.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-151">An application must maintain state and prevent loss of data during an outage within the configured zone.</span></span> <span data-ttu-id="4f7a7-152">L’application doit prendre en charge en cours d’exécution dans une infrastructure élastique et distribuée sans composants d’infrastructure codées en dur.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-152">The application must support running in an elastic and distributed infrastructure with no hard-coded infrastructure components.</span></span>
- <span data-ttu-id="4f7a7-153">**Azure Site Recovery** a besoin de Machines virtuelles vers une autre région Azure pour la continuité d’activité (BC) et de récupération d’urgence (DR) réplique.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-153">**Azure Site Recovery** replicates Azure Virtual Machines to another Azure region for business continuity (BC) and disaster recovery (DR) needs.</span></span> <span data-ttu-id="4f7a7-154">Vous pouvez effectuer des exercices de récupération d’urgence pour vous assurer que les besoins de conformité.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-154">You can conduct periodic DR drills to ensure that you meet the compliance needs.</span></span> <span data-ttu-id="4f7a7-155">La machine virtuelle est répliquée avec les paramètres spécifiés dans la région sélectionnée afin que vous puissiez récupérer vos applications en cas de panne dans la région source.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-155">The VM is replicated with the specified settings to the selected region so you can recover your applications in the event of outages in the source region.</span></span> <span data-ttu-id="4f7a7-156">Pour plus d’informations, consultez [configurer la récupération d’urgence vers une région Azure secondaire pour une machine virtuelle Azure](/azure/site-recovery/azure-to-azure-quickstart/).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-156">For more information, see [Set up disaster recovery to a secondary Azure region for an Azure VM](/azure/site-recovery/azure-to-azure-quickstart/).</span></span>

    <span data-ttu-id="4f7a7-157">Pendant le test, vérifiez que le *objectif de délai de récupération* (RTO) et *objectif de point de récupération* (RPO) répondent à vos besoins.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-157">During testing, verify that the *recovery time objective* (RTO) and *recovery point objective* (RPO) meet your needs.</span></span> <span data-ttu-id="4f7a7-158">RTO est la durée maximale, qu'une application n’est pas disponible après un incident et RPO est la durée maximale de perte de données lors d’un sinistre.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-158">RTO is the maximum time an application is unavailable after an incident, and RPO is the maximum duration of data loss during a disaster.</span></span>
- <span data-ttu-id="4f7a7-159">**Régions jumelées** sont créés à l’aide d’Azure Traffic Manager pour répartir le trafic Internet à différentes régions, la protection d’une application contre une panne régionale.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-159">**Paired regions** are created using Azure Traffic Manager to distribute Internet traffic to different regions, protecting an application against a regional outage.</span></span> <span data-ttu-id="4f7a7-160">Chaque région Azure est jumelée à une autre région.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-160">Each Azure region is paired with another region.</span></span> <span data-ttu-id="4f7a7-161">Ensemble, ces régions forment un [ *paire régionale*](/azure/best-practices-availability-paired-regions).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-161">Together, these regions form a [*regional pair*](/azure/best-practices-availability-paired-regions).</span></span> <span data-ttu-id="4f7a7-162">Pour satisfaire les exigences de résidence de données d’impôts et la loi jumelée mise en œuvre, les paires régionales sont situés dans la même zone géographique (à l’exception du sud du Brésil).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-162">To meet data residency requirements for tax and law enforcement jurisdiction purposes, regional pairs are located within the same geography (with the exception of Brazil South).</span></span>

    <span data-ttu-id="4f7a7-163">Pour améliorer la résilience des applications, Azure sérialise les mises à jour de plateforme (maintenance planifiée) entre chaque paire de régions, pour qu’une seule région jumelée est mis à jour à la fois.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-163">To improve application resiliency, Azure serializes platform updates (planned maintenance) across each region pair, so only one paired region is updated at a time.</span></span>
- <span data-ttu-id="4f7a7-164">Lorsque vous concevez une application multirégion, prenez en compte que la latence du réseau entre les régions est supérieure au sein d’une région.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-164">When you design a multiregion application, take into account that network latency across regions is higher than within a region.</span></span> <span data-ttu-id="4f7a7-165">Par exemple, si vous répliquez une base de données pour permettre le basculement, utilisez réplication synchrone des données au sein d’une région, mais la réplication asynchrone des données dans différentes régions.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-165">For example, if you replicate a database to enable failover, use synchronous data replication within a region but asynchronous data replication across regions.</span></span>

<span data-ttu-id="4f7a7-166">Le tableau suivant compare les facteurs de redondance entre plusieurs stratégies de résilience :</span><span class="sxs-lookup"><span data-stu-id="4f7a7-166">The following table compares the redundancy factors across several resiliency strategies:</span></span>

| &nbsp; | <span data-ttu-id="4f7a7-167">Groupe à haute disponibilité</span><span class="sxs-lookup"><span data-stu-id="4f7a7-167">Availability set</span></span> | <span data-ttu-id="4f7a7-168">Zone de disponibilité</span><span class="sxs-lookup"><span data-stu-id="4f7a7-168">Availability Zone</span></span> | <span data-ttu-id="4f7a7-169">Azure Site Recovery/Région jumelée</span><span class="sxs-lookup"><span data-stu-id="4f7a7-169">Azure Site Recovery/Paired region</span></span> |
|--------|------------------|-------------------|-----------------------------------|
| <span data-ttu-id="4f7a7-170">Étendue de la défaillance</span><span class="sxs-lookup"><span data-stu-id="4f7a7-170">Scope of failure</span></span> | <span data-ttu-id="4f7a7-171">Rack</span><span class="sxs-lookup"><span data-stu-id="4f7a7-171">Rack</span></span>                  | <span data-ttu-id="4f7a7-172">Centre de données</span><span class="sxs-lookup"><span data-stu-id="4f7a7-172">Datacenter</span></span>               | <span data-ttu-id="4f7a7-173">Région</span><span class="sxs-lookup"><span data-stu-id="4f7a7-173">Region</span></span>                               |
| <span data-ttu-id="4f7a7-174">Routage des requêtes</span><span class="sxs-lookup"><span data-stu-id="4f7a7-174">Request routing</span></span>  | <span data-ttu-id="4f7a7-175">Azure Load Balancer</span><span class="sxs-lookup"><span data-stu-id="4f7a7-175">Azure Load Balancer</span></span>   | <span data-ttu-id="4f7a7-176">Équilibreur de charge entre les zones</span><span class="sxs-lookup"><span data-stu-id="4f7a7-176">Cross-zone Load Balancer</span></span> | <span data-ttu-id="4f7a7-177">Azure Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="4f7a7-177">Azure Traffic Manager</span></span>                |
| <span data-ttu-id="4f7a7-178">Latence du réseau</span><span class="sxs-lookup"><span data-stu-id="4f7a7-178">Network latency</span></span>  | <span data-ttu-id="4f7a7-179">Très faible</span><span class="sxs-lookup"><span data-stu-id="4f7a7-179">Very low</span></span>              | <span data-ttu-id="4f7a7-180">Faible</span><span class="sxs-lookup"><span data-stu-id="4f7a7-180">Low</span></span>                      | <span data-ttu-id="4f7a7-181">Moyenne à élevée</span><span class="sxs-lookup"><span data-stu-id="4f7a7-181">Mid to high</span></span>                          |
| <span data-ttu-id="4f7a7-182">Réseau virtuel</span><span class="sxs-lookup"><span data-stu-id="4f7a7-182">Virtual network</span></span>  | <span data-ttu-id="4f7a7-183">Réseau virtuel Azure</span><span class="sxs-lookup"><span data-stu-id="4f7a7-183">Azure Virtual Network</span></span> | <span data-ttu-id="4f7a7-184">Réseau virtuel Azure</span><span class="sxs-lookup"><span data-stu-id="4f7a7-184">Azure Virtual Network</span></span>          | <span data-ttu-id="4f7a7-185">Homologation de réseaux virtuels entre régions</span><span class="sxs-lookup"><span data-stu-id="4f7a7-185">Cross-region Virtual Network peering</span></span> |

### <a name="complete-azure-redundancy-tasks"></a><span data-ttu-id="4f7a7-186">Tâches de redondance Azure terminée</span><span class="sxs-lookup"><span data-stu-id="4f7a7-186">Complete Azure redundancy tasks</span></span>

<span data-ttu-id="4f7a7-187">Pour répondre aux exigences de redondance, utilisez les tâches suivantes :</span><span class="sxs-lookup"><span data-stu-id="4f7a7-187">Use the following tasks to meet redundancy requirements:</span></span>

- <span data-ttu-id="4f7a7-188">**Déployez plusieurs instances des services.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-188">**Deploy multiple instances of services.**</span></span> <span data-ttu-id="4f7a7-189">Si votre application repose sur une seule instance unique d’un service, cela crée un point de défaillance unique.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-189">If your application depends on a single instance of a service, it creates a single point of failure.</span></span> <span data-ttu-id="4f7a7-190">L’approvisionnement de plusieurs instances améliore à la fois la résilience et l’extensibilité.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-190">Provisioning multiple instances improves both resiliency and scalability.</span></span> <span data-ttu-id="4f7a7-191">Pour [Azure App Service](/azure/app-service/app-service-value-prop-what-is/), sélectionnez un [plan App Service](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/) qui offre plusieurs instances.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-191">For [Azure App Service](/azure/app-service/app-service-value-prop-what-is/), select an [App Service plan](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/) that offers multiple instances.</span></span> <span data-ttu-id="4f7a7-192">Pour [Machines virtuelles](/azure/virtual-machines/virtual-machines-windows-about/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json), assurez-vous que votre architecture possède plusieurs machines virtuelles et que chaque machine virtuelle est incluse dans un [à haute disponibilité](/azure/virtual-machines/virtual-machines-windows-manage-availability/).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-192">For [Azure Virtual Machines](/azure/virtual-machines/virtual-machines-windows-about/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json), ensure that your architecture has more than one VM and that each VM is included in an [availability set](/azure/virtual-machines/virtual-machines-windows-manage-availability/).</span></span>

- <span data-ttu-id="4f7a7-193">**Répliquez les machines virtuelles à l’aide d’Azure Site Recovery.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-193">**Replicate VMs using Azure Site Recovery.**</span></span> <span data-ttu-id="4f7a7-194">Lorsque vous répliquez des machines virtuelles Azure à l’aide de [Site Recovery](/azure/site-recovery/), tous les disques de machine virtuelle sont continuellement répliquées vers la région cible en mode asynchrone.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-194">When you replicate Azure VMs using [Site Recovery](/azure/site-recovery/), all the VM disks are continuously replicated to the target region asynchronously.</span></span> <span data-ttu-id="4f7a7-195">Les points de récupération sont créés à intervalles de quelques minutes, ce qui donne un RPO de quelques minutes.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-195">The recovery points are created every few minutes, giving an RPO on the order of minutes.</span></span>

- <span data-ttu-id="4f7a7-196">**Envisagez de déployer votre application dans plusieurs régions.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-196">**Consider deploying your application across multiple regions.**</span></span> <span data-ttu-id="4f7a7-197">Si votre application est déployée sur une seule région, et la région devient indisponible, votre application sera également pas disponible.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-197">If your application is deployed to a single region, and the region becomes unavailable, your application will also be unavailable.</span></span> <span data-ttu-id="4f7a7-198">Il se peut que cette situation soit inacceptable au regard des conditions du SLA de votre application.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-198">This may be unacceptable under the terms of your application's SLA.</span></span> <span data-ttu-id="4f7a7-199">Si c’est le cas, envisagez de déployer votre application et ses services dans plusieurs régions.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-199">If so, consider deploying your application and its services across multiple regions.</span></span> <span data-ttu-id="4f7a7-200">Un déploiement multirégion peut utiliser un *actif-actif* ou *actif / passif* configuration.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-200">A multiregion deployment can use an *active-active* or *active-passive* configuration.</span></span> <span data-ttu-id="4f7a7-201">Une configuration actif-actif distribue les demandes dans plusieurs régions actives.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-201">An active-active configuration distributes requests across multiple active regions.</span></span> <span data-ttu-id="4f7a7-202">Une configuration actif / passif conserve des instances à chaud dans la région secondaire, mais n’envoie pas de trafic il, sauf si la région principale échoue.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-202">An active-passive configuration keeps warm instances in the secondary region, but doesn't send traffic there unless the primary region fails.</span></span> <span data-ttu-id="4f7a7-203">Pour les déploiements multirégion, nous vous recommandons de déployer vers les régions jumelées, décrites ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-203">For multiregion deployments, we recommend deploying to paired regions, described above.</span></span> <span data-ttu-id="4f7a7-204">Pour plus d’informations, consultez l’article [Continuité des activités et récupération d’urgence (BCDR) : régions jumelées d’Azure](/azure/best-practices-availability-paired-regions).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-204">For more information, see [Business continuity and disaster recovery (BCDR): Azure Paired Regions](/azure/best-practices-availability-paired-regions).</span></span>

- <span data-ttu-id="4f7a7-205">**Utilisez Azure Traffic Manager pour acheminer le trafic de votre application vers des régions différentes.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-205">**Use Azure Traffic Manager to route your application's traffic to different regions.**</span></span> <span data-ttu-id="4f7a7-206">[Azure Traffic Manager](/azure/traffic-manager/traffic-manager-overview/) effectue l’équilibrage de charge au niveau du DNS et achemine le trafic vers des régions différentes en fonction de la [le routage du trafic](/azure/traffic-manager/traffic-manager-routing-methods/) méthode et l’intégrité des points de terminaison de votre application.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-206">[Azure Traffic Manager](/azure/traffic-manager/traffic-manager-overview/) performs load-balancing at the DNS level and routes traffic to different regions based on the [traffic routing](/azure/traffic-manager/traffic-manager-routing-methods/) method and the health of your application's endpoints.</span></span> <span data-ttu-id="4f7a7-207">Sans Traffic Manager, vous êtes limité à une seule région pour votre déploiement, ce qui limite la mise à l’échelle, augmente la latence pour certains utilisateurs et provoque l’interruption de l’application, en cas d’interruption de service à l’échelle de la région.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-207">Without Traffic Manager, you are limited to a single region for your deployment, which constrains scale, increases latency for some users, and causes application downtime, in the case of a region-wide service disruption.</span></span>

- <span data-ttu-id="4f7a7-208">**Configurer Azure Application Gateway pour utiliser plusieurs instances.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-208">**Configure Azure Application Gateway to use multiple instances.**</span></span> <span data-ttu-id="4f7a7-209">Selon les exigences de votre application, une passerelle [Azure Application Gateway](/azure/application-gateway/application-gateway-introduction/) peut être mieux adaptée pour distribuer les requêtes aux services de votre application.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-209">Depending on your application's requirements, an [Azure Application Gateway](/azure/application-gateway/application-gateway-introduction/) may be better suited to distributing requests to your application's services.</span></span> <span data-ttu-id="4f7a7-210">Toutefois, les instances uniques du service de passerelle d’Application ne sont pas garanties par un contrat SLA, il est donc possible que votre application échoue en cas d’échec de l’instance de la passerelle d’Application.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-210">However, single instances of the Application Gateway service are not guaranteed by an SLA, so it's possible that your application could fail if the Application Gateway instance fails.</span></span> <span data-ttu-id="4f7a7-211">Configurer plusieurs instances de taille moyenne ou grande pour garantir la disponibilité du service selon les termes de la [SLA de passerelle d’Application](https://azure.microsoft.com/support/legal/sla/application-gateway/).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-211">Provision more than one medium or larger instance to guarantee availability of the service under the terms of the [Application Gateway SLA](https://azure.microsoft.com/support/legal/sla/application-gateway/).</span></span>

## <a name="design-for-scalability"></a><span data-ttu-id="4f7a7-212">Conception dans l’optique de la scalabilité</span><span class="sxs-lookup"><span data-stu-id="4f7a7-212">Design for scalability</span></span>

<span data-ttu-id="4f7a7-213">*Évolutivité* est la capacité d’un système à traiter une charge accrue et fait partie de la [piliers de la qualité logicielle](../guide/pillars.md).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-213">*Scalability* is the ability of a system to handle increased load and is one of the [pillars of software quality](../guide/pillars.md).</span></span> <span data-ttu-id="4f7a7-214">Tâches d’évolutivité pendant la phase de conception sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="4f7a7-214">Scalability tasks during the architecting phase include:</span></span>

- <span data-ttu-id="4f7a7-215">**Charges de travail de partition.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-215">**Partition workloads.**</span></span> <span data-ttu-id="4f7a7-216">Concevez les parties du processus pour qu’elles soient distinctes et décomposables.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-216">Design parts of the process to be discrete and decomposable.</span></span> <span data-ttu-id="4f7a7-217">Réduire la taille de chaque partie.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-217">Minimize the size of each part.</span></span> <span data-ttu-id="4f7a7-218">Ainsi, les parties du composant à être distribuée d’une manière qui optimise l’utilisation de chaque unité de calcul.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-218">This allows the component parts to be distributed in a way that maximizes use of each compute unit.</span></span> <span data-ttu-id="4f7a7-219">Cela facilite également la mise à l’échelle de l’application grâce à l’ajout d’instances de ressources spécifiques.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-219">It also makes it easier to scale the application by adding instances of specific resources.</span></span> <span data-ttu-id="4f7a7-220">Pour les domaines complexes, envisagez d’adopter une [architecture de microservices](../guide/architecture-styles/microservices.md).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-220">For complex domains, consider adopting a [microservices architecture](../guide/architecture-styles/microservices.md).</span></span>
- <span data-ttu-id="4f7a7-221">**Conception pour la mise à l’échelle.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-221">**Design for scaling.**</span></span> <span data-ttu-id="4f7a7-222">Mise à l’échelle permet aux applications réagir à charge variable en augmentant et en diminuant le nombre d’instances de rôles, de files d’attente et d’autres services.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-222">Scaling allows applications to react to variable load by increasing and decreasing the number of instances of roles, queues, and other services.</span></span> <span data-ttu-id="4f7a7-223">L’application doit toutefois être conçue en ce sens.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-223">However, the application must be designed with this in mind.</span></span> <span data-ttu-id="4f7a7-224">Par exemple, l’application et les services qu’il utilise doivent être sans état pour autoriser les demandes d’être acheminé vers n’importe quelle instance.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-224">For example, the application and the services it uses must be stateless to allow requests to be routed to any instance.</span></span> <span data-ttu-id="4f7a7-225">Avoir des services sans état signifie également qu’Ajout ou suppression d’une instance ne pas un impact négatif sur les utilisateurs actuels.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-225">Having stateless services also means that adding or removing an instance does not adversely impact current users.</span></span>
- <span data-ttu-id="4f7a7-226">**Planifier la croissance avec les unités d’échelle.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-226">**Plan for growth with scale units.**</span></span> <span data-ttu-id="4f7a7-227">Pour chaque ressource, connaître les limites de l’échelle supérieure et utiliser le partitionnement ou décomposition d’aller au-delà de ces limites.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-227">For each resource, know the upper scaling limits, and use sharding or decomposition to go beyond those limits.</span></span> <span data-ttu-id="4f7a7-228">Concevez l’application pour qu’elle puisse facilement être mise à l’échelle en ajoutant une ou plusieurs unités d’échelle.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-228">Design the application so that it's easily scaled by adding one or more scale units.</span></span> <span data-ttu-id="4f7a7-229">Déterminez les unités d’échelle pour le système en termes de jeux bien définis de ressources.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-229">Determine the scale units for the system in terms of well-defined sets of resources.</span></span> <span data-ttu-id="4f7a7-230">Ainsi les opérations de montée en puissance application plus facile et moins sujette aux impact négatif dû à un manque de ressources dans une partie de l’ensemble du système.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-230">This makes applying scale-out operations easier and less prone to negative impact caused by a lack of resources in some part of the overall system.</span></span> <span data-ttu-id="4f7a7-231">Par exemple, l’ajout *X* nombre de machines virtuelles frontales peut-être nécessiter *Y* nombre de files d’attente supplémentaires et *Z* nombre de comptes de stockage pour gérer la charge de travail supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-231">For example, adding *X* number of front-end VMs might require *Y* number of additional queues and *Z* number of storage accounts to handle the additional workload.</span></span> <span data-ttu-id="4f7a7-232">Pour une unité d’échelle peut consister à *X* des instances de machine virtuelle, *Y* files d’attente, et *Z* comptes de stockage.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-232">So a scale unit could consist of *X* VM instances, *Y* queues, and *Z* storage accounts.</span></span>
- <span data-ttu-id="4f7a7-233">**Évitez l’affinité du client.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-233">**Avoid client affinity.**</span></span> <span data-ttu-id="4f7a7-234">Si possible, assurez-vous que l’application ne nécessite pas d’affinité.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-234">Where possible, ensure that the application doesn't require affinity.</span></span> <span data-ttu-id="4f7a7-235">Requêtes peuvent ensuite être acheminées vers n’importe quelle instance, et le nombre d’instances est sans importance.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-235">Requests can then be routed to any instance, and the number of instances is irrelevant.</span></span> <span data-ttu-id="4f7a7-236">Cela élimine également la surcharge liée au stockage, à la récupération et à la maintenance des informations d’état pour chaque utilisateur.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-236">This also avoids the overhead of storing, retrieving, and maintaining state information for each user.</span></span>
- <span data-ttu-id="4f7a7-237">**Tirer parti des fonctionnalités de mise à l’échelle de plateforme.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-237">**Take advantage of platform autoscaling features.**</span></span> <span data-ttu-id="4f7a7-238">Utiliser les fonctionnalités intégrées de mise à l’échelle lorsque cela est possible, plutôt que des mécanismes personnalisés ou tiers.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-238">Use built-in autoscaling features when possible, rather than custom or third-party mechanisms.</span></span> <span data-ttu-id="4f7a7-239">Règles de mise à l’échelle utilisation planifiée, lorsque cela est possible, pour vous assurer que les ressources sont disponibles sans un délai de démarrage, mais ajouter à l’échelle automatique réactive aux règles, le cas échéant, pour faire face aux changements inattendus dans la demande.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-239">Use scheduled scaling rules, where possible, to ensure that resources are available without a startup delay, but add reactive autoscaling to the rules, where appropriate, to cope with unexpected changes in demand.</span></span> <span data-ttu-id="4f7a7-240">Pour plus d’informations, consultez [des conseils de mise à l’échelle](../best-practices/auto-scaling.md).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-240">For more information, see [Autoscaling guidance](../best-practices/auto-scaling.md).</span></span>  

  <span data-ttu-id="4f7a7-241">Si votre application n’est pas configurée pour monter en charge automatiquement en tant que la charge augmente, il est possible que les services de votre application échouera si sature les demandes utilisateur.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-241">If your application isn't configured to scale out automatically as load increases, it's possible that your application's services will fail if they become saturated with user requests.</span></span> <span data-ttu-id="4f7a7-242">Pour plus d’informations, consultez les articles suivants :</span><span class="sxs-lookup"><span data-stu-id="4f7a7-242">For more information, see the following articles:</span></span>

  - <span data-ttu-id="4f7a7-243">Général : [Liste de contrôle d’évolutivité](../checklist/scalability.md)</span><span class="sxs-lookup"><span data-stu-id="4f7a7-243">General: [Scalability checklist](../checklist/scalability.md)</span></span>
  - <span data-ttu-id="4f7a7-244">Azure App Service : [Mise à l’échelle manuelle ou automatique du nombre d’instances](/azure/monitoring-and-diagnostics/insights-how-to-scale/)</span><span class="sxs-lookup"><span data-stu-id="4f7a7-244">Azure App Service: [Scale instance count manually or automatically](/azure/monitoring-and-diagnostics/insights-how-to-scale/)</span></span>
  - <span data-ttu-id="4f7a7-245">Services cloud : [Comment la mise à l’échelle un Service Cloud](/azure/cloud-services/cloud-services-how-to-scale/)</span><span class="sxs-lookup"><span data-stu-id="4f7a7-245">Cloud Services: [How to autoscale a Cloud Service](/azure/cloud-services/cloud-services-how-to-scale/)</span></span>
  - <span data-ttu-id="4f7a7-246">Machines virtuelles : [Mise à l’échelle automatique et des machines virtuelles identiques](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview/)</span><span class="sxs-lookup"><span data-stu-id="4f7a7-246">Virtual machines: [Automatic scaling and virtual machine scale sets](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview/)</span></span>

- <span data-ttu-id="4f7a7-247">**Décharger les tâches du processeur/e/s intensives en tant que tâches en arrière-plan.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-247">**Offload intensive CPU/IO tasks as background tasks.**</span></span> <span data-ttu-id="4f7a7-248">Si une demande à un service est censée prendre beaucoup de temps pour exécuter ou peut absorbe des ressources considérables, déchargez le traitement vers une tâche distincte.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-248">If a request to a service is expected to take a long time to run or may absorb considerable resources, offload the processing to a separate task.</span></span> <span data-ttu-id="4f7a7-249">Utiliser des tâches en arrière-plan pour exécuter ces tâches.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-249">Use background jobs to execute these tasks.</span></span> <span data-ttu-id="4f7a7-250">Cette stratégie permet au service pour continuer à recevoir des demandes et de rester réactive.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-250">This strategy enables the service to continue receiving further requests and to remain responsive.</span></span> <span data-ttu-id="4f7a7-251">Pour plus d’informations, consultez le [Guide relatif aux travaux en arrière-plan](../best-practices/background-jobs.md).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-251">For more information, see [Background jobs guidance](../best-practices/background-jobs.md).</span></span>
- <span data-ttu-id="4f7a7-252">**Distribuer la charge de travail pour les tâches en arrière-plan.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-252">**Distribute the workload for background tasks.**</span></span> <span data-ttu-id="4f7a7-253">S’il existe de nombreuses tâches en arrière-plan ou si les tâches nécessitent beaucoup de temps ou de ressources, répartissez le travail entre plusieurs unités de calcul.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-253">If there are many background tasks or if the tasks require considerable time or resources, spread the work across multiple compute units.</span></span> <span data-ttu-id="4f7a7-254">Le [modèle des Consommateurs concurrents](../patterns/competing-consumers.md) offre une solution possible.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-254">For one possible solution, see the [Competing Consumers pattern](../patterns/competing-consumers.md).</span></span>
- <span data-ttu-id="4f7a7-255">**Envisagez la migration vers un *partage* architecture.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-255">**Consider moving toward a *shared-nothing* architecture.**</span></span> <span data-ttu-id="4f7a7-256">Cette architecture utilise des nœuds indépendants et autonomes qui n’ont aucun point de contention (par exemple, les services partagés ou stockage).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-256">This architecture uses independent, self-sufficient nodes that have no single point of contention (such as shared services or storage).</span></span> <span data-ttu-id="4f7a7-257">En théorie, un tel système peut être mis à l’échelle presque indéfiniment.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-257">In theory, such a system can scale almost indefinitely.</span></span> <span data-ttu-id="4f7a7-258">Bien qu’une approche de moindre partage n’est généralement pas pratique, il peut fournir des opportunités de conception pour une meilleure extensibilité.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-258">Although a fully shared-nothing approach is usually not practical, it may provide opportunities to design for better scalability.</span></span> <span data-ttu-id="4f7a7-259">Bon, un déplacement vers une architecture sans partage exemples de partitionnement des données et éviter l’utilisation de l’affinité client et état de session côté serveur.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-259">Good examples of moving toward a shared-nothing architecture include partitioning data and avoiding the use of server-side session state and client affinity.</span></span>
- <span data-ttu-id="4f7a7-260">**Concevoir des exigences de stockage de votre application se trouve dans les objectifs de performance et de l’évolutivité du stockage Azure.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-260">**Design your application's storage requirements to fall within Azure Storage scalability and performance targets.**</span></span> <span data-ttu-id="4f7a7-261">Stockage Azure est conçu pour fonctionner dans des objectifs d’extensibilité et de performances prédéfinis, vous devez concevoir votre application pour utiliser un stockage au sein de ces cibles.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-261">Azure Storage is designed to function within predefined scalability and performance targets, so design your application to use storage within those targets.</span></span> <span data-ttu-id="4f7a7-262">Si vous dépassez ces objectifs, votre application subira de limitation du stockage.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-262">If you exceed these targets, your application will experience storage throttling.</span></span> <span data-ttu-id="4f7a7-263">Pour éviter cette situation, approvisionner des comptes de stockage supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-263">To avoid throttling, provision additional storage accounts.</span></span> <span data-ttu-id="4f7a7-264">Si vous vous heurtez la limite de compte de stockage, approvisionner des abonnements Azure supplémentaires et puis des comptes de stockage supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-264">If you run up against the storage account limit, provision additional Azure subscriptions and then provision additional storage accounts there.</span></span> <span data-ttu-id="4f7a7-265">Pour plus d’informations, consultez [Objectifs d’extensibilité et de performances de stockage Azure](/azure/storage/storage-scalability-targets/).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-265">For more information, see [Azure Storage scalability and performance targets](/azure/storage/storage-scalability-targets/).</span></span>
- <span data-ttu-id="4f7a7-266">**Sélectionnez la taille de machine virtuelle appropriée pour votre application.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-266">**Select the right VM size for your application.**</span></span> <span data-ttu-id="4f7a7-267">Mesurer le processeur, mémoire, disque et e/s de vos machines virtuelles de production réel et vérifiez que la taille de machine virtuelle que vous avez sélectionné est suffisante.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-267">Measure the actual CPU, memory, disk, and I/O of your VMs in production, and verify that the VM size you've selected is sufficient.</span></span> <span data-ttu-id="4f7a7-268">Si ce n’est pas le cas, il se peut que votre application rencontre des problèmes de capacité quand les machines virtuelles sont proches de leurs limites.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-268">If not, your application may experience capacity issues as the VMs approach their limits.</span></span> <span data-ttu-id="4f7a7-269">Les tailles de machine virtuelle sont décrites en détail dans [Tailles des machines virtuelles dans Azure](/azure/virtual-machines/virtual-machines-windows-sizes/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-269">VM sizes are described in detail in [Sizes for virtual machines in Azure](/azure/virtual-machines/virtual-machines-windows-sizes/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

## <a name="determine-subscription-and-service-requirements"></a><span data-ttu-id="4f7a7-270">Déterminer les exigences de service et d’abonnement</span><span class="sxs-lookup"><span data-stu-id="4f7a7-270">Determine subscription and service requirements</span></span>

<span data-ttu-id="4f7a7-271">Choisissez l’abonnement approprié et les fonctionnalités de service pour votre application en passant par ces tâches :</span><span class="sxs-lookup"><span data-stu-id="4f7a7-271">Choose the right subscription and service features for your app by working through these tasks:</span></span>

- <span data-ttu-id="4f7a7-272">**Évaluer les exigences par rapport aux [abonnement Azure et limites de service](/azure/azure-subscription-service-limits/).**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-272">**Evaluate requirements against [Azure subscription and service limits](/azure/azure-subscription-service-limits/).**</span></span> <span data-ttu-id="4f7a7-273">*Abonnements Azure* présentent des limites pour certains types de ressources, comme le nombre de groupes de ressources, les noyaux et les comptes de stockage.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-273">*Azure subscriptions* have limits on certain resource types, such as number of resource groups, cores, and storage accounts.</span></span> <span data-ttu-id="4f7a7-274">Si les exigences de votre application dépassent les limites d’abonnement Azure, créez un autre abonnement Azure et approvisionnez des ressources suffisantes pour celui-ci.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-274">If your application requirements exceed Azure subscription limits, create another Azure subscription and provision sufficient resources there.</span></span> <span data-ttu-id="4f7a7-275">Les services Azure individuels présentent des limites en termes de consommation, telles que des limites sur le stockage, le débit, le nombre de connexions, les requêtes par seconde et d’autres mesures.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-275">Individual Azure services have consumption limits &mdash; for example, limits on storage, throughput, number of connections, requests per second, and other metrics.</span></span> <span data-ttu-id="4f7a7-276">Votre application échoue si elle tente d’utiliser des ressources au-delà de ces limites, ce qui entraîne une interruption de service possible et de limitation pour les utilisateurs affectés.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-276">Your application will fail if it attempts to use resources beyond these limits, resulting in service throttling and possible downtime for affected users.</span></span> <span data-ttu-id="4f7a7-277">Selon le service spécifique et les exigences de votre application, vous pouvez souvent éviter ces limites en montant en puissance (par exemple, le choix d’un autre niveau tarifaire) ou la montée en puissance (par exemple, en ajoutant de nouvelles instances).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-277">Depending on the specific service and your application requirements, you can often avoid these limits by scaling up (for example, choosing another pricing tier) or scaling out (such as adding new instances).</span></span>
- <span data-ttu-id="4f7a7-278">**Déterminez combien vous avez besoin de comptes de stockage.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-278">**Determine how many storage accounts you need.**</span></span> <span data-ttu-id="4f7a7-279">Azure autorise un nombre spécifique de comptes de stockage par abonnement.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-279">Azure allows a specific number of storage accounts per subscription.</span></span> <span data-ttu-id="4f7a7-280">Pour plus d’informations, consultez [Abonnement Azure et limites, quotas et contraintes de service](/azure/azure-subscription-service-limits/#storage-limits).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-280">For more information, see [Azure subscription and service limits, quotas, and constraints](/azure/azure-subscription-service-limits/#storage-limits).</span></span>
- <span data-ttu-id="4f7a7-281">**Sélectionnez le niveau de service approprié pour Azure SQL Database.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-281">**Select the right service tier for Azure SQL Database.**</span></span> <span data-ttu-id="4f7a7-282">Si votre application utilise la base de données SQL Azure, sélectionnez le niveau de service approprié.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-282">If your application uses Azure SQL Database, select the appropriate service tier.</span></span> <span data-ttu-id="4f7a7-283">Si le niveau ne peut pas gérer les besoins en unités (DTU) de transaction de base de données de votre application, votre utilisation de données est limitée.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-283">If the tier cannot handle your application's database transaction unit (DTU) requirements, your data use will be throttled.</span></span> <span data-ttu-id="4f7a7-284">Pour plus d’informations sur la sélection du plan de service approprié, consultez [Options et performances de SQL Database : comprendre les éléments disponibles dans chaque niveau de service](/azure/sql-database/sql-database-service-tiers/).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-284">For more information on selecting the correct service plan, see [SQL Database options and performance: Understand what's available in each service tier](/azure/sql-database/sql-database-service-tiers/).</span></span>
- <span data-ttu-id="4f7a7-285">**Approvisionner des unités de requête (RU) suffisant dans Azure Cosmos DB**.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-285">**Provision sufficient request units (RUs) in Azure Cosmos DB**.</span></span> <span data-ttu-id="4f7a7-286">Avec Azure Cosmos DB, vous payez pour le débit que vous provisionnez et le stockage que vous utilisez sur une base horaire.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-286">With Azure Cosmos DB, you pay for the throughput you provision and the storage you consume on an hourly basis.</span></span> <span data-ttu-id="4f7a7-287">Le coût de toutes les opérations de base de données est normalisé en tant qu’unités de requête, qui extrait les ressources système telles que l’UC, e/s et la mémoire.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-287">The cost of all database operations is normalized as RUs, which abstracts the system resources such as CPU, IOPS, and memory.</span></span> <span data-ttu-id="4f7a7-288">Pour plus d’informations, voir [Unités de requête dans Azure Cosmos DB](/azure/cosmos-db/request-units).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-288">For more information, see [Request Units in Azure Cosmos DB](/azure/cosmos-db/request-units).</span></span>

## <a name="load-balance-as-needed"></a><span data-ttu-id="4f7a7-289">Équilibrer la charge en fonction des besoins</span><span class="sxs-lookup"><span data-stu-id="4f7a7-289">Load-balance as needed</span></span>

<span data-ttu-id="4f7a7-290">Équilibrage de charge appropriée vous permet d’afin de répondre aux exigences de disponibilité et pour réduire les coûts liés à la disponibilité.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-290">Proper load-balancing allows you to meet availability requirements and to minimize costs associated with availability.</span></span>

- <span data-ttu-id="4f7a7-291">**Utiliser l’équilibrage de charge pour distribuer les demandes.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-291">**Use load-balancing to distribute requests.**</span></span> <span data-ttu-id="4f7a7-292">L’équilibrage de charge distribue les demandes de votre application pour les instances de service intègres en supprimant des instances défectueuses de rotation.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-292">Load-balancing distributes your application's requests to healthy service instances by removing unhealthy instances from rotation.</span></span> <span data-ttu-id="4f7a7-293">Si votre service utilise Azure App Service ou Azure Cloud Services, il est déjà équilibrée pour vous.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-293">If your service uses Azure App Service or Azure Cloud Services, it's already load-balanced for you.</span></span> <span data-ttu-id="4f7a7-294">Toutefois, si votre application utilise des machines virtuelles Azure, vous devez configurer un équilibreur de charge.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-294">However, if your application uses Azure VMs, you need to provision a load-balancer.</span></span> <span data-ttu-id="4f7a7-295">Pour plus d’informations, consultez [What ' s Azure Load Balancer ?](/azure/load-balancer/load-balancer-overview/)</span><span class="sxs-lookup"><span data-stu-id="4f7a7-295">For more information, see [What is Azure Load Balancer?](/azure/load-balancer/load-balancer-overview/)</span></span>

  <span data-ttu-id="4f7a7-296">Vous pouvez utiliser Azure Load Balancer pour :</span><span class="sxs-lookup"><span data-stu-id="4f7a7-296">You can use Azure Load Balancer to:</span></span>

  - <span data-ttu-id="4f7a7-297">L’équilibrage de charge Internet le trafic entrant vers vos machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-297">Load-balance incoming Internet traffic to your VMs.</span></span> <span data-ttu-id="4f7a7-298">Cette configuration est appelée un [ *équilibreur de charge public*](/azure/load-balancer/load-balancer-overview#publicloadbalancer).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-298">This configuration is known as a [*public Load Balancer*](/azure/load-balancer/load-balancer-overview#publicloadbalancer).</span></span>
  - <span data-ttu-id="4f7a7-299">équilibrer la charge du trafic entre les machines virtuelles à l’intérieur d’un réseau virtuel.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-299">Load-balance traffic across VMs inside a virtual network.</span></span> <span data-ttu-id="4f7a7-300">Vous pouvez également communiquer avec un frontend d’équilibreur de charge à partir d’un réseau local dans le cadre d’un scénario hybride.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-300">You can also reach a Load Balancer front end from an on-premises network in a hybrid scenario.</span></span> <span data-ttu-id="4f7a7-301">Les deux scénarios utilisent une configuration qui est appelée un [ *équilibreur de charge interne*](/azure/load-balancer/load-balancer-overview#internalloadbalancer).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-301">Both scenarios use a configuration that is known as an [*internal Load Balancer*](/azure/load-balancer/load-balancer-overview#internalloadbalancer).</span></span>
  - <span data-ttu-id="4f7a7-302">Réacheminer le trafic vers un port détaillé sur des machines virtuelles spécifiques avec des règles de traduction (NAT) d’adresse réseau entrant.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-302">Port forward traffic to an itemized port on specific VMs with inbound network address translation (NAT) rules.</span></span>
  - <span data-ttu-id="4f7a7-303">Fournir une [connectivité sortante](/azure/load-balancer/load-balancer-outbound-connections) aux machines virtuelles de votre réseau virtuel à l’aide d’un équilibreur de charge public.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-303">Provide [outbound connectivity](/azure/load-balancer/load-balancer-outbound-connections) for VMs inside your virtual network by using a public Load Balancer.</span></span>

- <span data-ttu-id="4f7a7-304">**Équilibrez les charges entre les régions avec un gestionnaire de trafic, notamment Azure Traffic Manager.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-304">**Balance loads across regions with a traffic manager, such as Azure Traffic Manager.**</span></span> <span data-ttu-id="4f7a7-305">Pour équilibrer le trafic entre les régions nécessite une solution de gestion du trafic, ainsi que Azure [Traffic Manager](https://azure.microsoft.com/services/traffic-manager/).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-305">To load-balance traffic across regions requires a traffic management solution, and Azure provides [Traffic Manager](https://azure.microsoft.com/services/traffic-manager/).</span></span> <span data-ttu-id="4f7a7-306">Vous pouvez également tirer parti des services de fournisseurs tiers qui offrent des capacités de gestion du trafic similaires.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-306">You can also take advantage of third-party services that provide similar traffic-management capabilities.</span></span>

## <a name="implement-resiliency-strategies"></a><span data-ttu-id="4f7a7-307">Implémenter des stratégies de résilience</span><span class="sxs-lookup"><span data-stu-id="4f7a7-307">Implement resiliency strategies</span></span>

<span data-ttu-id="4f7a7-308">Cette section décrit quelques stratégies de résilience courantes.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-308">This section describes some common resiliency strategies.</span></span> <span data-ttu-id="4f7a7-309">La plupart de ces stratégies n’est pas limitée à une technologie particulière.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-309">Most of these strategies are not limited to a particular technology.</span></span> <span data-ttu-id="4f7a7-310">Les descriptions de résument l’idée derrière chaque technique et incluent des liens pour obtenir des informations supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-310">The descriptions summarize the general idea behind each technique and include links to further reading.</span></span>

- <span data-ttu-id="4f7a7-311">**Implémenter des modèles de résilience** pour les opérations à distance, le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-311">**Implement resiliency patterns** for remote operations, where appropriate.</span></span> <span data-ttu-id="4f7a7-312">Si votre application dépend de la communication entre les services à distance, suivez [modèles de conception](../patterns/category/resiliency.md) pour la gestion des défaillances temporaires.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-312">If your application depends on communication between remote services, follow [design patterns](../patterns/category/resiliency.md) for dealing with transient failures.</span></span>

- <span data-ttu-id="4f7a7-313">**Relance des échecs temporaires.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-313">**Retry transient failures.**</span></span> <span data-ttu-id="4f7a7-314">Ces erreurs peuvent être dues à une perte momentanée de la connectivité réseau, une connexion de base de données supprimée ou un délai d’attente lorsqu’un service est occupé.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-314">These can be caused by momentary loss of network connectivity, a dropped database connection, or a timeout when a service is busy.</span></span> <span data-ttu-id="4f7a7-315">Souvent, un échec temporaire peut être résolu en retentant la demande.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-315">Often, a transient failure can be resolved by retrying the request.</span></span>

  - <span data-ttu-id="4f7a7-316">Pour de nombreux services Azure, le kit de développement de logiciel (SDK) client implémente de nouvelles tentatives automatiques de manière transparente à l’appelant.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-316">For many Azure services, the client software development kit (SDK) implements automatic retries in a way that is transparent to the caller.</span></span> <span data-ttu-id="4f7a7-317">Consultez [des conseils pour des services spécifiques de nouvelle tentative](../best-practices/retry-service-specific.md).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-317">See [Retry guidance for specific services](../best-practices/retry-service-specific.md).</span></span>
  - <span data-ttu-id="4f7a7-318">Ou implémenter le [modèle nouvelle tentative](../patterns/retry.md) pour aider à l’application de gérer en toute transparence des défaillances temporaires anticipées quand elle tente de se connecter à une service ou une ressource réseau.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-318">Or implement the [Retry pattern](../patterns/retry.md) to help the application handle anticipated, temporary failures transparently when it tries to connect to a service or network resource.</span></span>

- <span data-ttu-id="4f7a7-319">**Utiliser un disjoncteur** pour gérer les erreurs qui peuvent prendre un certain temps à corriger.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-319">**Use a circuit breaker** to handle faults that might take a variable amount of time to fix.</span></span> <span data-ttu-id="4f7a7-320">Le [modèle disjoncteur](../patterns/circuit-breaker.md) peut empêcher une application de tenter à plusieurs reprises une opération qui échouera peut.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-320">The [Circuit Breaker pattern](../patterns/circuit-breaker.md) can prevent an application from repeatedly trying an operation that is likely to fail.</span></span> <span data-ttu-id="4f7a7-321">Le disjoncteur inclut dans un wrapper des appels vers un service et suit le nombre d’échecs récents.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-321">The circuit breaker wraps calls to a service and tracks the number of recent failures.</span></span> <span data-ttu-id="4f7a7-322">Si le nombre d’échec dépasse un seuil, le disjoncteur renvoie un code d’erreur sans avoir appelé le service.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-322">If the failure count exceeds a threshold, the circuit breaker starts returning an error code without calling the service.</span></span> <span data-ttu-id="4f7a7-323">Cela donne le temps de service de récupération et permet d’éviter les défaillances en cascade.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-323">This gives the service time to recover and helps avoid cascading failures.</span></span>
- <span data-ttu-id="4f7a7-324">**Isoler les ressources critiques.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-324">**Isolate critical resources.**</span></span> <span data-ttu-id="4f7a7-325">Échecs dans un sous-système peuvent parfois mettre en cascade, ce qui entraîne des défaillances dans d’autres parties de l’application.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-325">Failures in one subsystem can sometimes cascade, resulting in failures in other parts of the application.</span></span> <span data-ttu-id="4f7a7-326">Cela peut se produire si une défaillance empêche les ressources telles que des threads ou des sockets d’être libérée, ce qui conduit à un épuisement des ressources.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-326">This can happen if a failure prevents resources such as threads or sockets from being freed, leading to resource exhaustion.</span></span> <span data-ttu-id="4f7a7-327">Pour éviter ce problème, vous pouvez partitionner un système en groupes isolés, afin qu’une défaillance dans une partition ne détériore pas l’ensemble du système.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-327">To avoid this, you can partition a system into isolated groups so that a failure in one partition does not bring down the entire system.</span></span>

    <span data-ttu-id="4f7a7-328">Voici quelques exemples de cette technique, parfois appelé le [modèle de cloisonnement](../patterns/bulkhead.md):</span><span class="sxs-lookup"><span data-stu-id="4f7a7-328">Here are some examples of this technique, which is sometimes called the [Bulkhead pattern](../patterns/bulkhead.md):</span></span>

  - <span data-ttu-id="4f7a7-329">Partitionnez une base de données (par exemple, par le client) et affectez un pool distinct d’instances de serveur web pour chaque partition.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-329">Partition a database (for example, by tenant), and assign a separate pool of web server instances for each partition.</span></span>
  - <span data-ttu-id="4f7a7-330">Utilisez des pools de threads distincts pour isoler différents services.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-330">Use separate thread pools to isolate calls to different services.</span></span> <span data-ttu-id="4f7a7-331">Cela permet d’éviter les successions d’échecs en cas de défaillance d’un des services.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-331">This helps to prevent cascading failures if one of the services fails.</span></span> <span data-ttu-id="4f7a7-332">Pour obtenir un exemple, consultez le Netflix [Hystrix bibliothèque](https://medium.com/netflix-techblog/introducing-hystrix-for-resiliency-engineering-13531c1ab362).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-332">For an example, see the Netflix [Hystrix library](https://medium.com/netflix-techblog/introducing-hystrix-for-resiliency-engineering-13531c1ab362).</span></span>
  - <span data-ttu-id="4f7a7-333">Utilisez [conteneurs](https://en.wikipedia.org/wiki/Operating-system-level_virtualization) pour limiter les ressources disponibles pour un sous-système spécifique.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-333">Use [containers](https://en.wikipedia.org/wiki/Operating-system-level_virtualization) to limit the resources available to a particular subsystem.</span></span>

      ![Diagramme du modèle de cloisonnement](_images/bulkhead.png)

- <span data-ttu-id="4f7a7-335">**Appliquer [ *des transactions de compensation*](../patterns/compensating-transaction.md)**.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-335">**Apply [*compensating transactions*](../patterns/compensating-transaction.md)**.</span></span> <span data-ttu-id="4f7a7-336">Une transaction de compensation est une transaction qui annule les effets d’une autre transaction terminée.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-336">A compensating transaction is a transaction that undoes the effects of another completed transaction.</span></span> <span data-ttu-id="4f7a7-337">Dans un système distribué, il peut être difficile d’obtenir une cohérence transactionnelle élevée.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-337">In a distributed system, it can be difficult to achieve strong transactional consistency.</span></span> <span data-ttu-id="4f7a7-338">Transactions de compensation contribuer à garantir la cohérence à l’aide d’une série de transactions individuelles plus petites, qui peuvent être annulées à chaque étape.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-338">Compensating transactions help to achieve consistency by using a series of smaller, individual transactions that can be undone at each step.</span></span> <span data-ttu-id="4f7a7-339">Par exemple, pour réserver un voyage, un client peut réserver une voiture, un hôtel et un vol.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-339">For example, to book a trip, a customer might reserve a car, a hotel room, and a flight.</span></span> <span data-ttu-id="4f7a7-340">Si un de ces étapes échoue, l’opération entière échoue.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-340">If one of these steps fails, the entire operation fails.</span></span> <span data-ttu-id="4f7a7-341">Au lieu de tenter d’utiliser une unique transaction distribuée pour l’intégralité de l’opération, vous pouvez définir une transaction de compensation pour chaque étape.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-341">Instead of trying to use a single distributed transaction for the entire operation, you can define a compensating transaction for each step.</span></span>
- <span data-ttu-id="4f7a7-342">**Implémenter des opérations asynchrones, dès que possible.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-342">**Implement asynchronous operations, whenever possible.**</span></span> <span data-ttu-id="4f7a7-343">Les opérations synchrones peuvent monopoliser les ressources et de bloquer les autres opérations pendant que l’appelant attend la fin du processus.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-343">Synchronous operations can monopolize resources and block other operations while the caller waits for the process to complete.</span></span> <span data-ttu-id="4f7a7-344">Concevez chaque partie de votre application pour permettre des opérations asynchrones, dès que possible.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-344">Design each part of your application to allow for asynchronous operations, whenever possible.</span></span> <span data-ttu-id="4f7a7-345">Pour plus d’informations sur la façon d’implémenter la programmation asynchrone en C\#, consultez [programmation asynchrone](/dotnet/articles/csharp/async).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-345">For more information on how to implement asynchronous programming in C\#, see [Asynchronous Programming](/dotnet/articles/csharp/async).</span></span>

## <a name="ensure-that-availability-meets-slas"></a><span data-ttu-id="4f7a7-346">Vérifiez que la disponibilité répond aux contrats SLA</span><span class="sxs-lookup"><span data-stu-id="4f7a7-346">Ensure that availability meets SLAs</span></span>

<span data-ttu-id="4f7a7-347">*Disponibilité* est la proportion de temps un système est fonctionnel et opérationnel, et il fait partie de la [piliers de la qualité logicielle](../guide/pillars.md).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-347">*Availability* is the proportion of time that a system is functional and working, and it is one of the [pillars of software quality](../guide/pillars.md).</span></span> <span data-ttu-id="4f7a7-348">Utilisez les tâches de cette section pour passer en revue l’architecture de votre application à partir d’un point de vue de disponibilité pour vous assurer que votre disponibilité répond à vos contrats SLA.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-348">Use the tasks in this section to review your application architecture from an availability standpoint to make sure that your availability meets your SLAs.</span></span>

- <span data-ttu-id="4f7a7-349">**Évitez tout point de défaillance.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-349">**Avoid any single point of failure.**</span></span> <span data-ttu-id="4f7a7-350"> L’ensemble des instances de composants, de services, de ressources et de calcul doivent être déployées en tant qu’instances multiples afin d’empêcher qu’un point de défaillance unique affecte la disponibilité du système.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-350">All components, services, resources, and compute instances should be deployed as multiple instances to prevent a single point of failure from affecting availability.</span></span> <span data-ttu-id="4f7a7-351">Mécanismes d’authentification peuvent également être un point de défaillance unique.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-351">Authentication mechanisms can also be a single point of failure.</span></span> <span data-ttu-id="4f7a7-352">Concevez l’application pour être configurable d’utiliser plusieurs instances et pour détecter les défaillances et de rediriger les demandes vers les instances non défaillantes, automatiquement si la plateforme ne fait pas cela automatiquement.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-352">Design the application to be configurable to use multiple instances and to automatically detect failures and redirect requests to non-failed instances, if the platform doesn't do this automatically.</span></span>
- <span data-ttu-id="4f7a7-353">**Décomposez les charges de travail par objectif de niveau de service.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-353">**Decompose workloads by service-level objective.**</span></span> <span data-ttu-id="4f7a7-354"> Si un service est composé de charges de travail critiques et moins critiques, gérez-les de manière distincte et définissez les fonctions de service et le nombre d’instances nécessaires à la satisfaction de leurs exigences de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-354">If a service is composed of critical and less-critical workloads, manage them differently and specify the service features and number of instances to meet their availability requirements.</span></span>
- <span data-ttu-id="4f7a7-355">**Réduisez et comprenez les dépendances de services.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-355">**Minimize and understand service dependencies.**</span></span> <span data-ttu-id="4f7a7-356">Réduisez le nombre de services utilisés, lorsque cela est possible.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-356">Minimize the number of different services used, where possible.</span></span> <span data-ttu-id="4f7a7-357">Assurez-vous que vous comprenez toutes les dépendances de fonctionnalité et de service qui existent dans le système.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-357">Ensure that you understand all the feature and service dependencies that exist in the system.</span></span> <span data-ttu-id="4f7a7-358">En particulier, comprendre l’impact global de défaillance ou de baisse de performances dans chaque dépendance.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-358">In particular, understand the overall impact of failure or reduced performance in each dependency.</span></span>
- <span data-ttu-id="4f7a7-359">**Concevez des tâches et des messages *idempotent*, lorsque cela est possible.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-359">**Design tasks and messages to be *idempotent*, where possible.**</span></span> <span data-ttu-id="4f7a7-360">Une opération est idempotente si elle peut être répétée plusieurs fois et produire le même résultat.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-360">An operation is idempotent if it can be repeated multiple times and produce the same result.</span></span> <span data-ttu-id="4f7a7-361">Cela peut s’assurer que les demandes dupliquées ne provoquent des problèmes.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-361">This can ensure that duplicated requests don't cause problems.</span></span> <span data-ttu-id="4f7a7-362">Les consommateurs de messages et les opérations qu’ils exécutent doivent être idempotents, de manière que la réitération d’une opération exécutée auparavant n’invalide pas les résultats.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-362">Message consumers and the operations they carry out should be idempotent so that repeating a previously executed operation does not render the results invalid.</span></span> <span data-ttu-id="4f7a7-363">Cela peut signifier la détection des messages dupliqués ou de garantir la cohérence à l’aide d’une approche optimiste pour gérer les conflits.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-363">This may mean detecting duplicated messages or ensuring consistency by using an optimistic approach to handling conflicts.</span></span>
- <span data-ttu-id="4f7a7-364">**Configurez les délais d’expiration des requêtes.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-364">**Configure request timeouts.**</span></span> <span data-ttu-id="4f7a7-365"> Les services et les ressources peuvent devenir indisponibles, ce qui provoque l’échec des requêtes.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-365">Services and resources may become unavailable, causing requests to fail.</span></span> <span data-ttu-id="4f7a7-366">Assurez-vous que les délais d’expiration que vous appliquez sont adaptés à chaque service ou ressource, et pour le client qui y accède.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-366">Ensure that the timeouts you apply are appropriate for each service or resource and for the client that is accessing them.</span></span> <span data-ttu-id="4f7a7-367">Dans certains cas, vous pouvez prévoir un délai d’expiration plus long pour une instance de client donnée, selon le contexte et les autres actions que le client effectue.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-367">In some cases, you might allow a longer timeout for a particular instance of a client, depending on the context and other actions that the client is performing.</span></span> <span data-ttu-id="4f7a7-368">Des délais d’expiration court peut entraîner des opérations de nouvelle tentative excessive pour les services et ressources qui ont une latence importante.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-368">Short timeouts may cause excessive retry operations for services and resources that have considerable latency.</span></span> <span data-ttu-id="4f7a7-369">Délais d’expiration longue peut causer le blocage, si un grand nombre de demandes est en attente, en attente pour un service ou une ressource de répondre.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-369">Long timeouts can cause blocking, if a large number of requests are queued, waiting for a service or resource to respond.</span></span>
- <span data-ttu-id="4f7a7-370">**Utilisez un Service Broker de message qui implémente une haute disponibilité pour les transactions critiques.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-370">**Use a message broker that implements high availability for critical transactions.**</span></span> <span data-ttu-id="4f7a7-371">De nombreuses applications de cloud utilisent la messagerie pour déclencher des tâches asynchrones.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-371">Many cloud applications use messaging to trigger asynchronous tasks.</span></span> <span data-ttu-id="4f7a7-372">Pour garantir la remise des messages, le système de messagerie doit proposer une haute disponibilité.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-372">To guarantee delivery of messages, the messaging system should provide high availability.</span></span> <span data-ttu-id="4f7a7-373">[Messagerie Azure Service Bus](/azure/service-bus-messaging) implémente *au moins une fois* sémantique, ce qui signifie qu’un message est garanti pour être remis au moins une fois.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-373">[Azure Service Bus messaging](/azure/service-bus-messaging) implements *at least once* semantics, which means that a message is guaranteed to be delivered at least once.</span></span> <span data-ttu-id="4f7a7-374">Messages en double peuvent être TRANSMISS dans certaines circonstances.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-374">Duplicate messages may be delivered under certain circumstances.</span></span> <span data-ttu-id="4f7a7-375">Si le traitement des messages est idempotent (voir le point précédent), la remise répétée ne posera pas de problèmes.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-375">If message processing is idempotent (see the previous item), repeated delivery should not be a problem.</span></span>
- <span data-ttu-id="4f7a7-376">**Limiter les utilisateurs intensifs.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-376">**Throttle high-volume users.**</span></span> <span data-ttu-id="4f7a7-377">Parfois, un petit nombre d’utilisateurs crée une charge excessive.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-377">Sometimes, a small number of users creates excessive load.</span></span> <span data-ttu-id="4f7a7-378">Cela peut avoir un impact sur les autres utilisateurs et peut réduire la disponibilité globale de votre application.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-378">This can have an impact on other users and can reduce the overall availability of your application.</span></span> <span data-ttu-id="4f7a7-379">Lorsqu’un seul client effectue un nombre excessif de demandes, l’application peut limiter le client pendant une période donnée.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-379">When a single client makes an excessive number of requests, the application might throttle the client for a certain period.</span></span> <span data-ttu-id="4f7a7-380">Pendant la période de limitation, l’application refuse certaines ou toutes les demandes à partir de ce client.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-380">During the throttling period, the application refuses some or all of the requests from that client.</span></span> <span data-ttu-id="4f7a7-381">Le seuil de limitation dépend souvent de niveau de service du client.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-381">The threshold for throttling often depends on the customer's service tier.</span></span> <span data-ttu-id="4f7a7-382">Pour plus d’informations, consultez [modèle de limitation](../patterns/throttling.md).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-382">For more information, see [Throttling pattern](../patterns/throttling.md).</span></span>

    <span data-ttu-id="4f7a7-383">La limitation n’implique pas que le client agissait à des fins malveillantes &mdash; uniquement qu’il a dépassé son quota de service.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-383">Throttling does not imply that the client was necessarily acting maliciously &mdash; only that it exceeded its service quota.</span></span> <span data-ttu-id="4f7a7-384">Dans certains cas, un consommateur peut constamment dépasser son quota, ou bien mal se comporter.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-384">In some cases, a consumer might consistently exceed their quota or otherwise behave badly.</span></span> <span data-ttu-id="4f7a7-385">Dans ce cas, vous pouvez aller plus loin et bloquer l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-385">In that case, you might go further and block the user.</span></span> <span data-ttu-id="4f7a7-386">En règle générale, cela se fait en bloquant une clé API ou une plage d’adresses IP.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-386">Typically, this is done by blocking an API key or an IP address range.</span></span>
- <span data-ttu-id="4f7a7-387">**Concevez des applications pour appliquer une dégradation normale.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-387">**Design applications to gracefully degrade.**</span></span> <span data-ttu-id="4f7a7-388">La charge sur une application peut dépasser la capacité d’une ou de plusieurs portions, ce qui entraîne une réduction de la disponibilité et la mise en échec des connexions.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-388">The load on an application may exceed the capacity of one or more parts, causing reduced availability and failed connections.</span></span> <span data-ttu-id="4f7a7-389">Mise à l’échelle peut atténuer ce problème, mais elle peut atteindre une limite imposée par d’autres facteurs, tels que la disponibilité des ressources ou de coût.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-389">Scaling can mitigate this problem, but it may reach a limit imposed by other factors, such as resource availability or cost.</span></span> <span data-ttu-id="4f7a7-390">Lorsqu’une application atteint une limite de ressource, elle doit agir en conséquence pour minimiser l’impact de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-390">When an application reaches a resource limit, it should take appropriate action to minimize the impact for the user.</span></span> <span data-ttu-id="4f7a7-391">Par exemple, dans un système de commerce électronique, si le sous-système de traitement des commandes est sous contrainte ou échoue, il peut être temporairement désactivée tout en autorisant d’autres fonctionnalités, telles que la consultation du catalogue de produits.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-391">For example, in an e-commerce system, if the order-processing subsystem is under strain or fails, it can be temporarily disabled while allowing other functionality, such as browsing the product catalog.</span></span> <span data-ttu-id="4f7a7-392">Il peut être approprié de reporter les demandes vers un sous-système défaillant &mdash; , par exemple, en permettant aux clients d’envoyer des commandes mais de les enregistrer pour un traitement ultérieur, lorsque le sous-système de commandes est à nouveau disponible.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-392">It might be appropriate to postpone requests to a failing subsystem &mdash; for example, still enabling customers to submit orders but saving them for later processing, when the orders subsystem is available again.</span></span>
- <span data-ttu-id="4f7a7-393">**Traitez de manière appropriée les événements de rafales rapides.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-393">**Gracefully handle rapid burst events.**</span></span> <span data-ttu-id="4f7a7-394">La plupart des applications doivent gérer des charges de travail variables au fil du temps.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-394">Most applications need to handle varying workloads over time.</span></span> <span data-ttu-id="4f7a7-395">Mise à l’échelle peut aider à gérer la charge, mais il peut prendre un certain temps pour les instances supplémentaires en ligne et de gérer les demandes.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-395">Autoscaling can help to handle the load, but it may take some time for additional instances to come online and handle requests.</span></span> <span data-ttu-id="4f7a7-396">Pour empêcher les pics d’activité de surcharger l’application, vous devez le concevoir aux demandes de file d’attente pour les services qu’elle utilise et se dégradent normalement lorsque les files d’attente sont presque saturé.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-396">To prevent bursts of activity from overwhelming the application, design it to queue requests to the services it uses and to degrade gracefully when queues are near capacity.</span></span> <span data-ttu-id="4f7a7-397">Vérifiez il existe suffisamment de capacité et de performances disponibles sous des conditions normales, de vider les files d’attente et de gérer les demandes en attente.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-397">Ensure there is sufficient performance and capacity available under non-burst conditions to drain the queues and handle outstanding requests.</span></span> <span data-ttu-id="4f7a7-398">Pour plus d’informations, consultez [Modèle de nivellement de charge basé sur une file d’attente](../patterns/queue-based-load-leveling.md).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-398">For more information, see the [Queue-Based Load Leveling pattern](../patterns/queue-based-load-leveling.md).</span></span>
- <span data-ttu-id="4f7a7-399">**Composez ou effectuer une restauration sur plusieurs composants.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-399">**Compose or fail back to multiple components.**</span></span> <span data-ttu-id="4f7a7-400">Concevoir des applications à utiliser plusieurs instances sans affecter les opérations et les connexions existantes, lorsque cela est possible.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-400">Design applications to use multiple instances without affecting operation and existing connections, where possible.</span></span> <span data-ttu-id="4f7a7-401">Pour optimiser la disponibilité, utilisez plusieurs instances et distribuer les demandes entre eux et détecter et éviter d’envoyer des demandes pour les instances ayant échoué.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-401">To maximize availability, use multiple instances and distribute requests between them, and detect and avoid sending requests to failed instances.</span></span>
- <span data-ttu-id="4f7a7-402">**Restaurer un service ou workflow différent.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-402">**Fail back to a different service or workflow.**</span></span> <span data-ttu-id="4f7a7-403">Par exemple, si l’écriture dans la base de données SQL échoue, stocker temporairement les données dans le stockage Blob ou Cache Redis.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-403">For example, if writing to SQL Database fails, temporarily store data in Blob storage or Redis Cache.</span></span> <span data-ttu-id="4f7a7-404">Fournissez à SQL Database une fonctionnalité permettant de relire les écritures quand le service redevient disponible.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-404">Provide a way to replay the writes to SQL Database when the service becomes available.</span></span> <span data-ttu-id="4f7a7-405">Dans certains cas, une opération ayant échoué peut avoir une action alternative qui permet à l’application de continuer à fonctionner, même quand un composant ou service échoue.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-405">In some cases, a failed operation may have an alternative action that allows the application to continue to work, even when a component or service fails.</span></span> <span data-ttu-id="4f7a7-406">Si possible, de détecter les défaillances et de rediriger les demandes vers d’autres services pendant que le service principal est hors connexion.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-406">If possible, detect failures and redirect requests to other services while the primary service is offline.</span></span>
- <span data-ttu-id="4f7a7-407">**Utiliser le nivellement de charge pour aplanir les pics de trafic.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-407">**Use load leveling to smooth out spikes in traffic.**</span></span> <span data-ttu-id="4f7a7-408">Les applications peuvent rencontrer des pics soudains dans le trafic, ce qui peut surcharger les services sur le serveur principal.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-408">Applications may experience sudden spikes in traffic, which can overwhelm services on the back end.</span></span> <span data-ttu-id="4f7a7-409">Si un service back-end ne peut pas répondre aux demandes assez rapidement, les demandes en attente peuvent s’accumuler, ou le service peut limiter l’application.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-409">If a back-end service cannot respond to requests quickly enough, the pending requests may accumulate or the service may throttle the application.</span></span> <span data-ttu-id="4f7a7-410">Pour éviter ce problème, vous pouvez utiliser une file d’attente en tant que mémoire tampon.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-410">To avoid this, you can use a queue as a buffer.</span></span> <span data-ttu-id="4f7a7-411">Lorsqu’il existe un nouvel élément de travail, au lieu d’appeler le service back-end immédiatement, l’application files d’attente un élément de travail à exécuter de façon asynchrone.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-411">When there is a new work item, instead of calling the back-end service immediately, the application queues a work item to run asynchronously.</span></span> <span data-ttu-id="4f7a7-412">La file d’attente agit comme une mémoire tampon qui lisse des pics de charge.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-412">The queue acts as a buffer that smooths out peaks in the load.</span></span> <span data-ttu-id="4f7a7-413">Pour plus d’informations, consultez [modèle de nivellement de charge basé sur la file d’attente](../patterns/queue-based-load-leveling.md).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-413">For more information, see [Queue-Based Load Leveling pattern](../patterns/queue-based-load-leveling.md).</span></span>

## <a name="manage-your-data"></a><span data-ttu-id="4f7a7-414">Gérer vos données</span><span class="sxs-lookup"><span data-stu-id="4f7a7-414">Manage your data</span></span>

<span data-ttu-id="4f7a7-415">Façon dont vous gérez vos données est lue directement dans le groupe de disponibilité de votre application.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-415">How you manage your data plays directly into the availability of your application.</span></span> <span data-ttu-id="4f7a7-416">Les tâches de cette section peuvent vous aider à créer un plan de gestion afin de garantir la disponibilité.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-416">The tasks in this section can help you create a management plan to help ensure availability.</span></span>

- <span data-ttu-id="4f7a7-417">**Répliquer des données et comprendre les méthodes de réplication pour les magasins de données de votre application.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-417">**Replicate data and understand the replication methods for your application's data stores.**</span></span> <span data-ttu-id="4f7a7-418">La réplication de données est une stratégie générale pour gérer les échecs non temporaires dans un magasin de données.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-418">Replicating data is a general strategy for handling non-transient failures in a data store.</span></span> <span data-ttu-id="4f7a7-419">Prendre en compte les deux chemins de lecture et d’écriture.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-419">Consider both the read and write paths.</span></span> <span data-ttu-id="4f7a7-420">Selon la technologie de stockage, vous pouvez avoir plusieurs réplicas accessibles en écriture, ou vous pouvez avoir un seul réplica accessible en écriture et plusieurs réplicas en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-420">Depending on the storage technology, you might have multiple writable replicas or you might have a single writable replica and multiple read-only replicas.</span></span> <span data-ttu-id="4f7a7-421">Pour optimiser la disponibilité, les réplicas peuvent être placés dans plusieurs régions.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-421">To maximize availability, replicas can be placed in multiple regions.</span></span> <span data-ttu-id="4f7a7-422">Toutefois, cette approche augmente la latence lors de la réplication des données.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-422">However, this approach increases the latency when replicating the data.</span></span> <span data-ttu-id="4f7a7-423">En règle générale, la réplication entre les régions est effectuée de manière asynchrone, ce qui implique un modèle de cohérence éventuel et une perte de données potentielle si un réplica échoue.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-423">Typically, replicating across regions is done asynchronously, which implies an eventual consistency model and potential data loss if a replica fails.</span></span>  

  <span data-ttu-id="4f7a7-424">Vous pouvez utiliser [Azure Site Recovery](/azure/site-recovery/azure-to-azure-quickstart/) pour répliquer des Machines virtuelles à partir d’une région à un autre.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-424">You can use [Azure Site Recovery](/azure/site-recovery/azure-to-azure-quickstart/) to replicate Azure Virtual Machines from one region to another.</span></span> <span data-ttu-id="4f7a7-425">Site Recovery réplique les données en continu dans la région cible.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-425">Site Recovery replicates data continuously to the target region.</span></span> <span data-ttu-id="4f7a7-426">En cas de défaillance sur votre site principal, vous basculez vers un emplacement secondaire.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-426">When an outage occurs at your primary site, you fail over to a secondary location.</span></span>

- <span data-ttu-id="4f7a7-427">**Assurez-vous qu’aucun compte d’utilisateur n’a accès à la fois aux données de production et aux données de sauvegarde.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-427">**Ensure that no single user account has access to both production and backup data.**</span></span> <span data-ttu-id="4f7a7-428">Si un même compte d’utilisateur est autorisé à écrire dans les sources de production et de sauvegarde, vos sauvegardes de données risquent d’être compromises.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-428">Your data backups are compromised if one single user account has permission to write to both production and backup sources.</span></span> <span data-ttu-id="4f7a7-429">Un utilisateur malveillant pourrait supprimer volontairement toutes vos données, et un utilisateur normal pourrait les supprimer accidentellement.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-429">A malicious user could purposely delete all your data, and a regular user could accidentally delete it.</span></span> <span data-ttu-id="4f7a7-430">Concevez votre application afin de limiter les autorisations de chaque compte d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-430">Design your application to limit the permissions of each user account.</span></span> <span data-ttu-id="4f7a7-431">Uniquement accorder l’accès en écriture aux utilisateurs qui en ont besoin et accorder l’accès à la production ou de sauvegarde, mais pas les deux.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-431">Only grant write access to users who require it, and grant access to either production or backup, but not both.</span></span>
- <span data-ttu-id="4f7a7-432">**Documentez et testez de votre processus de basculement et la restauration de magasin de données.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-432">**Document and test your data store failover and failback process.**</span></span> <span data-ttu-id="4f7a7-433">Si un magasin de données échoue inopinée, un opérateur humain doit respecter un ensemble d’instructions documentées pour basculer vers une banque de données.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-433">If a data store fails catastrophically, a human operator must follow a set of documented instructions to fail over to a new data store.</span></span> <span data-ttu-id="4f7a7-434">Si les étapes documentées comportent des erreurs, un opérateur ne pourrez les suivre correctement et de basculer de la ressource.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-434">If the documented steps have errors, an operator won't be able to successfully follow them and to fail over the resource.</span></span> <span data-ttu-id="4f7a7-435">Testez régulièrement la procédure pour vérifier que les opérateurs qui suivant la documentation peuvent correctement basculer et restaurer.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-435">Regularly test the instruction steps to verify that an operator who follows the documentation can successfully fail over and fail back.</span></span>
- <span data-ttu-id="4f7a7-436">**Sauvegarder vos données et valider vos sauvegardes de données.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-436">**Back up your data and validate your data backups.**</span></span> <span data-ttu-id="4f7a7-437">Exécuter régulièrement un script pour valider l’intégrité des données, schéma et les requêtes pour vous assurer que les données de sauvegarde sont ce que vous attendez.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-437">Regularly run a script to validate data integrity, schema, and queries to ensure that backup data is what you expect.</span></span> <span data-ttu-id="4f7a7-438">Consignez et signalez toute incohérence pour que le service de sauvegarde puisse être réparé.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-438">Log and report any inconsistencies so the backup service can be repaired.</span></span>
- <span data-ttu-id="4f7a7-439">**Utilisez la sauvegarde périodique et la restauration de point-à-temps.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-439">**Use periodic backup and point-in-time restore.**</span></span> <span data-ttu-id="4f7a7-440">Automatiquement et régulièrement sauvegarder des données qui ne sont pas conservées ailleurs.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-440">Regularly and automatically back up data that is not preserved elsewhere.</span></span> <span data-ttu-id="4f7a7-441">Vérifiez que vous pouvez récupérer les données et l’application elle-même si l’échec se produit.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-441">Verify that you can reliably restore both the data and the application itself if failure occurs.</span></span> <span data-ttu-id="4f7a7-442">Assurez-vous que les sauvegardes respectent votre RPO.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-442">Ensure that backups meet your RPO.</span></span> <span data-ttu-id="4f7a7-443">Réplication des données n’est pas une fonctionnalité de sauvegarde, car des erreurs humaines ou des opérations nuisibles peuvent endommager les données sur tous les réplicas.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-443">Data replication isn't a backup feature, because human error or malicious operations can corrupt data across all the replicas.</span></span> <span data-ttu-id="4f7a7-444">Le processus de sauvegarde doit être sécurisé afin de protéger les données stockées et en transit.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-444">The backup process must be secure to protect the data in transit and in storage.</span></span> <span data-ttu-id="4f7a7-445">Bases de données peuvent généralement être récupérées à un point antérieur dans le temps à l’aide des journaux de transactions.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-445">Databases can usually be recovered to a previous point in time by using transaction logs.</span></span> <span data-ttu-id="4f7a7-446">Pour plus d’informations, consultez [récupérer suite à une altération des données ou une suppression accidentelle](../resiliency/recovery-data-corruption.md).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-446">For more information, see [Recover from data corruption or accidental deletion](../resiliency/recovery-data-corruption.md).</span></span>
- <span data-ttu-id="4f7a7-447">**Envisagez d’utiliser un compte de stockage géo-redondant.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-447">**Consider using a geo-redundant storage account.**</span></span> <span data-ttu-id="4f7a7-448">Les données stockées dans un compte Stockage Azure sont toujours répliquées localement.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-448">Data stored in an Azure Storage account is always replicated locally.</span></span> <span data-ttu-id="4f7a7-449">Toutefois, il existe plusieurs stratégies de réplication effectuent leur choix quand un compte de stockage est approvisionné.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-449">However, there are multiple replication strategies to choose from when a storage account is provisioned.</span></span> <span data-ttu-id="4f7a7-450">Pour protéger vos données d’application contre les rares cas lorsqu’une région entière deviendrait indisponible, activez [(RA-GRS) de stockage géo-redondant avec accès en lecture à Azure](/azure/storage/storage-redundancy/#read-access-geo-redundant-storage).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-450">To protect your application data against the rare case when an entire region becomes unavailable, select [Azure Read-Access Geo-Redundant Storage (RA-GRS)](/azure/storage/storage-redundancy/#read-access-geo-redundant-storage).</span></span>  

    > [!NOTE]
    > <span data-ttu-id="4f7a7-451">Pour les machines virtuelles, ne vous appuyez pas sur la réplication RA-GRS pour restaurer les disques de machine virtuelle (fichiers VHD).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-451">For VMs, do not rely on RA-GRS replication to restore the VM disks (VHD files).</span></span> <span data-ttu-id="4f7a7-452">À la place, utilisez le service [Sauvegarde Azure](/azure/backup).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-452">Instead, use [Azure Backup](/azure/backup).</span></span>

- <span data-ttu-id="4f7a7-453">**Envisagez de déployer des données de référence dans plusieurs régions.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-453">**Consider deploying reference data to multiple regions.**</span></span> <span data-ttu-id="4f7a7-454">Les données de référence sont des données en lecture seule qui prennent en charge les fonctionnalités de l’application.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-454">Reference data is read-only data that supports application functionality.</span></span> <span data-ttu-id="4f7a7-455">Il généralement ne change pas souvent.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-455">It typically doesn't change often.</span></span> <span data-ttu-id="4f7a7-456">Bien que la restauration à partir de la sauvegarde est un moyen d’éviter les interruptions de service à l’échelle de la région, le RTO est relativement long.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-456">Although restoring from backup is one way to handle region-wide service disruptions, the RTO is relatively long.</span></span> <span data-ttu-id="4f7a7-457">Lorsque vous déployez l’application vers une région secondaire, certaines stratégies peuvent améliorer le RTO pour les données de référence.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-457">When you deploy the application to a secondary region, some strategies can improve the RTO for reference data.</span></span>

    <span data-ttu-id="4f7a7-458">Étant donné que les modifications de données de référence de rares occasions, vous pouvez améliorer le RTO en conservant une copie permanente dans la région secondaire.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-458">Because reference data changes infrequently, you can improve the RTO by maintaining a permanent copy in the secondary region.</span></span> <span data-ttu-id="4f7a7-459">Cela élimine le temps nécessaire pour restaurer des sauvegardes après un sinistre.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-459">This eliminates the time required to restore backups after a disaster.</span></span> <span data-ttu-id="4f7a7-460">Pour répondre aux exigences en matière de récupération d’urgence dans plusieurs régions, vous devez déployer l’application et les données de référence ensemble dans plusieurs régions.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-460">To meet the multiple-region disaster recovery requirements, you must deploy the application and the reference data together in multiple regions.</span></span>

- <span data-ttu-id="4f7a7-461">**Utiliser l’accès concurrentiel optimiste et la cohérence éventuelle.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-461">**Use optimistic concurrency and eventual consistency.**</span></span> <span data-ttu-id="4f7a7-462">Les transactions qui bloquent l’accès aux ressources par le biais de verrouillage (*d’accès concurrentiel pessimiste*) peut dégrader les performances et réduire la disponibilité.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-462">Transactions that block access to resources through locking (*pessimistic concurrency*) can cause poor performance and reduce availability.</span></span> <span data-ttu-id="4f7a7-463">Ces problèmes peuvent se révéler particulièrement sérieux au sein des systèmes distribués.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-463">These problems can become especially acute in distributed systems.</span></span> <span data-ttu-id="4f7a7-464">Dans de nombreux cas, une conception et techniques, telles que le partitionnement, peuvent réduire les risques de mises à jour en conflit qui se produisent.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-464">In many cases, careful design and techniques, such as partitioning, can minimize the chances of conflicting updates occurring.</span></span> <span data-ttu-id="4f7a7-465">Si les données sont répliquées ou lire à partir d’un magasin mis à jour séparément, les données seront uniquement cohérentes.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-465">If data is replicated or read from a separately updated store, the data will only be eventually consistent.</span></span> <span data-ttu-id="4f7a7-466">Mais les avantages généralement à compenser l’impact sur la disponibilité de l’utilisation de transactions pour garantir la cohérence immédiate.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-466">But the advantages usually outweigh the impact on availability of using transactions to ensure immediate consistency.</span></span>
- <span data-ttu-id="4f7a7-467">**Utilisez la géo-réplication active pour base de données SQL pour répliquer les modifications à une base de données secondaire.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-467">**Use active geo-replication for SQL Database to replicate changes to a secondary database.**</span></span> <span data-ttu-id="4f7a7-468">Géo-réplication Active pour SQL Database réplique automatiquement les modifications de base de données aux bases de données secondaire dans la même région ou une autre région.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-468">Active geo-replication for SQL Database automatically replicates database changes to secondary databases in the same region or a different region.</span></span> <span data-ttu-id="4f7a7-469">Pour plus d’informations, consultez [création et à l’aide de la géo-réplication active](/azure/sql-database/sql-database-active-geo-replication).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-469">For more information, see [Creating and using active geo-replication](/azure/sql-database/sql-database-active-geo-replication).</span></span>

  <span data-ttu-id="4f7a7-470">Ou bien, vous pouvez adopter une approche plus manuelle à l’aide de la **copie de base de données** commande pour créer une copie de sauvegarde de la base de données avec une cohérence transactionnelle.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-470">Alternatively, you can take a more manual approach by using the **DATABASE COPY** command to create a backup copy of the database with transactional consistency.</span></span> <span data-ttu-id="4f7a7-471">Vous pouvez également utiliser le service d’importation/exportation d’Azure SQL Database, qui prend en charge l’exportation des bases de données dans des fichiers BACPAC (fichiers compressés contenant votre schéma de base de données et les données associées) qui sont stockés dans le stockage Blob Azure.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-471">You can also use the import/export service of Azure SQL Database, which supports exporting databases to BACPAC files (compressed files containing your database schema and associated data) that are stored in Azure Blob storage.</span></span> <span data-ttu-id="4f7a7-472">Stockage Azure crée deux réplicas du fichier de sauvegarde dans la même région.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-472">Azure Storage creates two replicas of the backup file in the same region.</span></span> <span data-ttu-id="4f7a7-473">Toutefois, la fréquence du processus de sauvegarde détermine votre RPO, c'est-à-dire la quantité de données, que vous risquez de perdre dans les scénarios d’urgence.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-473">However, the frequency of the backup process determines your RPO, which is the amount of data you might lose in disaster scenarios.</span></span> <span data-ttu-id="4f7a7-474">Par exemple, si vous sauvegardez des données de toutes les heures, et un incident survient deux minutes avant la sauvegarde, vous perdrez ainsi 58 minutes de données.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-474">For example, if you back up data every hour, and a disaster occurs two minutes before the backup, you will lose 58 minutes of data.</span></span> <span data-ttu-id="4f7a7-475">En outre, pour vous protéger contre une interruption de service à l’échelle régionale, vous devez copier les fichiers BACPAC vers une autre région.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-475">Also, to protect against a region-wide service disruption, you should copy the BACPAC files to an alternate region.</span></span> <span data-ttu-id="4f7a7-476">Pour plus d’informations, consultez [vue d’ensemble de la continuité avec Azure SQL Database](/azure/sql-database/sql-database-business-continuity).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-476">For more information, see [Overview of business continuity with Azure SQL Database](/azure/sql-database/sql-database-business-continuity).</span></span>

- <span data-ttu-id="4f7a7-477">**Utilisez géosauvegardes pour SQL Data Warehouse.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-477">**Use geo-backups for SQL Data Warehouse.**</span></span> <span data-ttu-id="4f7a7-478">Pour SQL Data Warehouse, utilisez les [géosauvegardes](/azure/sql-data-warehouse/backup-and-restore) pour restaurer vers une région associée pour la récupération d’urgence.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-478">For SQL Data Warehouse, use [geo-backups](/azure/sql-data-warehouse/backup-and-restore) to restore to a paired region for disaster recovery.</span></span> <span data-ttu-id="4f7a7-479">Ces sauvegardes sont effectuées toutes les 24 heures et peuvent être restaurées dans les 20 minutes dans la région jumelée.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-479">These backups are taken every 24 hours and can be restored within 20 minutes in the paired region.</span></span> <span data-ttu-id="4f7a7-480">Cette fonctionnalité est activée par défaut pour toutes les instances de SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-480">This feature is on by default for all SQL Data Warehouse instances.</span></span> <span data-ttu-id="4f7a7-481">Pour plus d’informations sur la façon de restaurer votre entrepôt de données, consultez [restaurer à partir d’une région géographique Azure à l’aide de PowerShell.](/azure/sql-data-warehouse/sql-data-warehouse-restore)</span><span class="sxs-lookup"><span data-stu-id="4f7a7-481">For more information on how to restore your data warehouse, see [Restore from an Azure geographical region using PowerShell.](/azure/sql-data-warehouse/sql-data-warehouse-restore)</span></span>

- <span data-ttu-id="4f7a7-482">**Répliquez des disques de machine virtuelle à l’aide d’Azure Site Recovery.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-482">**Replicate VM disks using Azure Site Recovery.**</span></span> <span data-ttu-id="4f7a7-483">Lorsque vous répliquez des machines virtuelles Azure à l’aide de [Site Recovery](/azure/site-recovery/), tous les disques de machine virtuelle sont continuellement répliquées vers la région cible en mode asynchrone.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-483">When you replicate Azure VMs using [Site Recovery](/azure/site-recovery/), all the VM disks are continuously replicated to the target region asynchronously.</span></span> <span data-ttu-id="4f7a7-484">Les points de récupération sont créés à intervalle de quelques minutes.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-484">The recovery points are created every few minutes.</span></span> <span data-ttu-id="4f7a7-485">Cela vous donne un RPO de quelques minutes.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-485">This gives you an RPO on the order of minutes.</span></span>
- <span data-ttu-id="4f7a7-486">**Sauvegarder SQL Server s’exécutant sur des machines virtuelles ou configurer une session de l’envoi de journaux.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-486">**Back up SQL Server running on VMs or configure a log-shipping session.**</span></span> <span data-ttu-id="4f7a7-487">Pour SQL Server exécuté sur une machine virtuelle, il existe deux options : les sauvegardes traditionnelles et la copie des journaux de transaction.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-487">For SQL Server running on VMs, there are two options: traditional backups and log shipping.</span></span> <span data-ttu-id="4f7a7-488">Les sauvegardes traditionnelles vous permettent de restaurer à un point spécifique dans le temps, mais le processus de récupération est lent.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-488">Traditional backups enable you to restore to a specific point in time, but the recovery process is slow.</span></span> <span data-ttu-id="4f7a7-489">Restauration de sauvegardes traditionnelles nécessite que vous démarrez avec une sauvegarde complète initiale et puis appliquez toutes les sauvegardes effectuées ultérieurement.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-489">Restoring traditional backups requires that you start with an initial full backup and then apply any backups taken after that.</span></span> <span data-ttu-id="4f7a7-490">La deuxième option consiste à configurer une session de l’envoi de journaux pour retarder la restauration de sauvegardes de journaux (par exemple, de deux heures).</span><span class="sxs-lookup"><span data-stu-id="4f7a7-490">The second option is to configure a log-shipping session to delay the restore of log backups (for example, by two hours).</span></span> <span data-ttu-id="4f7a7-491">Vous disposez ainsi d’une fenêtre permettant de récupérer des erreurs identifiées sur la sauvegarde primaire.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-491">This provides a window to recover from errors made on the primary.</span></span>
- <span data-ttu-id="4f7a7-492">**Utiliser un processus personnalisé ou un outil tiers pour la sauvegarde de stockage Azure.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-492">**Use a custom process or third-party tool for Azure Storage backup.**</span></span> <span data-ttu-id="4f7a7-493">Pour le stockage Azure, vous pouvez développer un processus de sauvegarde personnalisé ou utiliser un outil de sauvegarde tiers.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-493">For Azure Storage, you can develop a custom backup process or use a third-party backup tool.</span></span> <span data-ttu-id="4f7a7-494">La plupart des conceptions d’applications comportent des complexités supplémentaires, dans le stockage le ressources référencent mutuellement.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-494">Most application designs have additional complexities, in which storage resources reference each other.</span></span> <span data-ttu-id="4f7a7-495">Par exemple, considérez une base de données SQL avec une colonne qui accède à un objet blob dans stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-495">For example, consider a SQL database with a column that links to a blob in Azure Storage.</span></span> <span data-ttu-id="4f7a7-496">Si les sauvegardes ne sont pas effectuées simultanément, cela peut être dû à l’absence de sauvegarde du pointeur vers un objet blob de la base de données avant la défaillance.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-496">If the backups do not happen simultaneously, the database might have a pointer to a blob that was not backed up before the failure.</span></span> <span data-ttu-id="4f7a7-497">L’application ou le plan de récupération d’urgence doit implémenter des processus pour gérer cette incohérence une fois la récupération effectuée.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-497">The application or disaster recovery plan must implement processes to handle this inconsistency after a recovery.</span></span>
- <span data-ttu-id="4f7a7-498">**Utilisez la réplication native ou les fonctionnalités de capture instantanée pour d’autres plateformes de données hébergées sur des machines virtuelles.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-498">**Use the native replication or snapshot capabilities for other data platforms hosted on VMs.**</span></span> <span data-ttu-id="4f7a7-499">Autres plateformes de données, telles que Elasticsearch ou MongoDB, ont leurs propres fonctionnalités et les considérations lors de la création d’une sauvegarde intégrée et le processus de restauration.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-499">Other data platforms, such as Elasticsearch or MongoDB, have their own capabilities and considerations when creating an integrated backup and restore process.</span></span> <span data-ttu-id="4f7a7-500">Pour ces plateformes de données, la recommandation générale consiste à utiliser toute réplication basée sur l’intégration native ou disponible ou des fonctionnalités de capture instantanée.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-500">For these data platforms, the general recommendation is to use any native or available integration-based replication or snapshot capabilities.</span></span> <span data-ttu-id="4f7a7-501">Si ces fonctionnalités n’existent pas ou ne conviennent pas, envisagez d’utiliser des captures instantanées de disque ou de sauvegarde Azure pour créer une copie de point-à-temps des données d’application.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-501">If those capabilities don't exist or aren't suitable, consider using Azure Backup or disk snapshots to create a point-in-time copy of application data.</span></span> <span data-ttu-id="4f7a7-502">Dans tous les cas, il est important de déterminer comment effectuer des sauvegardes cohérentes, en particulier lorsque les données d’application s’étend sur plusieurs systèmes de fichiers ou de plusieurs lecteurs sont combinés en un seul système de fichiers.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-502">In all cases, it's important to determine how to achieve consistent backups, especially when application data spans multiple files systems or multiple drives are combined into a single file system.</span></span>
- <span data-ttu-id="4f7a7-503">**Étudiez les méthodes de réplication pour les sources de données de votre application.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-503">**Understand the replication methods for your application's data sources.**</span></span> <span data-ttu-id="4f7a7-504">Vos données d’application seront stockées dans différentes sources de données et seront ont des exigences de disponibilité de divers.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-504">Your application data will be stored in different data sources and will have varied availability requirements.</span></span> <span data-ttu-id="4f7a7-505">Évaluer les méthodes de réplication pour chaque type de stockage de données dans Azure, y compris [redondance du stockage Azure](/azure/storage/storage-redundancy/) et [géo-réplication active de la base de données SQL](/azure/sql-database/sql-database-geo-replication-overview/) pour vous assurer que votre application données exigences sont satisfaites.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-505">Evaluate the replication methods for each type of data storage in Azure, including [Azure Storage redundancy](/azure/storage/storage-redundancy/) and [SQL Database active geo-replication](/azure/sql-database/sql-database-geo-replication-overview/) to ensure that your application's data requirements are satisfied.</span></span> <span data-ttu-id="4f7a7-506">Si vous répliquez des machines virtuelles Azure à l’aide de [Site Recovery](/azure/site-recovery/), tous les disques de machine virtuelle sont continuellement répliquées vers la région cible en mode asynchrone.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-506">If you replicate Azure VMs using [Site Recovery](/azure/site-recovery/), all the VM disks are continuously replicated to the target region asynchronously.</span></span> <span data-ttu-id="4f7a7-507">Les points de récupération sont créés à intervalle de quelques minutes.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-507">The recovery points are created every few minutes.</span></span>
- <span data-ttu-id="4f7a7-508">**Établir des stratégies de données pour la récupération d’urgence.**</span><span class="sxs-lookup"><span data-stu-id="4f7a7-508">**Establish data strategies for disaster recovery.**</span></span> <span data-ttu-id="4f7a7-509">Gestion appropriée des données sont un aspect complexe de tout plan de récupération d’urgence.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-509">Proper data handling is a challenging aspect of any disaster recovery plan.</span></span> <span data-ttu-id="4f7a7-510">Pendant le processus de récupération, la restauration des données est ce qui prend généralement le plus de temps.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-510">During the recovery process, data restoration typically takes the most time.</span></span> <span data-ttu-id="4f7a7-511">Choix différents quant à la réduction des fonctionnalités entraîne des problèmes complexes de la récupération des données et la cohérence.</span><span class="sxs-lookup"><span data-stu-id="4f7a7-511">Different choices for reducing functionality result in difficult challenges for data recovery and consistency.</span></span>

## <a name="next-steps"></a><span data-ttu-id="4f7a7-512">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="4f7a7-512">Next steps</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="4f7a7-513">Tester la résilience et disponibilité</span><span class="sxs-lookup"><span data-stu-id="4f7a7-513">Test for resiliency and availability</span></span>](./testing.md)
