---
title: Style d’architecture Big Data
titleSuffix: Azure Application Architecture Guide
description: Décrit les avantages, les inconvénients et les bonnes pratiques des architectures Big Data sur Azure.
author: MikeWasson
ms.date: 08/30/2018
ms.custom: seojan19
ms.openlocfilehash: 507cd4dcf74ed7e106a99b93dd029dfdffd6e4bc
ms.sourcegitcommit: 1f4cdb08fe73b1956e164ad692f792f9f635b409
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2019
ms.locfileid: "54112496"
---
# <a name="big-data-architecture-style"></a><span data-ttu-id="4c850-103">Style d’architecture Big Data</span><span class="sxs-lookup"><span data-stu-id="4c850-103">Big data architecture style</span></span>

<span data-ttu-id="4c850-104">Une architecture Big Data est conçue pour gérer l’ingestion, le traitement et l’analyse de données trop volumineuses ou complexes pour les systèmes de base de données traditionnels.</span><span class="sxs-lookup"><span data-stu-id="4c850-104">A big data architecture is designed to handle the ingestion, processing, and analysis of data that is too large or complex for traditional database systems.</span></span>

![Diagramme logique d’un style d’architecture Big Data](./images/big-data-logical.svg)

<span data-ttu-id="4c850-106">Les solutions Big Data impliquent généralement un ou plusieurs des types de charges de travail suivants :</span><span class="sxs-lookup"><span data-stu-id="4c850-106">Big data solutions typically involve one or more of the following types of workload:</span></span>

- <span data-ttu-id="4c850-107">Traitement par lots des sources Big Data au repos.</span><span class="sxs-lookup"><span data-stu-id="4c850-107">Batch processing of big data sources at rest.</span></span>
- <span data-ttu-id="4c850-108">Traitement en temps réel des Big Data en mouvement.</span><span class="sxs-lookup"><span data-stu-id="4c850-108">Real-time processing of big data in motion.</span></span>
- <span data-ttu-id="4c850-109">Exploration interactive des Big Data.</span><span class="sxs-lookup"><span data-stu-id="4c850-109">Interactive exploration of big data.</span></span>
- <span data-ttu-id="4c850-110">Analyse prédictive et apprentissage machine.</span><span class="sxs-lookup"><span data-stu-id="4c850-110">Predictive analytics and machine learning.</span></span>

<span data-ttu-id="4c850-111">La plupart des architectures Big Data incluent tout ou partie des composants suivants :</span><span class="sxs-lookup"><span data-stu-id="4c850-111">Most big data architectures include some or all of the following components:</span></span>

- <span data-ttu-id="4c850-112">**Sources de données** : Toutes les solutions Big Data reposent sur une ou plusieurs sources de données.</span><span class="sxs-lookup"><span data-stu-id="4c850-112">**Data sources**: All big data solutions start with one or more data sources.</span></span> <span data-ttu-id="4c850-113">Voici quelques exemples :</span><span class="sxs-lookup"><span data-stu-id="4c850-113">Examples include:</span></span>

  - <span data-ttu-id="4c850-114">Magasins de données d’application, tels que des bases de données relationnelles.</span><span class="sxs-lookup"><span data-stu-id="4c850-114">Application data stores, such as relational databases.</span></span>
  - <span data-ttu-id="4c850-115">Fichiers statiques produits par les applications, tels que les fichiers journaux de serveur web.</span><span class="sxs-lookup"><span data-stu-id="4c850-115">Static files produced by applications, such as web server log files.</span></span>
  - <span data-ttu-id="4c850-116">Sources de données en temps réel, tels que les appareils IoT.</span><span class="sxs-lookup"><span data-stu-id="4c850-116">Real-time data sources, such as IoT devices.</span></span>

- <span data-ttu-id="4c850-117">**Stockage des données** : Les données destinées aux opérations de traitement par lots sont généralement stockées dans un magasin de fichiers distribués, qui peut contenir de vastes volumes de fichiers volumineux dans divers formats.</span><span class="sxs-lookup"><span data-stu-id="4c850-117">**Data storage**: Data for batch processing operations is typically stored in a distributed file store that can hold high volumes of large files in various formats.</span></span> <span data-ttu-id="4c850-118">Ce type de magasin est souvent appelé « *lac de données* ».</span><span class="sxs-lookup"><span data-stu-id="4c850-118">This kind of store is often called a *data lake*.</span></span> <span data-ttu-id="4c850-119">Les options pour l’implémentation de ce stockage incluent des conteneurs Azure Data Lake Store ou les conteneurs blob dans le stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="4c850-119">Options for implementing this storage include Azure Data Lake Store or blob containers in Azure Storage.</span></span>

- <span data-ttu-id="4c850-120">**Traitement par lots** : Étant donné que les jeux de données sont trop lourds, une solution Big Data doit souvent traiter les fichiers de données à l’aide de traitements par lots à longue durée d’exécution pour filtrer, agréger et préparer les données en vue de l’analyse.</span><span class="sxs-lookup"><span data-stu-id="4c850-120">**Batch processing**: Because the data sets are so large, often a big data solution must process data files using long-running batch jobs to filter, aggregate, and otherwise prepare the data for analysis.</span></span> <span data-ttu-id="4c850-121">Généralement, ces travaux impliquent la lecture des fichiers source, leur traitement et l’écriture de la sortie dans de nouveaux fichiers.</span><span class="sxs-lookup"><span data-stu-id="4c850-121">Usually these jobs involve reading source files, processing them, and writing the output to new files.</span></span> <span data-ttu-id="4c850-122">Les options incluent l’exécution de travaux U-SQL dans Azure Data Lake Analytics, à l’aide de travaux personnalisés de mappage/réduction, Pig ou Hive dans un cluster HDInsight Hadoop ou à l’aide des programmes Java, Scala ou Python dans un cluster HDInsight Spark.</span><span class="sxs-lookup"><span data-stu-id="4c850-122">Options include running U-SQL jobs in Azure Data Lake Analytics, using Hive, Pig, or custom Map/Reduce jobs in an HDInsight Hadoop cluster, or using Java, Scala, or Python programs in an HDInsight Spark cluster.</span></span>

- <span data-ttu-id="4c850-123">**Ingestion de messages en temps réel** : Si la solution inclut des sources en temps réel, l’architecture doit inclure un moyen pour capturer et stocker des messages en temps réel pour le traitement de flux de données.</span><span class="sxs-lookup"><span data-stu-id="4c850-123">**Real-time message ingestion**: If the solution includes real-time sources, the architecture must include a way to capture and store real-time messages for stream processing.</span></span> <span data-ttu-id="4c850-124">Il peut s’agir d’un simple magasin de données, où les messages entrants sont déposés dans un dossier en vue du traitement.</span><span class="sxs-lookup"><span data-stu-id="4c850-124">This might be a simple data store, where incoming messages are dropped into a folder for processing.</span></span> <span data-ttu-id="4c850-125">Toutefois, de nombreuses solutions besoin d’un magasin d’ingestion des messages qui agit comme une mémoire tampon pour les messages et qui prend en charge un traitement de montée en puissance, une remise fiable et d’autres sémantiques de files d’attente de message.</span><span class="sxs-lookup"><span data-stu-id="4c850-125">However, many solutions need a message ingestion store to act as a buffer for messages, and to support scale-out processing, reliable delivery, and other message queuing semantics.</span></span> <span data-ttu-id="4c850-126">Les options incluent Azure Event Hubs, Azure IoT Hubs et Kafka.</span><span class="sxs-lookup"><span data-stu-id="4c850-126">Options include Azure Event Hubs, Azure IoT Hubs, and Kafka.</span></span>

- <span data-ttu-id="4c850-127">**Traitement de flux** : Après avoir capturé les messages en temps réel, la solution doit les traiter en filtrant, en agrégeant et, plus généralement, en préparant les données pour l’analyse.</span><span class="sxs-lookup"><span data-stu-id="4c850-127">**Stream processing**: After capturing real-time messages, the solution must process them by filtering, aggregating, and otherwise preparing the data for analysis.</span></span> <span data-ttu-id="4c850-128">Les données de flux traitées sont ensuite écrites dans un récepteur de sortie.</span><span class="sxs-lookup"><span data-stu-id="4c850-128">The processed stream data is then written to an output sink.</span></span> <span data-ttu-id="4c850-129">Azure Stream Analytics fournit un service de traitement de flux managé reposant sur des requêtes SQL à l’exécution permanente qui fonctionnent sur les flux de données indépendants.</span><span class="sxs-lookup"><span data-stu-id="4c850-129">Azure Stream Analytics provides a managed stream processing service based on perpetually running SQL queries that operate on unbounded streams.</span></span> <span data-ttu-id="4c850-130">Vous pouvez également utiliser des technologies de flux Apache open source comme Storm et Spark dans un cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="4c850-130">You can also use open source Apache streaming technologies like Storm and Spark Streaming in an HDInsight cluster.</span></span>

- <span data-ttu-id="4c850-131">**Magasin de données analytiques** : De nombreuses solutions Big Data préparent les données pour l’analyse, puis fournissent les données traitées dans un format structuré qui peut être interrogé à l’aide des outils d’analyse.</span><span class="sxs-lookup"><span data-stu-id="4c850-131">**Analytical data store**: Many big data solutions prepare data for analysis and then serve the processed data in a structured format that can be queried using analytical tools.</span></span> <span data-ttu-id="4c850-132">Le magasin de données analytique utilisé pour répondre à ces requêtes peut être un entrepôt de données relationnelles de type Kimball, comme indiqué dans les solutions décisionnelles (BI) plus traditionnelles.</span><span class="sxs-lookup"><span data-stu-id="4c850-132">The analytical data store used to serve these queries can be a Kimball-style relational data warehouse, as seen in most traditional business intelligence (BI) solutions.</span></span> <span data-ttu-id="4c850-133">Les données peuvent également être présentées via une technologie NoSQL à faible latence, telle que HBase, ou via une base de données Hive interactif qui fournit une abstraction de métadonnées sur les fichiers de données dans le magasin de données distribuées.</span><span class="sxs-lookup"><span data-stu-id="4c850-133">Alternatively, the data could be presented through a low-latency NoSQL technology such as HBase, or an interactive Hive database that provides a metadata abstraction over data files in the distributed data store.</span></span> <span data-ttu-id="4c850-134">Azure SQL Data Warehouse fournit un service managé pour l’entreposage cloud des données à grande échelle.</span><span class="sxs-lookup"><span data-stu-id="4c850-134">Azure SQL Data Warehouse provides a managed service for large-scale, cloud-based data warehousing.</span></span> <span data-ttu-id="4c850-135">HDInsight prend en charge les formats Hive interactif, HBase et Spark SQL, qui peuvent également servir à préparer les données en vue de l’analyse.</span><span class="sxs-lookup"><span data-stu-id="4c850-135">HDInsight supports Interactive Hive, HBase, and Spark SQL, which can also be used to serve data for analysis.</span></span>

- <span data-ttu-id="4c850-136">**Analyse et rapports** : La plupart des solutions Big Data ont pour but de fournir des informations sur les données par le biais de l’analyse et des rapports.</span><span class="sxs-lookup"><span data-stu-id="4c850-136">**Analysis and reporting**: The goal of most big data solutions is to provide insights into the data through analysis and reporting.</span></span> <span data-ttu-id="4c850-137">Pour permettre aux utilisateurs d’analyser les données, l’architecture peut inclure une couche de modélisation des données, comme un cube OLAP multidimensionnel ou un modèle de données tabulaire dans Azure Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="4c850-137">To empower users to analyze the data, the architecture may include a data modeling layer, such as a multidimensional OLAP cube or tabular data model in Azure Analysis Services.</span></span> <span data-ttu-id="4c850-138">Elle peut également prendre en charge le décisionnel libre-service, en utilisant les technologies de modélisation et de visualisation de Microsoft Power BI ou Microsoft Excel.</span><span class="sxs-lookup"><span data-stu-id="4c850-138">It might also support self-service BI, using the modeling and visualization technologies in Microsoft Power BI or Microsoft Excel.</span></span> <span data-ttu-id="4c850-139">L’analyse et les rapports peuvent aussi prendre la forme d’une exploration interactive des données par les scientifiques de données ou les analystes de données.</span><span class="sxs-lookup"><span data-stu-id="4c850-139">Analysis and reporting can also take the form of interactive data exploration by data scientists or data analysts.</span></span> <span data-ttu-id="4c850-140">Pour ces scénarios, plusieurs services Azure prennent en charge les blocs-notes analytiques, tels que Jupyter, ce qui permet à ces utilisateurs de tirer parti de leurs connaissances avec Python ou R. Pour l’exploration de données à grande échelle, vous pouvez utiliser Microsoft R Server seul ou avec Spark.</span><span class="sxs-lookup"><span data-stu-id="4c850-140">For these scenarios, many Azure services support analytical notebooks, such as Jupyter, enabling these users to leverage their existing skills with Python or R. For large-scale data exploration, you can use Microsoft R Server, either standalone or with Spark.</span></span>

- <span data-ttu-id="4c850-141">**Orchestration** : La plupart des solutions Big Data consistent en des opérations de traitement de données répétées, encapsulées dans des workflows, qui transforment les données source, déplacent les données entre plusieurs sources et récepteurs, chargent les données traitées dans un magasin de données analytique, ou envoient les résultats directement à un rapport ou à un tableau de bord.</span><span class="sxs-lookup"><span data-stu-id="4c850-141">**Orchestration**: Most big data solutions consist of repeated data processing operations, encapsulated in workflows, that transform source data, move data between multiple sources and sinks, load the processed data into an analytical data store, or push the results straight to a report or dashboard.</span></span> <span data-ttu-id="4c850-142">Pour automatiser ces workflows, vous pouvez utiliser une technologie d’orchestration telle qu’Azure Data Factory ou Apache Oozie avec Sqoop.</span><span class="sxs-lookup"><span data-stu-id="4c850-142">To automate these workflows, you can use an orchestration technology such Azure Data Factory or Apache Oozie and Sqoop.</span></span>

<span data-ttu-id="4c850-143">Azure inclut de nombreux services qui peuvent être utilisés dans une architecture Big Data.</span><span class="sxs-lookup"><span data-stu-id="4c850-143">Azure includes many services that can be used in a big data architecture.</span></span> <span data-ttu-id="4c850-144">Il existe deux grandes catégories :</span><span class="sxs-lookup"><span data-stu-id="4c850-144">They fall roughly into two categories:</span></span>

- <span data-ttu-id="4c850-145">Services managés, y compris Azure Data Lake Store, Azure Data Lake Analytics, Azure Data Warehouse, Azure Stream Analytics, Azure Event Hub, Azure IoT Hub et Azure Data Factory.</span><span class="sxs-lookup"><span data-stu-id="4c850-145">Managed services, including Azure Data Lake Store, Azure Data Lake Analytics, Azure Data Warehouse, Azure Stream Analytics, Azure Event Hub, Azure IoT Hub, and Azure Data Factory.</span></span>
- <span data-ttu-id="4c850-146">Technologies open source basées sur une plateforme Apache Hadoop, y compris HDFS, HBase, Hive, Pig, Spark, Storm, Oozie, Sqoop et Kafka.</span><span class="sxs-lookup"><span data-stu-id="4c850-146">Open source technologies based on the Apache Hadoop platform, including HDFS, HBase, Hive, Pig, Spark, Storm, Oozie, Sqoop, and Kafka.</span></span> <span data-ttu-id="4c850-147">Ces technologies sont disponibles sur Azure dans le service Azure HDInsight.</span><span class="sxs-lookup"><span data-stu-id="4c850-147">These technologies are available on Azure in the Azure HDInsight service.</span></span>

<span data-ttu-id="4c850-148">Ces options ne sont pas mutuellement exclusives, et de nombreuses solutions combinent les technologies open source avec les services Azure.</span><span class="sxs-lookup"><span data-stu-id="4c850-148">These options are not mutually exclusive, and many solutions combine open source technologies with Azure services.</span></span>

## <a name="when-to-use-this-architecture"></a><span data-ttu-id="4c850-149">Quand utiliser cette architecture</span><span class="sxs-lookup"><span data-stu-id="4c850-149">When to use this architecture</span></span>

<span data-ttu-id="4c850-150">Envisagez ce style d’architecture pour répondre aux besoins suivants :</span><span class="sxs-lookup"><span data-stu-id="4c850-150">Consider this architecture style when you need to:</span></span>

- <span data-ttu-id="4c850-151">Stocker et traiter des données dans des volumes trop vastes pour une base de données traditionnelle.</span><span class="sxs-lookup"><span data-stu-id="4c850-151">Store and process data in volumes too large for a traditional database.</span></span>
- <span data-ttu-id="4c850-152">Transformer des données non structurées en vue d’une analyse et de la création de rapports.</span><span class="sxs-lookup"><span data-stu-id="4c850-152">Transform unstructured data for analysis and reporting.</span></span>
- <span data-ttu-id="4c850-153">Capturer, traiter et analyser des flux de données indépendants en temps réel ou avec une faible latence.</span><span class="sxs-lookup"><span data-stu-id="4c850-153">Capture, process, and analyze unbounded streams of data in real time, or with low latency.</span></span>
- <span data-ttu-id="4c850-154">Utilisez Azure Machine Learning ou Microsoft Cognitive Services.</span><span class="sxs-lookup"><span data-stu-id="4c850-154">Use Azure Machine Learning or Microsoft Cognitive Services.</span></span>

## <a name="benefits"></a><span data-ttu-id="4c850-155">Avantages</span><span class="sxs-lookup"><span data-stu-id="4c850-155">Benefits</span></span>

- <span data-ttu-id="4c850-156">**Choix de technologie**.</span><span class="sxs-lookup"><span data-stu-id="4c850-156">**Technology choices**.</span></span> <span data-ttu-id="4c850-157">Vous pouvez combiner des services managés Azure et des technologies Apache dans des clusters HDInsight afin de tirer parti des compétences ou des investissements technologiques existants.</span><span class="sxs-lookup"><span data-stu-id="4c850-157">You can mix and match Azure managed services and Apache technologies in HDInsight clusters, to capitalize on existing skills or technology investments.</span></span>
- <span data-ttu-id="4c850-158">**Performances via le parallélisme**.</span><span class="sxs-lookup"><span data-stu-id="4c850-158">**Performance through parallelism**.</span></span> <span data-ttu-id="4c850-159">Les solutions Big Data tirent parti du parallélisme, ce qui en fait des solutions hautes performances qui s’adaptent à des volumes importants de données.</span><span class="sxs-lookup"><span data-stu-id="4c850-159">Big data solutions take advantage of parallelism, enabling high-performance solutions that scale to large volumes of data.</span></span>
- <span data-ttu-id="4c850-160">**Mise à l’échelle élastique**.</span><span class="sxs-lookup"><span data-stu-id="4c850-160">**Elastic scale**.</span></span> <span data-ttu-id="4c850-161">Tous les composants de l’architecture Big Data prennent en charge l’approvisionnement de montée en puissance, afin que vous puissiez ajuster votre solution aux petites ou aux grandes charges de travail et ne payer que pour les ressources que vous utilisez.</span><span class="sxs-lookup"><span data-stu-id="4c850-161">All of the components in the big data architecture support scale-out provisioning, so that you can adjust your solution to small or large workloads, and pay only for the resources that you use.</span></span>
- <span data-ttu-id="4c850-162">**Interopérabilité avec les solutions existantes**.</span><span class="sxs-lookup"><span data-stu-id="4c850-162">**Interoperability with existing solutions**.</span></span> <span data-ttu-id="4c850-163">Les composants de l’architecture Big Data sont également utilisés pour les solutions de décisionnel d’entreprise et de traitement IoT, ce qui vous permet de créer une solution intégrée pour toutes les charges de données.</span><span class="sxs-lookup"><span data-stu-id="4c850-163">The components of the big data architecture are also used for IoT processing and enterprise BI solutions, enabling you to create an integrated solution across data workloads.</span></span>

## <a name="challenges"></a><span data-ttu-id="4c850-164">Défis</span><span class="sxs-lookup"><span data-stu-id="4c850-164">Challenges</span></span>

- <span data-ttu-id="4c850-165">**Complexité** :</span><span class="sxs-lookup"><span data-stu-id="4c850-165">**Complexity**.</span></span> <span data-ttu-id="4c850-166">Les solutions Big Data peuvent être extrêmement complexes, avec nombreux composants pour gérer l’ingestion de données à partir de plusieurs sources de données.</span><span class="sxs-lookup"><span data-stu-id="4c850-166">Big data solutions can be extremely complex, with numerous components to handle data ingestion from multiple data sources.</span></span> <span data-ttu-id="4c850-167">Il peut être difficile de générer, tester et dépanner des processus Big Data.</span><span class="sxs-lookup"><span data-stu-id="4c850-167">It can be challenging to build, test, and troubleshoot big data processes.</span></span> <span data-ttu-id="4c850-168">En outre, pour optimiser les performances, il faut parfois utiliser de nombreux paramètres de configuration sur plusieurs systèmes.</span><span class="sxs-lookup"><span data-stu-id="4c850-168">Moreover, there may be a large number of configuration settings across multiple systems that must be used in order to optimize performance.</span></span>
- <span data-ttu-id="4c850-169">**Compétences**.</span><span class="sxs-lookup"><span data-stu-id="4c850-169">**Skillset**.</span></span> <span data-ttu-id="4c850-170">De nombreuses technologies Big Data sont hautement spécialisées et utilisent des infrastructures et des langues assez rares pour des architectures d’applications plus générales.</span><span class="sxs-lookup"><span data-stu-id="4c850-170">Many big data technologies are highly specialized, and use frameworks and languages that are not typical of more general application architectures.</span></span> <span data-ttu-id="4c850-171">En revanche, les technologies Big Data font évoluer de nouvelles API qui s’appuient sur plusieurs langages établis.</span><span class="sxs-lookup"><span data-stu-id="4c850-171">On the other hand, big data technologies are evolving new APIs that build on more established languages.</span></span> <span data-ttu-id="4c850-172">Par exemple, le langage U-SQL dans Azure Data Lake Analytics repose sur une combinaison de Transact-SQL et C#.</span><span class="sxs-lookup"><span data-stu-id="4c850-172">For example, the U-SQL language in Azure Data Lake Analytics is based on a combination of Transact-SQL and C#.</span></span> <span data-ttu-id="4c850-173">De même, les API basées sur SQL sont disponibles pour Hive, HBase et Spark.</span><span class="sxs-lookup"><span data-stu-id="4c850-173">Similarly, SQL-based APIs are available for Hive, HBase, and Spark.</span></span>
- <span data-ttu-id="4c850-174">**Maturité de la technologie**.</span><span class="sxs-lookup"><span data-stu-id="4c850-174">**Technology maturity**.</span></span> <span data-ttu-id="4c850-175">La plupart des technologies utilisées en Big Data sont en pleine évolution.</span><span class="sxs-lookup"><span data-stu-id="4c850-175">Many of the technologies used in big data are evolving.</span></span> <span data-ttu-id="4c850-176">Tandis que les technologies Hadoop de base comme Hive et Pig se sont stabilisées, de nouvelles technologies, telles que Spark, introduisent des modifications et des améliorations importantes à chaque nouvelle version.</span><span class="sxs-lookup"><span data-stu-id="4c850-176">While core Hadoop technologies such as Hive and Pig have stabilized, emerging technologies such as Spark introduce extensive changes and enhancements with each new release.</span></span> <span data-ttu-id="4c850-177">Les services managés tels qu’Azure Data Lake Analytics et Azure Data Factory sont relativement récents par rapport aux autres services Azure et évolueront probablement au fil du temps.</span><span class="sxs-lookup"><span data-stu-id="4c850-177">Managed services such as Azure Data Lake Analytics and Azure Data Factory are relatively young, compared with other Azure services, and will likely evolve over time.</span></span>
- <span data-ttu-id="4c850-178">**Sécurité**.</span><span class="sxs-lookup"><span data-stu-id="4c850-178">**Security**.</span></span> <span data-ttu-id="4c850-179">Les solutions Big Data s’appuient généralement sur le stockage de toutes les données statiques dans un lac de données centralisé.</span><span class="sxs-lookup"><span data-stu-id="4c850-179">Big data solutions usually rely on storing all static data in a centralized data lake.</span></span> <span data-ttu-id="4c850-180">La sécurisation de l’accès à ces données peut être difficile, en particulier lorsque les données doivent être ingérées et consommées par plusieurs applications et plateformes.</span><span class="sxs-lookup"><span data-stu-id="4c850-180">Securing access to this data can be challenging, especially when the data must be ingested and consumed by multiple applications and platforms.</span></span>

## <a name="best-practices"></a><span data-ttu-id="4c850-181">Bonnes pratiques</span><span class="sxs-lookup"><span data-stu-id="4c850-181">Best practices</span></span>

- <span data-ttu-id="4c850-182">**Tirer parti du parallélisme**.</span><span class="sxs-lookup"><span data-stu-id="4c850-182">**Leverage parallelism**.</span></span> <span data-ttu-id="4c850-183">La plupart des technologies de traitement Big Data distribuent la charge sur plusieurs unités de traitement.</span><span class="sxs-lookup"><span data-stu-id="4c850-183">Most big data processing technologies distribute the workload across multiple processing units.</span></span> <span data-ttu-id="4c850-184">Cela nécessite la création et le stockage de fichiers de données statiques dans un format fractionnable.</span><span class="sxs-lookup"><span data-stu-id="4c850-184">This requires that static data files are created and stored in a splittable format.</span></span> <span data-ttu-id="4c850-185">Les systèmes de fichiers distribués tels que HDFS permettent d’optimiser les performances de lecture et d’écriture. Le traitement réel est effectué par plusieurs nœuds de cluster en parallèle, ce qui réduit globalement les temps de travail.</span><span class="sxs-lookup"><span data-stu-id="4c850-185">Distributed file systems such as HDFS can optimize read and write performance, and the actual processing is performed by multiple cluster nodes in parallel, which reduces overall job times.</span></span>

- <span data-ttu-id="4c850-186">**Partitionner les données**.</span><span class="sxs-lookup"><span data-stu-id="4c850-186">**Partition data**.</span></span> <span data-ttu-id="4c850-187">En général, le traitement par lots se produit selon une planification périodique &mdash;par exemple, selon une fréquence hebdomadaire ou mensuelle.</span><span class="sxs-lookup"><span data-stu-id="4c850-187">Batch processing usually happens on a recurring schedule &mdash; for example, weekly or monthly.</span></span> <span data-ttu-id="4c850-188">Partitionnez les fichiers de données et les structures de données telles que les tables en fonction de périodes qui correspondent à la planification du traitement.</span><span class="sxs-lookup"><span data-stu-id="4c850-188">Partition data files, and data structures such as tables, based on temporal periods that match the processing schedule.</span></span> <span data-ttu-id="4c850-189">Cela simplifie l’ingestion de données et la planification des travaux, et facilite la résolution des problèmes.</span><span class="sxs-lookup"><span data-stu-id="4c850-189">That simplifies data ingestion and job scheduling, and makes it easier to troubleshoot failures.</span></span> <span data-ttu-id="4c850-190">En outre, le partitionnement des tables utilisées dans les requêtes Hive, U-SQL ou SQL peut améliorer considérablement les performances des requêtes.</span><span class="sxs-lookup"><span data-stu-id="4c850-190">Also, partitioning tables that are used in Hive, U-SQL, or SQL queries can significantly improve query performance.</span></span>

- <span data-ttu-id="4c850-191">**Appliquer une sémantique de schéma à la lecture**.</span><span class="sxs-lookup"><span data-stu-id="4c850-191">**Apply schema-on-read semantics**.</span></span> <span data-ttu-id="4c850-192">Un lac de données permet de combiner le stockage de fichiers dans plusieurs formats, qu’ils soient structurés, semi-structurés ou non structurés.</span><span class="sxs-lookup"><span data-stu-id="4c850-192">Using a data lake lets you to combine storage for files in multiple formats, whether structured, semi-structured, or unstructured.</span></span> <span data-ttu-id="4c850-193">Utilisez une sémantique de *schéma à la lecture*, qui projette un schéma sur les données lors de leur traitement, et non lors du stockage.</span><span class="sxs-lookup"><span data-stu-id="4c850-193">Use *schema-on-read* semantics, which project a schema onto the data when the data is processing, not when the data is stored.</span></span> <span data-ttu-id="4c850-194">Cela confère une grande souplesse à la solution et empêche les goulots d’étranglement pendant l’ingestion des données, causés par la validation des données et la vérification du type.</span><span class="sxs-lookup"><span data-stu-id="4c850-194">This builds flexibility into the solution, and prevents bottlenecks during data ingestion caused by data validation and type checking.</span></span>

- <span data-ttu-id="4c850-195">**Traiter les données sur place**.</span><span class="sxs-lookup"><span data-stu-id="4c850-195">**Process data in-place**.</span></span> <span data-ttu-id="4c850-196">Les solutions BI traditionnelles utilisent souvent un processus ETL (extraction, transformation et chargement) pour déplacer des données dans un entrepôt de données.</span><span class="sxs-lookup"><span data-stu-id="4c850-196">Traditional BI solutions often use an extract, transform, and load (ETL) process to move data into a data warehouse.</span></span> <span data-ttu-id="4c850-197">Avec de plus grands volumes de données et une plus grande variété de formats, les solutions Big Data utilisent généralement des variantes de processus ETL, comme le processus TEL (transformation, extraction et chargement).</span><span class="sxs-lookup"><span data-stu-id="4c850-197">With larger volumes data, and a greater variety of formats, big data solutions generally use variations of ETL, such as transform, extract, and load (TEL).</span></span> <span data-ttu-id="4c850-198">Avec cette approche, les données sont traitées dans le magasin de données distribué, en leur donnant la structure requise avant de déplacer les données transformées dans un magasin de données analytique.</span><span class="sxs-lookup"><span data-stu-id="4c850-198">With this approach, the data is processed within the distributed data store, transforming it to the required structure, before moving the transformed data into an analytical data store.</span></span>

- <span data-ttu-id="4c850-199">**Équilibrer les coûts d’utilisation et de temps**.</span><span class="sxs-lookup"><span data-stu-id="4c850-199">**Balance utilization and time costs**.</span></span> <span data-ttu-id="4c850-200">Pour les travaux de traitement par lots, il est important de prendre en compte deux facteurs : le coût unitaire de nœuds de calcul et le coût par minute de l’utilisation de ces nœuds pour effectuer le travail.</span><span class="sxs-lookup"><span data-stu-id="4c850-200">For batch processing jobs, it's important to consider two factors: The per-unit cost of the compute nodes, and the per-minute cost of using those nodes to complete the job.</span></span> <span data-ttu-id="4c850-201">Par exemple, un programme de traitement par lots peut prendre les huit heures avec quatre nœuds de cluster.</span><span class="sxs-lookup"><span data-stu-id="4c850-201">For example, a batch job may take eight hours with four cluster nodes.</span></span> <span data-ttu-id="4c850-202">Toutefois, il peut arriver que le programme utilise les quatre nœuds uniquement pendant les deux premières heures et, par la suite, qu’il n’ait besoin que de deux nœuds.</span><span class="sxs-lookup"><span data-stu-id="4c850-202">However, it might turn out that the job uses all four nodes only during the first two hours, and after that, only two nodes are required.</span></span> <span data-ttu-id="4c850-203">Dans ce cas, exécuter l’intégralité du programme sur deux nœuds augmenterait la durée totale du travail, sans pour autant la doubler. Le coût total serait donc inférieur.</span><span class="sxs-lookup"><span data-stu-id="4c850-203">In that case, running the entire job on two nodes would increase the total job time, but would not double it, so the total cost would be less.</span></span> <span data-ttu-id="4c850-204">Dans certains scénarios métier, une durée de traitement plus longue peut être préférable au coût plus élevé lié à l’utilisation de ressources de cluster sous-exploitées.</span><span class="sxs-lookup"><span data-stu-id="4c850-204">In some business scenarios, a longer processing time may be preferable to the higher cost of using under-utilized cluster resources.</span></span>

- <span data-ttu-id="4c850-205">**Séparer les ressources de cluster**.</span><span class="sxs-lookup"><span data-stu-id="4c850-205">**Separate cluster resources**.</span></span> <span data-ttu-id="4c850-206">Lorsque vous déployez des clusters HDInsight, vous obtenez normalement de meilleures performances en approvisionnant des ressources de cluster distinctes pour chaque type de charge de travail.</span><span class="sxs-lookup"><span data-stu-id="4c850-206">When deploying HDInsight clusters, you will normally achieve better performance by provisioning separate cluster resources for each type of workload.</span></span> <span data-ttu-id="4c850-207">Par exemple, bien que les clusters Spark incluent Hive, si vous avez besoin d’effectuer un traitement intensif avec Hive et Spark, vous devez envisager de déployer des clusters dédiés distincts pour Spark et Hadoop.</span><span class="sxs-lookup"><span data-stu-id="4c850-207">For example, although Spark clusters include Hive, if you need to perform extensive processing with both Hive and Spark, you should consider deploying separate dedicated Spark and Hadoop clusters.</span></span> <span data-ttu-id="4c850-208">De même, si vous utilisez HBase et Storm pour le traitement de flux de données à faible latence et Hive pour le traitement par lots, envisagez des clusters distincts pour Storm, HBase et Hadoop.</span><span class="sxs-lookup"><span data-stu-id="4c850-208">Similarly, if you are using HBase and Storm for low latency stream processing and Hive for batch processing, consider separate clusters for Storm, HBase, and Hadoop.</span></span>

- <span data-ttu-id="4c850-209">**Orchestrer l’ingestion de données**.</span><span class="sxs-lookup"><span data-stu-id="4c850-209">**Orchestrate data ingestion**.</span></span> <span data-ttu-id="4c850-210">Dans certains cas, les applications métier existantes peuvent écrire des fichiers de données destinés à un traitement par lots directement dans les conteneurs d’objets blob de stockage Azure, où ils peuvent être consommés par HDInsight ou Azure Data Lake Analytics.</span><span class="sxs-lookup"><span data-stu-id="4c850-210">In some cases, existing business applications may write data files for batch processing directly into Azure storage blob containers, where they can be consumed by HDInsight or Azure Data Lake Analytics.</span></span> <span data-ttu-id="4c850-211">Toutefois, vous devez souvent orchestrer l’ingestion de données dans le lac de données à partir de sources de données externes ou locales.</span><span class="sxs-lookup"><span data-stu-id="4c850-211">However, you will often need to orchestrate the ingestion of data from on-premises or external data sources into the data lake.</span></span> <span data-ttu-id="4c850-212">Utilisez un pipeline ou un workflow d’orchestration, tels que ceux pris en charge par Azure Data Factory ou Oozie, pour effectuer cette opération de manière prévisible et facile à gérer de manière centralisée.</span><span class="sxs-lookup"><span data-stu-id="4c850-212">Use an orchestration workflow or pipeline, such as those supported by Azure Data Factory or Oozie, to achieve this in a predictable and centrally manageable fashion.</span></span>

- <span data-ttu-id="4c850-213">**Nettoyer les données sensibles tôt**.</span><span class="sxs-lookup"><span data-stu-id="4c850-213">**Scrub sensitive data early**.</span></span> <span data-ttu-id="4c850-214">Le workflow d’ingestion de données doit nettoyer les données sensibles tôt dans le processus pour éviter de les stocker dans le lac de données.</span><span class="sxs-lookup"><span data-stu-id="4c850-214">The data ingestion workflow should scrub sensitive data early in the process, to avoid storing it in the data lake.</span></span>

## <a name="iot-architecture"></a><span data-ttu-id="4c850-215">Architecture IoT</span><span class="sxs-lookup"><span data-stu-id="4c850-215">IoT architecture</span></span>

<span data-ttu-id="4c850-216">L’Internet des objets (IoT) est un sous-ensemble spécialisé des solutions big data.</span><span class="sxs-lookup"><span data-stu-id="4c850-216">Internet of Things (IoT) is a specialized subset of big data solutions.</span></span> <span data-ttu-id="4c850-217">Le diagramme suivant présente une architecture logique possible pour IoT.</span><span class="sxs-lookup"><span data-stu-id="4c850-217">The following diagram shows a possible logical architecture for IoT.</span></span> <span data-ttu-id="4c850-218">Le diagramme met en avant les composants de diffusion d’événements de l’architecture.</span><span class="sxs-lookup"><span data-stu-id="4c850-218">The diagram emphasizes the event-streaming components of the architecture.</span></span>

![Diagramme d’une architecture IoT](./images/iot.png)

<span data-ttu-id="4c850-220">La **passerelle cloud** ingère les événements d’appareils à la limite du cloud en utilisant un système de messagerie fiable et à faible latence.</span><span class="sxs-lookup"><span data-stu-id="4c850-220">The **cloud gateway** ingests device events at the cloud boundary, using a reliable, low latency messaging system.</span></span>

<span data-ttu-id="4c850-221">Les appareils peuvent envoyer les événements directement à la passerelle cloud ou via une **passerelle de champ**.</span><span class="sxs-lookup"><span data-stu-id="4c850-221">Devices might send events directly to the cloud gateway, or through a **field gateway**.</span></span> <span data-ttu-id="4c850-222">Une passerelle de champ est un appareil ou un logiciel spécialisé, généralement colocalisée avec les appareils, qui reçoit les événements et les transfère à la passerelle cloud.</span><span class="sxs-lookup"><span data-stu-id="4c850-222">A field gateway is a specialized device or software, usually colocated with the devices, that receives events and forwards them to the cloud gateway.</span></span> <span data-ttu-id="4c850-223">La passerelle de champ peut aussi prétraiter les événements d’appareils bruts, remplissant des fonctions de filtrage, d’agrégation ou de transformation de protocole.</span><span class="sxs-lookup"><span data-stu-id="4c850-223">The field gateway might also preprocess the raw device events, performing functions such as filtering, aggregation, or protocol transformation.</span></span>

<span data-ttu-id="4c850-224">Après ingestion, les événements transitent par un ou plusieurs **processeurs de flux** qui peuvent acheminer les données (par exemple, vers le stockage) ou procéder à l’analytique et autres traitements.</span><span class="sxs-lookup"><span data-stu-id="4c850-224">After ingestion, events go through one or more **stream processors** that can route the data (for example, to storage) or perform analytics and other processing.</span></span>

<span data-ttu-id="4c850-225">Voici quelques types de traitement courants.</span><span class="sxs-lookup"><span data-stu-id="4c850-225">The following are some common types of processing.</span></span> <span data-ttu-id="4c850-226">(Cette liste n’est certainement pas exhaustive.)</span><span class="sxs-lookup"><span data-stu-id="4c850-226">(This list is certainly not exhaustive.)</span></span>

- <span data-ttu-id="4c850-227">Écriture de données d’événement dans un stockage froid pour archivage ou traitement analytique par lots.</span><span class="sxs-lookup"><span data-stu-id="4c850-227">Writing event data to cold storage, for archiving or batch analytics.</span></span>

- <span data-ttu-id="4c850-228">Analytique de séquence à chaud (« hot path analytics »), avec une analyse du flux d’événements en (quasi) temps réel, pour détecter les anomalies, reconnaître les modèles dans des fenêtres de temps glissantes ou déclencher des alertes quand une condition spécifique est rencontrée dans le flux.</span><span class="sxs-lookup"><span data-stu-id="4c850-228">Hot path analytics, analyzing the event stream in (near) real time, to detect anomalies, recognize patterns over rolling time windows, or trigger alerts when a specific condition occurs in the stream.</span></span>

- <span data-ttu-id="4c850-229">Gestion de types de messages d’appareils non liés à la télémétrie, tels que les notifications et les alarmes.</span><span class="sxs-lookup"><span data-stu-id="4c850-229">Handling special types of non-telemetry messages from devices, such as notifications and alarms.</span></span>

- <span data-ttu-id="4c850-230">Apprentissage automatique.</span><span class="sxs-lookup"><span data-stu-id="4c850-230">Machine learning.</span></span>

<span data-ttu-id="4c850-231">Les cadres gris représentent les composants d’un système IoT qui ne sont pas directement liés à la diffusion d’événements, mais qui sont inclus ici par souci d’exhaustivité.</span><span class="sxs-lookup"><span data-stu-id="4c850-231">The boxes that are shaded gray show components of an IoT system that are not directly related to event streaming, but are included here for completeness.</span></span>

- <span data-ttu-id="4c850-232">Le **registre d’appareils** est une base de données qui recense les appareils provisionnés, avec notamment leur ID et les métadonnées associées usuelles, telles que l’emplacement.</span><span class="sxs-lookup"><span data-stu-id="4c850-232">The **device registry** is a database of the provisioned devices, including the device IDs and usually device metadata, such as location.</span></span>

- <span data-ttu-id="4c850-233">L’**API de provisionnement** est une interface externe commune pour provisionner et inscrire de nouveaux appareils.</span><span class="sxs-lookup"><span data-stu-id="4c850-233">The **provisioning API** is a common external interface for provisioning and registering new devices.</span></span>

- <span data-ttu-id="4c850-234">Certaines solutions IoT autorisent l’envoi de **messages de commande et de contrôle** aux appareils.</span><span class="sxs-lookup"><span data-stu-id="4c850-234">Some IoT solutions allow **command and control messages** to be sent to devices.</span></span>

> <span data-ttu-id="4c850-235">Cette section a fourni une vue d’ensemble globale d’IoT et bon nombre de subtilités et d’écueils sont à prendre en considération.</span><span class="sxs-lookup"><span data-stu-id="4c850-235">This section has presented a very high-level view of IoT, and there are many subtleties and challenges to consider.</span></span> <span data-ttu-id="4c850-236">Pour obtenir une description et une présentation plus détaillées d’une architecture de référence, consultez [Microsoft Azure IoT Reference Architecture][iot-ref-arch] (PDF téléchargeable).</span><span class="sxs-lookup"><span data-stu-id="4c850-236">For a more detailed reference architecture and discussion, see the [Microsoft Azure IoT Reference Architecture][iot-ref-arch] (PDF download).</span></span>

## <a name="next-steps"></a><span data-ttu-id="4c850-237">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="4c850-237">Next steps</span></span>

- <span data-ttu-id="4c850-238">En savoir plus sur les [architectures big data](../../data-guide/big-data/index.md).</span><span class="sxs-lookup"><span data-stu-id="4c850-238">Learn more about [big data architectures](../../data-guide/big-data/index.md).</span></span>

 <!-- links -->

[iot-ref-arch]: https://azure.microsoft.com/updates/microsoft-azure-iot-reference-architecture-available/
