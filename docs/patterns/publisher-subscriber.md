---
title: Modèle éditeur-abonné
description: Permet à une application d’annoncer des événements à plusieurs consommateurs intéressés de manière asynchrone.
keywords: modèle de conception
author: alexbuckgit
ms.date: 12/07/2018
ms.topic: design-pattern
ms.service: architecture-center
ms.subservice: cloud-fundamentals
ms.openlocfilehash: f3d15d65aeab41977e6d30b8141baaa956da29d3
ms.sourcegitcommit: 579c39ff4b776704ead17a006bf24cd4cdc65edd
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/17/2019
ms.locfileid: "59640768"
---
# <a name="publisher-subscriber-pattern"></a><span data-ttu-id="6c7ab-104">Modèle éditeur-abonné</span><span class="sxs-lookup"><span data-stu-id="6c7ab-104">Publisher-Subscriber pattern</span></span>

<span data-ttu-id="6c7ab-105">Permettre à une application annoncer les événements à plusieurs consommateurs intéressées de façon asynchrone, sans couplage les expéditeurs aux récepteurs.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-105">Enable an application to announce events to multiple interested consumers asynchronously, without coupling the senders to the receivers.</span></span>

<span data-ttu-id="6c7ab-106">**Également appelé** : Messagerie de publication/d’abonnement</span><span class="sxs-lookup"><span data-stu-id="6c7ab-106">**Also called**: Pub/sub messaging</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="6c7ab-107">Contexte et problème</span><span class="sxs-lookup"><span data-stu-id="6c7ab-107">Context and problem</span></span>

<span data-ttu-id="6c7ab-108">Dans les applications cloud et distribuées, les composants du système ont souvent besoin de fournir des informations à d’autres composants au fur et à mesure que se produisent des événements.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-108">In cloud-based and distributed applications, components of the system often need to provide information to other components as events happen.</span></span>

<span data-ttu-id="6c7ab-109">La messagerie asynchrone est un moyen efficace de dissocier les expéditeurs des consommateurs et permet d’éviter de bloquer l’expéditeur dans l’attente d’une réponse.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-109">Asynchronous messaging is an effective way to decouple senders from consumers, and avoid blocking the sender to wait for a response.</span></span> <span data-ttu-id="6c7ab-110">En revanche, l’utilisation d’une file d’attente de messages dédiée pour chaque consommateur ne permet pas d’évoluer efficacement vers un grand nombre de consommateurs.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-110">However, using a dedicated message queue for each consumer does not effectively scale to many consumers.</span></span> <span data-ttu-id="6c7ab-111">En outre, certains consommateurs peuvent s’intéresser uniquement à un sous-ensemble des informations.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-111">Also, some of the consumers might be interested in only a subset of the information.</span></span> <span data-ttu-id="6c7ab-112">Comment est-ce que l’expéditeur peut annoncer des événements à tous les consommateurs intéressés sans connaître leurs identités ?</span><span class="sxs-lookup"><span data-stu-id="6c7ab-112">How can the sender announce events to all interested consumers without knowing their identities?</span></span>

## <a name="solution"></a><span data-ttu-id="6c7ab-113">Solution</span><span class="sxs-lookup"><span data-stu-id="6c7ab-113">Solution</span></span>

<span data-ttu-id="6c7ab-114">Introduisez un sous-système de messagerie asynchrone qui inclut les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="6c7ab-114">Introduce an asynchronous messaging subsystem that includes the following:</span></span>

- <span data-ttu-id="6c7ab-115">Un canal de messagerie en entrée utilisé par l’expéditeur.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-115">An input messaging channel used by the sender.</span></span> <span data-ttu-id="6c7ab-116">L’expéditeur empaquète des événements dans des messages, en utilisant un format de message connu, puis il envoie ces messages par le biais du canal d’entrée.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-116">The sender packages events into messages, using a known message format, and sends these messages via the input channel.</span></span> <span data-ttu-id="6c7ab-117">Dans ce modèle, l’expéditeur est également appelé *éditeur*.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-117">The sender in this pattern is also called the *publisher*.</span></span>

  > [!NOTE]
  > <span data-ttu-id="6c7ab-118">Un *message* est un paquet de données.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-118">A *message* is a packet of data.</span></span> <span data-ttu-id="6c7ab-119">Un *événement* est un message qui informe d’autres composants à propos d’une modification ou d’une action qui a eu lieu.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-119">An *event* is a message that notifies other components about a change or an action that has taken place.</span></span>

- <span data-ttu-id="6c7ab-120">Un seul canal de messagerie en sortie par consommateur.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-120">One output messaging channel per consumer.</span></span> <span data-ttu-id="6c7ab-121">Les consommateurs sont appelés *abonnés*.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-121">The consumers are known as *subscribers*.</span></span>

- <span data-ttu-id="6c7ab-122">Un mécanisme de copie de chaque message depuis le canal d’entrée jusqu’aux canaux de sortie pour tous les abonnés intéressés par ce message.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-122">A mechanism for copying each message from the input channel to the output channels for all subscribers interested in that message.</span></span> <span data-ttu-id="6c7ab-123">Cette opération est généralement gérée par un intermédiaire comme un courtier de messages ou un bus d’événements.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-123">This operation is typically handled by a intermediary such as a message broker or event bus.</span></span>

<span data-ttu-id="6c7ab-124">Le diagramme suivant montre les composants logiques de ce modèle :</span><span class="sxs-lookup"><span data-stu-id="6c7ab-124">The following diagram shows the logical components of this pattern:</span></span>

![Modèle éditeur-abonné qui utilise un courtier de messages](./_images/publish-subscribe.png)
 
<span data-ttu-id="6c7ab-126">La messagerie de publication/d’abonnement offre les avantages suivants :</span><span class="sxs-lookup"><span data-stu-id="6c7ab-126">Pub/sub messaging has the following benefits:</span></span>

- <span data-ttu-id="6c7ab-127">Elle dissocie les sous-systèmes qui ont quand même besoin de communiquer.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-127">It decouples subsystems that still need to communicate.</span></span> <span data-ttu-id="6c7ab-128">Les sous-systèmes peuvent être gérés indépendamment et les messages correctement gérés même si un ou plusieurs destinataires sont hors connexion.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-128">Subsystems can be managed independently, and messages can be properly managed even if one or more receivers are offline.</span></span>

- <span data-ttu-id="6c7ab-129">Elle accroît la scalabilité et améliore la réactivité de l’expéditeur.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-129">It increases scalability and improves responsiveness of the sender.</span></span> <span data-ttu-id="6c7ab-130">L’expéditeur peut rapidement envoyer un message unique au canal d’entrée, puis revenir à ses principales responsabilités de traitement.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-130">The sender can quickly send a single message to the input channel, then return to its core processing responsibilities.</span></span> <span data-ttu-id="6c7ab-131">L’infrastructure de messagerie se charge de vérifier que les messages sont remis aux abonnés intéressés.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-131">The messaging infrastructure is responsible for ensuring messages are delivered to interested subscribers.</span></span>

- <span data-ttu-id="6c7ab-132">Elle améliore la fiabilité.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-132">It improves reliability.</span></span> <span data-ttu-id="6c7ab-133">La messagerie asynchrone permet aux applications de continuer à s’exécuter sans interruption en cas de charge accrue et de gérer plus efficacement les défaillances intermittentes.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-133">Asynchronous messaging helps applications continue to run smoothly under increased loads and handle intermittent failures more effectively.</span></span>

- <span data-ttu-id="6c7ab-134">Elle permet un traitement différé ou planifié.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-134">It allows for deferred or scheduled processing.</span></span> <span data-ttu-id="6c7ab-135">Les abonnés peuvent attendre les heures creuses pour récupérer les messages ou bien router ou traiter les messages selon une planification spécifique.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-135">Subscribers can wait to pick up messages until off-peak hours, or messages can be routed or processed according to a specific schedule.</span></span>

- <span data-ttu-id="6c7ab-136">Elle permet une intégration plus simple entre des systèmes qui utilisent des plateformes, langages de programmation ou protocoles de communication différents, ainsi qu’entre des systèmes locaux et des applications qui s’exécutent dans le cloud.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-136">It enables simpler integration between systems using different platforms, programming languages, or communication protocols, as well as between on-premises systems and applications running in the cloud.</span></span>

- <span data-ttu-id="6c7ab-137">Elle facilite les workflows asynchrones au sein d’une entreprise.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-137">It facilitates asynchronous workflows across an enterprise.</span></span>

- <span data-ttu-id="6c7ab-138">Elle améliore la testabilité.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-138">It improves testability.</span></span> <span data-ttu-id="6c7ab-139">Les canaux peuvent être supervisés et les messages inspectés ou journalisés dans le cadre d’une stratégie de test d’intégration globale.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-139">Channels can be monitored and messages can be inspected or logged as part of an overall integration test strategy.</span></span>

- <span data-ttu-id="6c7ab-140">Elle permet de séparer les préoccupations de vos applications.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-140">It provides separation of concerns for your applications.</span></span> <span data-ttu-id="6c7ab-141">Chaque application peut se concentrer sur ses fonctionnalités principales, pendant que l’infrastructure de messagerie gère tout ce qui est obligatoire pour router les messages de manière fiable vers plusieurs consommateurs.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-141">Each application can focus on its core capabilities, while the messaging infrastructure handles everything required to reliably route messages to multiple consumers.</span></span> 

## <a name="issues-and-considerations"></a><span data-ttu-id="6c7ab-142">Problèmes et considérations</span><span class="sxs-lookup"><span data-stu-id="6c7ab-142">Issues and considerations</span></span>

<span data-ttu-id="6c7ab-143">Prenez en compte les points suivants lorsque vous choisissez comment implémenter ce modèle :</span><span class="sxs-lookup"><span data-stu-id="6c7ab-143">Consider the following points when deciding how to implement this pattern:</span></span>

- <span data-ttu-id="6c7ab-144">**Technologies existantes.**</span><span class="sxs-lookup"><span data-stu-id="6c7ab-144">**Existing technologies.**</span></span> <span data-ttu-id="6c7ab-145">Il est fortement recommandé d’utiliser des produits et services de messagerie disponibles qui prennent en charge un éditeur-abonné, plutôt que de créer le vôtre.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-145">It is strongly recommended to use available messaging products and services that support a publish-subscribe model, rather than building your own.</span></span> <span data-ttu-id="6c7ab-146">Dans Azure, envisagez d’utiliser [Service Bus](/azure/service-bus-messaging/) ou [Event Grid](/azure/event-grid/).</span><span class="sxs-lookup"><span data-stu-id="6c7ab-146">In Azure, consider using [Service Bus](/azure/service-bus-messaging/) or [Event Grid](/azure/event-grid/).</span></span> <span data-ttu-id="6c7ab-147">D’autres technologies utilisables pour la messagerie de publication/d’abonnement incluent Redis, RabbitMQ et Apache Kafka.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-147">Other technologies that can be used for pub/sub messaging include Redis, RabbitMQ, and Apache Kafka.</span></span>

- <span data-ttu-id="6c7ab-148">**Gestion de l’abonnement.**</span><span class="sxs-lookup"><span data-stu-id="6c7ab-148">**Subscription handling.**</span></span> <span data-ttu-id="6c7ab-149">L’infrastructure de messagerie doit fournir des mécanismes que les consommateurs peuvent utiliser pour s’abonner ou se désabonner des canaux disponibles.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-149">The messaging infrastructure must provide mechanisms that consumers can use to subscribe to or unsubscribe from available channels.</span></span>

- <span data-ttu-id="6c7ab-150">**Sécurité.**</span><span class="sxs-lookup"><span data-stu-id="6c7ab-150">**Security.**</span></span> <span data-ttu-id="6c7ab-151">La connexion à un canal de messages doit être limitée par une stratégie de sécurité afin d’éviter toute écoute électronique par des utilisateurs ou applications non autorisés.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-151">Connecting to any message channel must be restricted by security policy to prevent eavesdropping by unauthorized users or applications.</span></span>

- <span data-ttu-id="6c7ab-152">**Sous-ensembles de messages.**</span><span class="sxs-lookup"><span data-stu-id="6c7ab-152">**Subsets of messages.**</span></span> <span data-ttu-id="6c7ab-153">Les abonnés ne s’intéressent généralement qu’à un sous-ensemble des messages distribués par un éditeur.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-153">Subscribers are usually only interested in subset of the messages distributed by a publisher.</span></span> <span data-ttu-id="6c7ab-154">Les services de messagerie permettent souvent aux abonnés d’affiner l’ensemble de messages reçus par :</span><span class="sxs-lookup"><span data-stu-id="6c7ab-154">Messaging services often allow subscribers to narrow the set of messages received by:</span></span>

  - <span data-ttu-id="6c7ab-155">**Rubriques.**</span><span class="sxs-lookup"><span data-stu-id="6c7ab-155">**Topics.**</span></span> <span data-ttu-id="6c7ab-156">Chaque rubrique dispose d’un canal de sortie dédié et chaque consommateur peut s’abonner à toutes les rubriques correspondantes.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-156">Each topic has a dedicated output channel, and each consumer can subscribe to all relevant topics.</span></span>
  - <span data-ttu-id="6c7ab-157">**Filtrage du contenu.**</span><span class="sxs-lookup"><span data-stu-id="6c7ab-157">**Content filtering.**</span></span> <span data-ttu-id="6c7ab-158">Les messages sont inspectés et distribués en fonction de leur contenu.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-158">Messages are inspected and distributed based on the content of each message.</span></span> <span data-ttu-id="6c7ab-159">Chaque abonné peut spécifier le contenu qui l’intéresse.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-159">Each subscriber can specify the content it is interested in.</span></span>

- <span data-ttu-id="6c7ab-160">**Abonnement avec des caractères génériques.**</span><span class="sxs-lookup"><span data-stu-id="6c7ab-160">**Wildcard subscribers.**</span></span> <span data-ttu-id="6c7ab-161">Envisagez d’autoriser les abonnés à utiliser des caractères génériques pour s’abonner à plusieurs rubriques.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-161">Consider allowing subscribers to subscribe to multiple topics via wildcards.</span></span>

- <span data-ttu-id="6c7ab-162">**Communication bidirectionnelle.**</span><span class="sxs-lookup"><span data-stu-id="6c7ab-162">**Bi-directional communication.**</span></span> <span data-ttu-id="6c7ab-163">Les canaux d’un système de publication-abonnement sont traités comme des canaux unidirectionnels.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-163">The channels in a publish-subscribe system are treated as unidirectional.</span></span> <span data-ttu-id="6c7ab-164">Si un abonné spécifique a besoin d’envoyer un accusé de réception ou de communiquer un état au serveur de publication, envisagez d’utiliser le [modèle requête/réponse](http://www.enterpriseintegrationpatterns.com/patterns/messaging/RequestReply.html).</span><span class="sxs-lookup"><span data-stu-id="6c7ab-164">If a specific subscriber needs to send acknowledgement or communicate status back to the publisher, consider using the [Request/Reply Pattern](http://www.enterpriseintegrationpatterns.com/patterns/messaging/RequestReply.html).</span></span> <span data-ttu-id="6c7ab-165">Ce dernier utilise un seul canal pour envoyer un message à l’abonné et un canal de réponse distinct pour la communication avec le serveur de publication.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-165">This pattern uses one channel to send a message to the subscriber, and a separate reply channel for communicating back to the publisher.</span></span>

- <span data-ttu-id="6c7ab-166">**Classement des messages.**</span><span class="sxs-lookup"><span data-stu-id="6c7ab-166">**Message ordering.**</span></span> <span data-ttu-id="6c7ab-167">L’ordre dans lequel les instances du consommateur reçoivent les messages n’est pas garanti et ne reflète pas nécessairement l’ordre dans lequel les messages ont été créés.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-167">The order in which consumer instances receive messages isn't guaranteed, and doesn't necessarily reflect the order in which the messages were created.</span></span> <span data-ttu-id="6c7ab-168">Concevez le système de sorte à garantir que le traitement des messages est idempotent afin d’éliminer toute dépendance vis-à-vis de l’ordre de gestion des messages.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-168">Design the system to ensure that message processing is idempotent to help eliminate any dependency on the order of message handling.</span></span>

- <span data-ttu-id="6c7ab-169">**Priorité des messages.**</span><span class="sxs-lookup"><span data-stu-id="6c7ab-169">**Message priority.**</span></span> <span data-ttu-id="6c7ab-170">Certaines solutions peuvent exiger que les messages soient traités dans un ordre spécifique.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-170">Some solutions may require that messages are processed in a specific order.</span></span> <span data-ttu-id="6c7ab-171">Le [modèle de file d’attente avec un ordre de priorité](priority-queue.md) fournit un mécanisme qui permet de garantir que certains messages soient remis avant les autres.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-171">The [Priority Queue pattern](priority-queue.md) provides a mechanism for ensuring specific messages are delivered before others.</span></span>

- <span data-ttu-id="6c7ab-172">**Messages incohérents.**</span><span class="sxs-lookup"><span data-stu-id="6c7ab-172">**Poison messages.**</span></span> <span data-ttu-id="6c7ab-173">un message au format incorrect ou une tâche qui nécessite un accès à des ressources non disponibles peut entraîner l’échec d’une instance de service.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-173">A malformed message, or a task that requires access to resources that aren't available, can cause a service instance to fail.</span></span> <span data-ttu-id="6c7ab-174">Le système doit éviter que de tels messages soient retournés à la file d’attente.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-174">The system should prevent such messages being returned to the queue.</span></span> <span data-ttu-id="6c7ab-175">Essayez plutôt de capturer et stocker les détails de ces messages ailleurs afin de pouvoir les analyser si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-175">Instead, capture and store the details of these messages elsewhere so that they can be analyzed if necessary.</span></span>

- <span data-ttu-id="6c7ab-176">**Répétition des messages**.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-176">**Repeated messages.**</span></span> <span data-ttu-id="6c7ab-177">Le même message peut être envoyé plusieurs fois.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-177">The same message might be sent more than once.</span></span> <span data-ttu-id="6c7ab-178">Par exemple, l’expéditeur peut subir un échec après avoir posté un message.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-178">For example, the sender might fail after posting a message.</span></span> <span data-ttu-id="6c7ab-179">Une nouvelle instance de l’expéditeur peut alors démarrer et répéter ce message.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-179">Then a new instance of the sender might start up and repeat the message.</span></span> <span data-ttu-id="6c7ab-180">L’infrastructure de messagerie doit implémenter la détection et la suppression des messages en double en fonction des ID de message afin de veiller à ce qu’ils soient au maximum remis une fois.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-180">The messaging infrastructure should implement duplicate message detection and removal (also known as de-duping) based on message IDs in order to provide at-most-once delivery of messages.</span></span>

- <span data-ttu-id="6c7ab-181">**Expiration des messages.**</span><span class="sxs-lookup"><span data-stu-id="6c7ab-181">**Message expiration.**</span></span> <span data-ttu-id="6c7ab-182">Un message peut avoir une durée de vie limitée.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-182">A message might have a limited lifetime.</span></span> <span data-ttu-id="6c7ab-183">S’il n’est pas traité pendant cette durée, il n’est peut-être plus pertinent et doit alors être ignoré.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-183">If it isn't processed within this period, it might no longer be relevant and should be discarded.</span></span> <span data-ttu-id="6c7ab-184">Un expéditeur peut spécifier un délai d’expiration en tant que partie des données dans le message.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-184">A sender can specify an expiration time as part of the data in the message.</span></span> <span data-ttu-id="6c7ab-185">Un destinataire peut examiner ces informations avant de décider d’exécuter la logique métier associée au message.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-185">A receiver can examine this information before deciding whether to perform the business logic associated with the message.</span></span>

- <span data-ttu-id="6c7ab-186">**Planification des messages.**</span><span class="sxs-lookup"><span data-stu-id="6c7ab-186">**Message scheduling.**</span></span> <span data-ttu-id="6c7ab-187">Un message peut être temporairement interdit et ne pas être traité avant une date et une heure spécifiques.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-187">A message might be temporarily embargoed and should not be processed until a specific date and time.</span></span> <span data-ttu-id="6c7ab-188">Il ne doit pas être disponible pour un destinataire avant cette date.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-188">The message should not be available to a receiver until this time.</span></span>

## <a name="when-to-use-this-pattern"></a><span data-ttu-id="6c7ab-189">Quand utiliser ce modèle</span><span class="sxs-lookup"><span data-stu-id="6c7ab-189">When to use this pattern</span></span>

<span data-ttu-id="6c7ab-190">Utilisez ce modèle dans les situations suivantes :</span><span class="sxs-lookup"><span data-stu-id="6c7ab-190">Use this pattern when:</span></span>

- <span data-ttu-id="6c7ab-191">Une application a besoin de diffuser des informations à un nombre important de consommateurs.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-191">An application needs to broadcast information to a significant number of consumers.</span></span>

- <span data-ttu-id="6c7ab-192">Une application a besoin communiquer avec des applications ou services développés indépendamment, susceptibles d’utiliser des plateformes, langages de programmation et protocoles de communication différents.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-192">An application needs to communicate with one or more independently-developed applications or services, which may use different platforms, programming languages, and communication protocols.</span></span>

- <span data-ttu-id="6c7ab-193">Une application peut envoyer des informations aux consommateurs sans avoir besoin de réponses en temps réel de la part de ces consommateurs.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-193">An application can send information to consumers without requiring real-time responses from the consumers.</span></span>

- <span data-ttu-id="6c7ab-194">Les systèmes en cours d’intégration sont conçus pour prendre en charge un modèle de cohérence finale pour leurs données.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-194">The systems being integrated are designed to support an eventual consistency model for their data.</span></span>

- <span data-ttu-id="6c7ab-195">Une application a besoin de communiquer des informations à plusieurs consommateurs, dont les exigences de disponibilité ou les planifications de durée de fonctionnement peuvent différer de celles de l’expéditeur.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-195">An application needs to communicate information to multiple consumers, which may have different availability requirements or uptime schedules than the sender.</span></span>

<span data-ttu-id="6c7ab-196">Ce modèle peut ne pas avoir d’utilité dans les cas suivants :</span><span class="sxs-lookup"><span data-stu-id="6c7ab-196">This pattern might not be useful when:</span></span>

- <span data-ttu-id="6c7ab-197">Une application comporte seulement quelques consommateurs qui ont besoin d’informations considérablement différentes de l’application de production.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-197">An application has only a few consumers who need significantly different information from the producing application.</span></span>

- <span data-ttu-id="6c7ab-198">Une application exige une interaction en temps réel avec les consommateurs.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-198">An application requires near real-time interaction with consumers.</span></span>

## <a name="example"></a><span data-ttu-id="6c7ab-199">Exemples</span><span class="sxs-lookup"><span data-stu-id="6c7ab-199">Example</span></span>

<span data-ttu-id="6c7ab-200">Le diagramme suivant montre une architecture d’intégration d’entreprise qui utilise Service Bus pour coordonner des workflows et Event Grid pour avertir les sous-systèmes des événements qui se produisent.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-200">The following diagram shows an enterprise integration architecture that uses Service Bus to coordinate workflows, and Event Grid notify subsystems of events that occur.</span></span> <span data-ttu-id="6c7ab-201">Pour plus d’informations, consultez [Intégration d’entreprise sur Azure avec des files d’attente de messages et des événements](../reference-architectures/enterprise-integration/queues-events.md).</span><span class="sxs-lookup"><span data-stu-id="6c7ab-201">For more information, see [Enterprise integration on Azure using message queues and events](../reference-architectures/enterprise-integration/queues-events.md).</span></span>

![Architecture d’intégration d’entreprise](../reference-architectures/enterprise-integration/_images/enterprise-integration-queues-events.png)

## <a name="related-patterns-and-guidance"></a><span data-ttu-id="6c7ab-203">Conseils et modèles connexes</span><span class="sxs-lookup"><span data-stu-id="6c7ab-203">Related patterns and guidance</span></span>

<span data-ttu-id="6c7ab-204">Les modèles et les conseils suivants peuvent présenter un intérêt quand il s’agit d’implémenter ce modèle :</span><span class="sxs-lookup"><span data-stu-id="6c7ab-204">The following patterns and guidance might be relevant when implementing this pattern:</span></span>

- <span data-ttu-id="6c7ab-205">[Choisir entre des services Azure qui remettent des messages](/azure/event-grid/compare-messaging-services).</span><span class="sxs-lookup"><span data-stu-id="6c7ab-205">[Choose between Azure services that deliver messages](/azure/event-grid/compare-messaging-services).</span></span>

- <span data-ttu-id="6c7ab-206">Le [style d’architecture basée sur les événements](../guide/architecture-styles/event-driven.md) est un style d’architecture qui utilise la messagerie de publication/d’abonnement.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-206">The [Event-driven architecture style](../guide/architecture-styles/event-driven.md) is an architecture style that uses pub/sub messaging.</span></span>

- <span data-ttu-id="6c7ab-207">[Primer de messagerie asynchrone](https://msdn.microsoft.com/library/dn589781.aspx).</span><span class="sxs-lookup"><span data-stu-id="6c7ab-207">[Asynchronous Messaging Primer](https://msdn.microsoft.com/library/dn589781.aspx).</span></span> <span data-ttu-id="6c7ab-208">les files d’attente de messages sont un mécanisme de communication asynchrone.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-208">Message queues are an asynchronous communications mechanism.</span></span> <span data-ttu-id="6c7ab-209">Si un service consommateur doit envoyer une réponse à une application, il peut être nécessaire d’implémenter une certaine forme de messagerie de réponse.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-209">If a consumer service needs to send a reply to an application, it might be necessary to implement some form of response messaging.</span></span> <span data-ttu-id="6c7ab-210">Le document Notions élémentaires sur la messagerie asynchrone fournit des informations sur la façon d’implémenter une messagerie de demande/réponse en utilisant des files d’attente de messages.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-210">The Asynchronous Messaging Primer provides information on how to implement request/reply messaging using message queues.</span></span>

- <span data-ttu-id="6c7ab-211">[Modèle observateur](https://en.wikipedia.org/wiki/Observer_pattern).</span><span class="sxs-lookup"><span data-stu-id="6c7ab-211">[Observer Pattern](https://en.wikipedia.org/wiki/Observer_pattern).</span></span> <span data-ttu-id="6c7ab-212">Le modèle éditeur-abonné s’appuie sur le modèle observateur en dissociant les sujets des observateurs par le biais d’une messagerie asynchrone.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-212">The Publish-Subscribe pattern builds on the Observer pattern by decoupling subjects from observers via asynchronous messaging.</span></span>

- <span data-ttu-id="6c7ab-213">[Modèle du courtier de messages](https://en.wikipedia.org/wiki/Message_broker).</span><span class="sxs-lookup"><span data-stu-id="6c7ab-213">[Message Broker Pattern](https://en.wikipedia.org/wiki/Message_broker).</span></span> <span data-ttu-id="6c7ab-214">Nombreux sous-systèmes de messagerie qui prennent en charge de publication-abonnement modèle sont implémentées via un courtier de messages.</span><span class="sxs-lookup"><span data-stu-id="6c7ab-214">Many messaging subsystems that support a publish-subscribe model are implemented via a message broker.</span></span>
