---
title: Choisir une technologie d’ingestion de messages en temps réel
description: ''
author: zoinerTejada
ms.date: 02/12/2018
ms.topic: guide
ms.service: architecture-center
ms.subservice: cloud-fundamentals
ms.openlocfilehash: 9f787a0de5db97f5c0a5651b510e49762fbc44b9
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/20/2019
ms.locfileid: "58244880"
---
# <a name="choosing-a-real-time-message-ingestion-technology-in-azure"></a><span data-ttu-id="e8d32-102">Choisir une technologie d’ingestion de messages en temps réel dans Azure</span><span class="sxs-lookup"><span data-stu-id="e8d32-102">Choosing a real-time message ingestion technology in Azure</span></span>

<span data-ttu-id="e8d32-103">Le traitement en temps réel porte sur les flux de données qui sont capturés en temps réel et traités avec une latence minimale.</span><span class="sxs-lookup"><span data-stu-id="e8d32-103">Real time processing deals with streams of data that are captured in real-time and processed with minimal latency.</span></span> <span data-ttu-id="e8d32-104">De nombreuses solutions de traitement en temps réel ont besoin d’un magasin d’ingestion des messages qui agit comme une mémoire tampon pour les messages et qui prend en charge un traitement de montée en puissance, une remise fiable et d’autres sémantiques de files d’attente de message.</span><span class="sxs-lookup"><span data-stu-id="e8d32-104">Many real-time processing solutions need a message ingestion store to act as a buffer for messages, and to support scale-out processing, reliable delivery, and other message queuing semantics.</span></span>

<!-- markdownlint-disable MD026 -->

## <a name="what-are-your-options-for-real-time-message-ingestion"></a><span data-ttu-id="e8d32-105">Quelles sont vos options pour l’ingestion de messages en temps réel ?</span><span class="sxs-lookup"><span data-stu-id="e8d32-105">What are your options for real-time message ingestion?</span></span>

<!-- markdownlint-enable MD026 -->

- [<span data-ttu-id="e8d32-106">Azure Event Hubs</span><span class="sxs-lookup"><span data-stu-id="e8d32-106">Azure Event Hubs</span></span>](/azure/event-hubs/)
- [<span data-ttu-id="e8d32-107">Azure IoT Hub</span><span class="sxs-lookup"><span data-stu-id="e8d32-107">Azure IoT Hub</span></span>](/azure/iot-hub/)
- [<span data-ttu-id="e8d32-108">Kafka sur HDInsight</span><span class="sxs-lookup"><span data-stu-id="e8d32-108">Kafka on HDInsight</span></span>](/azure/hdinsight/kafka/apache-kafka-get-started)

## <a name="azure-event-hubs"></a><span data-ttu-id="e8d32-109">Hubs d'événements Azure</span><span class="sxs-lookup"><span data-stu-id="e8d32-109">Azure Event Hubs</span></span>

<span data-ttu-id="e8d32-110">[Azure Event Hubs](/azure/event-hubs/) est une plateforme de diffusion de données hautement évolutive et un service d’ingestion d’événements, capable de recevoir et de traiter des millions d’événements par seconde.</span><span class="sxs-lookup"><span data-stu-id="e8d32-110">[Azure Event Hubs](/azure/event-hubs/) is a highly scalable data streaming platform and event ingestion service, capable of receiving and processing millions of events per second.</span></span> <span data-ttu-id="e8d32-111">Les concentrateurs d’événements peuvent traiter et stocker des événements, des données ou la télémétrie produits par des logiciels et appareils distribués.</span><span class="sxs-lookup"><span data-stu-id="e8d32-111">Event Hubs can process and store events, data, or telemetry produced by distributed software and devices.</span></span> <span data-ttu-id="e8d32-112">Les données envoyées à un concentrateur d’événements peuvent être transformées et stockées à l’aide d’adaptateurs de traitement par lot/stockage ou d’un fournisseur d’analyse en temps réel.</span><span class="sxs-lookup"><span data-stu-id="e8d32-112">Data sent to an event hub can be transformed and stored using any real-time analytics provider or batching/storage adapters.</span></span> <span data-ttu-id="e8d32-113">Event Hubs fournit des fonctionnalités de publication-abonnement avec une faible latence à très grande échelle, ce qui le rend approprié pour les scénarios Big Data.</span><span class="sxs-lookup"><span data-stu-id="e8d32-113">Event Hubs provides publish-subscribe capabilities with low latency at massive scale, which makes it appropriate for big data scenarios.</span></span>

## <a name="azure-iot-hub"></a><span data-ttu-id="e8d32-114">Azure IoT Hub</span><span class="sxs-lookup"><span data-stu-id="e8d32-114">Azure IoT Hub</span></span>

<span data-ttu-id="e8d32-115">[Azure IoT Hub](/azure/iot-hub/) est un service managé qui permet des communications bidirectionnelles fiables et sécurisées entre des millions d’appareils IoT et un serveur principal basé sur cloud.</span><span class="sxs-lookup"><span data-stu-id="e8d32-115">[Azure IoT Hub](/azure/iot-hub/) is a managed service that enables reliable and secure bidirectional communications between millions of IoT devices and a cloud-based back end.</span></span>

<span data-ttu-id="e8d32-116">Les fonctionnalités d’IoT Hub incluent :</span><span class="sxs-lookup"><span data-stu-id="e8d32-116">Feature of IoT Hub include:</span></span>

- <span data-ttu-id="e8d32-117">Plusieurs options de communication appareil-à-cloud et cloud-à-appareil.</span><span class="sxs-lookup"><span data-stu-id="e8d32-117">Multiple options for device-to-cloud and cloud-to-device communication.</span></span> <span data-ttu-id="e8d32-118">Ces options comprennent la messagerie unidirectionnelle, le transfert de fichiers et les méthodes de demande-réponse.</span><span class="sxs-lookup"><span data-stu-id="e8d32-118">These options include one-way messaging, file transfer, and request-reply methods.</span></span>
- <span data-ttu-id="e8d32-119">Routage de messages vers d’autres services Azure.</span><span class="sxs-lookup"><span data-stu-id="e8d32-119">Message routing to other Azure services.</span></span>
- <span data-ttu-id="e8d32-120">Stockage utilisable dans une requête pour les métadonnées d’appareil et les informations d’état synchronisées.</span><span class="sxs-lookup"><span data-stu-id="e8d32-120">Queryable store for device metadata and synchronized state information.</span></span>
- <span data-ttu-id="e8d32-121">Sécurité des communications et le contrôle d’accès grâce aux clés de sécurité par appareil ou aux certificats X.509.</span><span class="sxs-lookup"><span data-stu-id="e8d32-121">Secure communications and access control using per-device security keys or X.509 certificates.</span></span>
- <span data-ttu-id="e8d32-122">Monitoring de la connectivité des appareils et des événements de gestion de l’identité des appareils.</span><span class="sxs-lookup"><span data-stu-id="e8d32-122">Monitoring of device connectivity and device identity management events.</span></span>

<span data-ttu-id="e8d32-123">En termes d’ingestion de messages, IoT Hub est similaire à Event Hubs.</span><span class="sxs-lookup"><span data-stu-id="e8d32-123">In terms of message ingestion, IoT Hub is similar to Event Hubs.</span></span> <span data-ttu-id="e8d32-124">Toutefois, il a été spécialement conçu pour gérer la connectivité des appareils IoT, pas seulement l’ingestion de messages.</span><span class="sxs-lookup"><span data-stu-id="e8d32-124">However, it was specifically designed for managing IoT device connectivity, not just message ingestion.</span></span> <span data-ttu-id="e8d32-125">Pour plus d’informations, consultez [Comparaison entre Azure IoT Hub et Azure Event Hubs](/azure/iot-hub/iot-hub-compare-event-hubs).</span><span class="sxs-lookup"><span data-stu-id="e8d32-125">For more information, see [Comparison of Azure IoT Hub and Azure Event Hubs](/azure/iot-hub/iot-hub-compare-event-hubs).</span></span>

## <a name="kafka-on-hdinsight"></a><span data-ttu-id="e8d32-126">Kafka sur HDInsight</span><span class="sxs-lookup"><span data-stu-id="e8d32-126">Kafka on HDInsight</span></span>

<span data-ttu-id="e8d32-127">[Apache Kafka](https://kafka.apache.org/) est une plateforme de diffusion en continu distribuée open source qui permet de générer des pipelines de données et des applications de diffusion en continu en temps réel.</span><span class="sxs-lookup"><span data-stu-id="e8d32-127">[Apache Kafka](https://kafka.apache.org/) is an open-source distributed streaming platform that can be used to build real-time data pipelines and streaming applications.</span></span> <span data-ttu-id="e8d32-128">Kafka fournit également des fonctionnalités de courtier de messages semblables à une file d’attente, où vous pouvez publier et vous abonner aux flux de données nommés.</span><span class="sxs-lookup"><span data-stu-id="e8d32-128">Kafka also provides message broker functionality similar to a message queue, where you can publish and subscribe to named data streams.</span></span> <span data-ttu-id="e8d32-129">Il est extrêmement rapide, tolérant aux pannes et horizontalement évolutif.</span><span class="sxs-lookup"><span data-stu-id="e8d32-129">It is horizontally scalable, fault-tolerant, and extremely fast.</span></span> <span data-ttu-id="e8d32-130">[Kafka sur HDInsight](/azure/hdinsight/kafka/apache-kafka-get-started) offre un Kafka en tant que service managé, hautement évolutif et hautement disponible dans Azure.</span><span class="sxs-lookup"><span data-stu-id="e8d32-130">[Kafka on HDInsight](/azure/hdinsight/kafka/apache-kafka-get-started) provides a Kafka as a managed, highly scalable, and highly available service in Azure.</span></span>

<span data-ttu-id="e8d32-131">Exemples de scénarios courants d’utilisation de Kafka :</span><span class="sxs-lookup"><span data-stu-id="e8d32-131">Some common use cases for Kafka are:</span></span>

- <span data-ttu-id="e8d32-132">**Messagerie**.</span><span class="sxs-lookup"><span data-stu-id="e8d32-132">**Messaging**.</span></span> <span data-ttu-id="e8d32-133">Dans la mesure où Kafka prend en charge le modèle de messagerie publication-abonnement, il est souvent utilisé comme courtier de messages.</span><span class="sxs-lookup"><span data-stu-id="e8d32-133">Because it supports the publish-subscribe message pattern, Kafka is often used as a message broker.</span></span>
- <span data-ttu-id="e8d32-134">**Suivi des activités**.</span><span class="sxs-lookup"><span data-stu-id="e8d32-134">**Activity tracking**.</span></span> <span data-ttu-id="e8d32-135">Étant donné que Kafka fournit la journalisation dans l’ordre des enregistrements, il peut être utilisé pour effectuer le suivi et recréer des activités, comme les actions d’un utilisateur sur un site web.</span><span class="sxs-lookup"><span data-stu-id="e8d32-135">Because Kafka provides in-order logging of records, it can be used to track and re-create activities, such as user actions on a web site.</span></span>
- <span data-ttu-id="e8d32-136">**Agrégation**.</span><span class="sxs-lookup"><span data-stu-id="e8d32-136">**Aggregation**.</span></span> <span data-ttu-id="e8d32-137">Avec le traitement de flux de données, vous pouvez agréger des informations à partir de différents flux afin de combiner et de centraliser les informations dans des données opérationnelles.</span><span class="sxs-lookup"><span data-stu-id="e8d32-137">Using stream processing, you can aggregate information from different streams to combine and centralize the information into operational data.</span></span>
- <span data-ttu-id="e8d32-138">**Transformation**.</span><span class="sxs-lookup"><span data-stu-id="e8d32-138">**Transformation**.</span></span> <span data-ttu-id="e8d32-139">Avec le traitement de flux de données, vous pouvez combiner et enrichir les données à partir de plusieurs rubriques d’entrée dans une ou plusieurs rubriques de sortie.</span><span class="sxs-lookup"><span data-stu-id="e8d32-139">Using stream processing, you can combine and enrich data from multiple input topics into one or more output topics.</span></span>

## <a name="key-selection-criteria"></a><span data-ttu-id="e8d32-140">Critères de sélection principaux</span><span class="sxs-lookup"><span data-stu-id="e8d32-140">Key selection criteria</span></span>

<span data-ttu-id="e8d32-141">Pour restreindre les choix, commencez par répondre à ces questions :</span><span class="sxs-lookup"><span data-stu-id="e8d32-141">To narrow the choices, start by answering these questions:</span></span>

- <span data-ttu-id="e8d32-142">Avez-vous besoin d’une communication bidirectionnelle entre vos appareils IoT et Azure ?</span><span class="sxs-lookup"><span data-stu-id="e8d32-142">Do you need two-way communication between your IoT devices and Azure?</span></span> <span data-ttu-id="e8d32-143">Si c’est le cas, choisissez IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="e8d32-143">If so, choose IoT Hub.</span></span>

- <span data-ttu-id="e8d32-144">Avez-vous besoin gérer l’accès pour les appareils individuels et être en mesure de révoquer l’accès à un appareil spécifique ?</span><span class="sxs-lookup"><span data-stu-id="e8d32-144">Do you need to manage access for individual devices and be able to revoke access to a specific device?</span></span> <span data-ttu-id="e8d32-145">Si la réponse est Oui, choisissez IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="e8d32-145">If yes, choose IoT Hub.</span></span>

## <a name="capability-matrix"></a><span data-ttu-id="e8d32-146">Matrice des fonctionnalités</span><span class="sxs-lookup"><span data-stu-id="e8d32-146">Capability matrix</span></span>

<span data-ttu-id="e8d32-147">Les tableaux suivants résument les principales différences entre les fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="e8d32-147">The following tables summarize the key differences in capabilities.</span></span>

<!-- markdownlint-disable MD033 -->

| | <span data-ttu-id="e8d32-148">IoT Hub</span><span class="sxs-lookup"><span data-stu-id="e8d32-148">IoT Hub</span></span> | <span data-ttu-id="e8d32-149">Event Hubs</span><span class="sxs-lookup"><span data-stu-id="e8d32-149">Event Hubs</span></span> | <span data-ttu-id="e8d32-150">Kafka sur HDInsight</span><span class="sxs-lookup"><span data-stu-id="e8d32-150">Kafka on HDInsight</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="e8d32-151">Communications cloud-à-appareil</span><span class="sxs-lookup"><span data-stu-id="e8d32-151">Cloud-to-device communications</span></span> | <span data-ttu-id="e8d32-152">OUI</span><span class="sxs-lookup"><span data-stu-id="e8d32-152">Yes</span></span> | <span data-ttu-id="e8d32-153">Non </span><span class="sxs-lookup"><span data-stu-id="e8d32-153">No</span></span> | <span data-ttu-id="e8d32-154">Non </span><span class="sxs-lookup"><span data-stu-id="e8d32-154">No</span></span> |
| <span data-ttu-id="e8d32-155">Chargement de fichiers initié par l’appareil</span><span class="sxs-lookup"><span data-stu-id="e8d32-155">Device-initiated file upload</span></span> | <span data-ttu-id="e8d32-156">OUI</span><span class="sxs-lookup"><span data-stu-id="e8d32-156">Yes</span></span> | <span data-ttu-id="e8d32-157">Non </span><span class="sxs-lookup"><span data-stu-id="e8d32-157">No</span></span> | <span data-ttu-id="e8d32-158">Non </span><span class="sxs-lookup"><span data-stu-id="e8d32-158">No</span></span> |
| <span data-ttu-id="e8d32-159">Informations d’état de l’appareil</span><span class="sxs-lookup"><span data-stu-id="e8d32-159">Device state information</span></span> | [<span data-ttu-id="e8d32-160">Représentations d’appareil physique</span><span class="sxs-lookup"><span data-stu-id="e8d32-160">Device twins</span></span>](/azure/iot-hub/iot-hub-devguide-device-twins) | <span data-ttu-id="e8d32-161">Non </span><span class="sxs-lookup"><span data-stu-id="e8d32-161">No</span></span> | <span data-ttu-id="e8d32-162">Non </span><span class="sxs-lookup"><span data-stu-id="e8d32-162">No</span></span> |
| <span data-ttu-id="e8d32-163">Prise en charge du protocole</span><span class="sxs-lookup"><span data-stu-id="e8d32-163">Protocol support</span></span> | <span data-ttu-id="e8d32-164">MQTT, AMQP, HTTPS <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="e8d32-164">MQTT, AMQP, HTTPS <sup>1</sup></span></span> | <span data-ttu-id="e8d32-165">AMQP, HTTPS</span><span class="sxs-lookup"><span data-stu-id="e8d32-165">AMQP, HTTPS</span></span> | [<span data-ttu-id="e8d32-166">Kafka Protocol</span><span class="sxs-lookup"><span data-stu-id="e8d32-166">Kafka Protocol</span></span>](https://cwiki.apache.org/confluence/display/KAFKA/A+Guide+To+The+Kafka+Protocol) |
| <span data-ttu-id="e8d32-167">Sécurité</span><span class="sxs-lookup"><span data-stu-id="e8d32-167">Security</span></span> | <span data-ttu-id="e8d32-168">Identité par appareil ; contrôle d’accès révocable.</span><span class="sxs-lookup"><span data-stu-id="e8d32-168">Per-device identity; revocable access control.</span></span> | <span data-ttu-id="e8d32-169">Stratégies d’accès partagé ; révocation limitée par le biais des stratégies de l’éditeur.</span><span class="sxs-lookup"><span data-stu-id="e8d32-169">Shared access policies; limited revocation through publisher policies.</span></span> | <span data-ttu-id="e8d32-170">Authentification via SASL ; autorisation enfichable ; intégration avec des services d’authentification externes prise en charge.</span><span class="sxs-lookup"><span data-stu-id="e8d32-170">Authentication using SASL; pluggable authorization; integration with external authentication services supported.</span></span> |

<!-- markdownlint-enable MD026 -->

<span data-ttu-id="e8d32-171">[1] Vous pouvez aussi utiliser la [passerelle de protocole Azure IoT](/azure/iot-hub/iot-hub-protocol-gateway) comme passerelle personnalisée pour permettre l’adaptation de protocole pour IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="e8d32-171">[1] You can also use [Azure IoT protocol gateway](/azure/iot-hub/iot-hub-protocol-gateway) as a custom gateway to enable protocol adaptation for IoT Hub.</span></span>

<span data-ttu-id="e8d32-172">Pour plus d’informations, consultez [Comparaison entre Azure IoT Hub et Azure Event Hubs](/azure/iot-hub/iot-hub-compare-event-hubs).</span><span class="sxs-lookup"><span data-stu-id="e8d32-172">For more information, see [Comparison of Azure IoT Hub and Azure Event Hubs](/azure/iot-hub/iot-hub-compare-event-hubs).</span></span>
