---
title: Traitement en temps réel
description: ''
author: zoinerTejada
ms.date: 02/12/2018
ms.openlocfilehash: ccd098ab0d5393231eeb26eb1c56c52cdcb78fbe
ms.sourcegitcommit: e7e0e0282fa93f0063da3b57128ade395a9c1ef9
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/05/2018
ms.locfileid: "52901608"
---
# <a name="real-time-processing"></a><span data-ttu-id="6eee1-102">Traitement en temps réel</span><span class="sxs-lookup"><span data-stu-id="6eee1-102">Real time processing</span></span>

<span data-ttu-id="6eee1-103">Le traitement en temps réel concerne les flux de données capturés en temps réel et traités avec une latence minimale pour générer des réponses automatisées ou des rapports en temps réel (ou en quasi-temps réel).</span><span class="sxs-lookup"><span data-stu-id="6eee1-103">Real time processing deals with streams of data that are captured in real-time and processed with minimal latency to generate real-time (or near-real-time) reports or automated responses.</span></span> <span data-ttu-id="6eee1-104">Par exemple, une solution de contrôle du trafic en temps réel pourrait utiliser des données de capteur pour détecter des pics de trafic.</span><span class="sxs-lookup"><span data-stu-id="6eee1-104">For example, a real-time traffic monitoring solution might use sensor data to detect high traffic volumes.</span></span> <span data-ttu-id="6eee1-105">Ces données permettraient de mettre à jour dynamiquement une carte montrant les embouteillages, ou mettre en place automatiquement des voies réservées aux véhicules à occupation multiple ou d’autres systèmes de gestion du trafic.</span><span class="sxs-lookup"><span data-stu-id="6eee1-105">This data could be used to dynamically update a map to show congestion, or automatically initiate high-occupancy lanes or other traffic management systems.</span></span>

![](./images/real-time-pipeline.png)

<span data-ttu-id="6eee1-106">Le traitement en temps réel se définit comme le traitement d’un flux non borné de données d’entrée, avec des critères de latence très stricts pour le traitement &mdash; en millisecondes ou en secondes.</span><span class="sxs-lookup"><span data-stu-id="6eee1-106">Real-time processing is defined as the processing of unbounded stream of input data, with very short latency requirements for processing &mdash; measured in milliseconds or seconds.</span></span> <span data-ttu-id="6eee1-107">En général, ces données entrantes arrivent dans un format non structuré ou semi-structuré, par exemple, JSON, et ont les mêmes exigences de traitement que le [traitement par lots](./batch-processing.md), mais avec des temps de réponse plus courts pour gérer la consommation en temps réel.</span><span class="sxs-lookup"><span data-stu-id="6eee1-107">This incoming data typically arrives in an unstructured or semi-structured format, such as JSON, and has the same processing requirements as [batch processing](./batch-processing.md), but with shorter turnaround times to support real-time consumption.</span></span>

<span data-ttu-id="6eee1-108">Les données traitées sont souvent écrites dans un magasin de données analytiques, optimisé pour l’analytique et la visualisation.</span><span class="sxs-lookup"><span data-stu-id="6eee1-108">Processed data is often written to an analytical data store, which is optimized for analytics and visualization.</span></span> <span data-ttu-id="6eee1-109">Elles peuvent également être transférées directement dans la couche d’analytique et de création de rapports à des fins d’analyse, d’informatique décisionnelle et de visualisation de tableaux de bord en temps réel.</span><span class="sxs-lookup"><span data-stu-id="6eee1-109">The processed data can also be ingested directly into the analytics and reporting layer for analysis, business intelligence, and real-time dashboard visualization.</span></span>

## <a name="challenges"></a><span data-ttu-id="6eee1-110">Défis</span><span class="sxs-lookup"><span data-stu-id="6eee1-110">Challenges</span></span>

<span data-ttu-id="6eee1-111">L’une des grandes difficultés des solutions de traitement en temps réel est d’ingérer, de traiter et de stocker les messages en temps réel, en particulier pour les grands volumes.</span><span class="sxs-lookup"><span data-stu-id="6eee1-111">One of the big challenges of real-time processing solutions is to ingest, process, and store messages in real time, especially at high volumes.</span></span> <span data-ttu-id="6eee1-112">Le traitement doit être effectué de manière à ne pas bloquer le pipeline d’ingestion.</span><span class="sxs-lookup"><span data-stu-id="6eee1-112">Processing must be done in such a way that it does not block the ingestion pipeline.</span></span> <span data-ttu-id="6eee1-113">Le magasin de données doit prendre en charge de gros volumes d’écritures.</span><span class="sxs-lookup"><span data-stu-id="6eee1-113">The data store must support high-volume writes.</span></span> <span data-ttu-id="6eee1-114">Il existe une autre problématique : la capacité à effectuer des actions rapidement à partir des données, par exemple, à générer des alertes en temps réel ou à présenter les données dans un tableau de bord en temps réel (ou en quasi-temps réel).</span><span class="sxs-lookup"><span data-stu-id="6eee1-114">Another challenge is being able to act on the data quickly, such as generating alerts in real time or presenting the data in a real-time (or near-real-time) dashboard.</span></span>

## <a name="architecture"></a><span data-ttu-id="6eee1-115">Architecture</span><span class="sxs-lookup"><span data-stu-id="6eee1-115">Architecture</span></span>

<span data-ttu-id="6eee1-116">Une architecture de traitement en temps réel comporte les composants logiques suivants.</span><span class="sxs-lookup"><span data-stu-id="6eee1-116">A real-time processing architecture has the following logical components.</span></span>

- <span data-ttu-id="6eee1-117">**Ingestion de messages en temps réel**.</span><span class="sxs-lookup"><span data-stu-id="6eee1-117">**Real-time message ingestion.**</span></span> <span data-ttu-id="6eee1-118">L’architecture doit prévoir un moyen de capturer et de stocker les messages en temps réel, qui seront exploités par un consommateur de traitement des flux de données.</span><span class="sxs-lookup"><span data-stu-id="6eee1-118">The architecture must include a way to capture and store real-time messages to be consumed by a stream processing consumer.</span></span> <span data-ttu-id="6eee1-119">Dans les cas de base, ce service peut être implémenté comme un magasin de données simple au sein duquel les nouveaux messages sont déposés dans un dossier.</span><span class="sxs-lookup"><span data-stu-id="6eee1-119">In simple cases, this service could be implemented as a simple data store in which new messages are deposited in a folder.</span></span> <span data-ttu-id="6eee1-120">Mais la solution requiert souvent un répartiteur de messages, comme Azure Event Hubs, qui fonctionne comme un tampon pour les messages.</span><span class="sxs-lookup"><span data-stu-id="6eee1-120">But often the solution requires a message broker, such as Azure Event Hubs, that acts as a buffer for the messages.</span></span> <span data-ttu-id="6eee1-121">Il doit prendre en charge le traitement avec montée en charge et la distribution fiable.</span><span class="sxs-lookup"><span data-stu-id="6eee1-121">The message broker should support scale-out processing and reliable delivery.</span></span>

- <span data-ttu-id="6eee1-122">**Traitement des flux de données**.</span><span class="sxs-lookup"><span data-stu-id="6eee1-122">**Stream processing.**</span></span> <span data-ttu-id="6eee1-123">Après avoir capturé les messages en temps réel, la solution doit les traiter en filtrant, en agrégeant et, plus généralement, en préparant les données pour l’analyse.</span><span class="sxs-lookup"><span data-stu-id="6eee1-123">After capturing real-time messages, the solution must process them by filtering, aggregating, and otherwise preparing the data for analysis.</span></span>

- <span data-ttu-id="6eee1-124">**Magasin de données analytiques**.</span><span class="sxs-lookup"><span data-stu-id="6eee1-124">**Analytical data store.**</span></span> <span data-ttu-id="6eee1-125">De nombreuses solutions Big Data sont conçues pour préparer les données à des fins d’analyse, puis fournir les données traitées dans un format structuré et interrogeable à l’aide d’outils d’analyse.</span><span class="sxs-lookup"><span data-stu-id="6eee1-125">Many big data solutions are designed to prepare data for analysis and then serve the processed data in a structured format that can be queried using analytical tools.</span></span> 

- <span data-ttu-id="6eee1-126">**Analyse et rapports**.</span><span class="sxs-lookup"><span data-stu-id="6eee1-126">**Analysis and reporting.**</span></span> <span data-ttu-id="6eee1-127">La plupart des solutions Big Data ont pour but de fournir des informations sur les données par le biais de l’analyse et des rapports.</span><span class="sxs-lookup"><span data-stu-id="6eee1-127">The goal of most big data solutions is to provide insights into the data through analysis and reporting.</span></span> 

## <a name="technology-choices"></a><span data-ttu-id="6eee1-128">Choix de technologie</span><span class="sxs-lookup"><span data-stu-id="6eee1-128">Technology choices</span></span>

<span data-ttu-id="6eee1-129">Les technologies suivantes sont recommandées pour les solutions de traitement en temps réel dans Azure.</span><span class="sxs-lookup"><span data-stu-id="6eee1-129">The following technologies are recommended choices for real-time processing solutions in Azure.</span></span>

### <a name="real-time-message-ingestion"></a><span data-ttu-id="6eee1-130">Ingestion de messages en temps réel</span><span class="sxs-lookup"><span data-stu-id="6eee1-130">Real-time message ingestion</span></span>

- <span data-ttu-id="6eee1-131">**Azure Event Hubs**.</span><span class="sxs-lookup"><span data-stu-id="6eee1-131">**Azure Event Hubs**.</span></span> <span data-ttu-id="6eee1-132">Azure Event Hubs est une solution de mise en file d’attente des messages permettant d’ingérer des millions de messages d’événements par seconde.</span><span class="sxs-lookup"><span data-stu-id="6eee1-132">Azure Event Hubs is a message queuing solution for ingesting millions of event messages per second.</span></span> <span data-ttu-id="6eee1-133">Ces données capturées peuvent être traitées par de nombreux clients en parallèle.</span><span class="sxs-lookup"><span data-stu-id="6eee1-133">The captured event data can be processed by multiple consumers in parallel.</span></span>
- <span data-ttu-id="6eee1-134">**Azure IoT Hub**.</span><span class="sxs-lookup"><span data-stu-id="6eee1-134">**Azure IoT Hub**.</span></span> <span data-ttu-id="6eee1-135">Azure IoT Hub assure une communication bidirectionnelle entre les appareils connectés à Internet, et propose une file d’attente de messages évolutive capable de gérer des millions d’appareils connectés simultanément.</span><span class="sxs-lookup"><span data-stu-id="6eee1-135">Azure IoT Hub provides bi-directional communication between Internet-connected devices, and a scalable message queue that can handle millions of simultaneously connected devices.</span></span>
- <span data-ttu-id="6eee1-136">**Apache Kafka**.</span><span class="sxs-lookup"><span data-stu-id="6eee1-136">**Apache Kafka**.</span></span> <span data-ttu-id="6eee1-137">Kafka est une application open source de traitement des flux de données et de mise en file d’attente des messages capable de traiter jusqu’à plusieurs millions de messages par seconde, en provenance de différents producteurs, et de les acheminer vers plusieurs consommateurs.</span><span class="sxs-lookup"><span data-stu-id="6eee1-137">Kafka is an open source message queuing and stream processing application that can scale to handle millions of messages per second from multiple message producers, and route them to multiple consumers.</span></span> <span data-ttu-id="6eee1-138">Kafka est disponible dans Azure sous la forme d’un type de cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="6eee1-138">Kafka is available in Azure as an HDInsight cluster type.</span></span>

<span data-ttu-id="6eee1-139">Pour plus d’informations, consultez la page [Ingestion de messages en temps réel](../technology-choices/real-time-ingestion.md).</span><span class="sxs-lookup"><span data-stu-id="6eee1-139">For more information, see [Real-time message ingestion](../technology-choices/real-time-ingestion.md).</span></span>

### <a name="data-storage"></a><span data-ttu-id="6eee1-140">Stockage des données</span><span class="sxs-lookup"><span data-stu-id="6eee1-140">Data storage</span></span>

- <span data-ttu-id="6eee1-141">**Conteneurs Azure Storage Blob** ou **Azure Data Lake Store**.</span><span class="sxs-lookup"><span data-stu-id="6eee1-141">**Azure Storage Blob Containers** or **Azure Data Lake Store**.</span></span> <span data-ttu-id="6eee1-142">Les données entrantes en temps réel sont généralement capturées dans un répartiteur de messages (voir ci-dessus), mais, dans certains cas, il peut être judicieux de surveiller l’apparition de nouveaux fichiers dans un dossier pour les traiter au fil de leur création ou de leur mise à jour.</span><span class="sxs-lookup"><span data-stu-id="6eee1-142">Incoming real-time data is usually captured in a message broker (see above), but in some scenarios, it can make sense to monitor a folder for new files and process them as they are created or updated.</span></span> <span data-ttu-id="6eee1-143">Par ailleurs, de nombreuses solutions de traitement en temps réel combinent des données de diffusion en continu avec des données de référence statiques, qui peuvent être stockées dans un magasin de fichiers.</span><span class="sxs-lookup"><span data-stu-id="6eee1-143">Additionally, many real-time processing solutions combine streaming data with static reference data, which can be stored in a file store.</span></span> <span data-ttu-id="6eee1-144">Enfin, le stockage de fichiers peut servir de destination de sortie pour les données en temps réel capturées à des fins d’archivage, ou en vue de traitements par lots supplémentaires dans une [architecture lambda](../big-data/index.md#lambda-architecture).</span><span class="sxs-lookup"><span data-stu-id="6eee1-144">Finally, file storage may be used as an output destination for captured real-time data for archiving, or for further batch processing in a [lambda architecture](../big-data/index.md#lambda-architecture).</span></span>

<span data-ttu-id="6eee1-145">Pour plus d’informations, consultez la page [Stockage de données](../technology-choices/data-storage.md).</span><span class="sxs-lookup"><span data-stu-id="6eee1-145">For more information, see [Data storage](../technology-choices/data-storage.md).</span></span>

### <a name="stream-processing"></a><span data-ttu-id="6eee1-146">Traitement des flux de données</span><span class="sxs-lookup"><span data-stu-id="6eee1-146">Stream processing</span></span>

- <span data-ttu-id="6eee1-147">**Azure Stream Analytics**.</span><span class="sxs-lookup"><span data-stu-id="6eee1-147">**Azure Stream Analytics**.</span></span> <span data-ttu-id="6eee1-148">Azure Stream Analytics peut exécuter des requêtes perpétuelles sur un flux de données non borné.</span><span class="sxs-lookup"><span data-stu-id="6eee1-148">Azure Stream Analytics can run perpetual queries against an unbounded stream of data.</span></span> <span data-ttu-id="6eee1-149">Ces requêtes consomment des flux de données provenant de répartiteurs de messages ou de stockage, filtrent et agrègent les données en fonction de fenêtres temporelles, et écrivent les résultats dans des récepteurs tels que des systèmes de stockage ou des bases de données, ou directement dans des rapports Power BI.</span><span class="sxs-lookup"><span data-stu-id="6eee1-149">These queries consume streams of data from storage or message brokers, filter and aggregate the data based on temporal windows, and write the results to sinks such as storage, databases, or directly to reports in Power BI.</span></span> <span data-ttu-id="6eee1-150">Stream Analytics utilise un langage de requête SQL qui prend en charge des constructions géospatiales et temporelles, et peut être étendu via JavaScript.</span><span class="sxs-lookup"><span data-stu-id="6eee1-150">Stream Analytics uses a SQL-based query language that supports temporal and geospatial constructs, and can be extended using JavaScript.</span></span>
- <span data-ttu-id="6eee1-151">**Storm**.</span><span class="sxs-lookup"><span data-stu-id="6eee1-151">**Storm**.</span></span> <span data-ttu-id="6eee1-152">Apache Storm est une infrastructure open source de traitement des flux de données qui utilise une topologie Spout et Bolt pour consommer, traiter et générer les résultats à partir de sources de données de diffusion en continu et en temps réel.</span><span class="sxs-lookup"><span data-stu-id="6eee1-152">Apache Storm is an open source framework for stream processing that uses a topology of spouts and bolts to consume, process, and output the results from real-time streaming data sources.</span></span> <span data-ttu-id="6eee1-153">Il est possible de configurer Storm dans un cluster Azure HDInsight, et d’implémenter une topologie en Java ou en C#.</span><span class="sxs-lookup"><span data-stu-id="6eee1-153">You can provision Storm in an Azure HDInsight cluster, and implement a topology in Java or C#.</span></span>
- <span data-ttu-id="6eee1-154">**Spark Streaming**.</span><span class="sxs-lookup"><span data-stu-id="6eee1-154">**Spark Streaming**.</span></span> <span data-ttu-id="6eee1-155">Apache Spark est une plateforme distribuée open source pour le traitement général des données.</span><span class="sxs-lookup"><span data-stu-id="6eee1-155">Apache Spark is an open source distributed platform for general data processing.</span></span> <span data-ttu-id="6eee1-156">Elle comprend l’API Spark Streaming, qui permet d’écrire du code dans n’importe quel langage Spark pris en charge, notamment Java, Scala et Python.</span><span class="sxs-lookup"><span data-stu-id="6eee1-156">Spark provides the Spark Streaming API, in which you can write code in any supported Spark language, including Java, Scala, and Python.</span></span> <span data-ttu-id="6eee1-157">Spark 2.0 a introduit l’API Spark Structured Streaming, qui propose un modèle de programmation plus simple et plus cohérent.</span><span class="sxs-lookup"><span data-stu-id="6eee1-157">Spark 2.0 introduced the Spark Structured Streaming API, which provides a simpler and more consistent programming model.</span></span> <span data-ttu-id="6eee1-158">Spark 2.0 est disponible dans un cluster Azure HDInsight.</span><span class="sxs-lookup"><span data-stu-id="6eee1-158">Spark 2.0 is available in an Azure HDInsight cluster.</span></span>

<span data-ttu-id="6eee1-159">Pour plus d’informations, consultez la page [Traitement des flux de données](../technology-choices/stream-processing.md).</span><span class="sxs-lookup"><span data-stu-id="6eee1-159">For more information, see [Stream processing](../technology-choices/stream-processing.md).</span></span>

### <a name="analytical-data-store"></a><span data-ttu-id="6eee1-160">Magasin de données analytiques</span><span class="sxs-lookup"><span data-stu-id="6eee1-160">Analytical data store</span></span>

- <span data-ttu-id="6eee1-161">**SQL Data Warehouse**, **HBase**, **Spark** ou **Hive**.</span><span class="sxs-lookup"><span data-stu-id="6eee1-161">**SQL Data Warehouse**, **HBase**, **Spark**, or **Hive**.</span></span> <span data-ttu-id="6eee1-162">Il est possible de stocker les données traitées en temps réel dans une base de données relationnelle comme Azure SQL Data Warehouse, un magasin NoSQL comme HBase, ou en tant que fichiers dans un système de stockage distribué permettant de définir et d’interroger des tables Spark ou Hive.</span><span class="sxs-lookup"><span data-stu-id="6eee1-162">Processed real-time data can be stored in a relational database such Azure SQL Data Warehouse, a NoSQL store such as HBase, or as files in distributed storage over which Spark or Hive tables can be defined and queried.</span></span>

<span data-ttu-id="6eee1-163">Pour plus d’informations, consultez la section [Magasins de données analytiques](../technology-choices/analytical-data-stores.md).</span><span class="sxs-lookup"><span data-stu-id="6eee1-163">For more information, see [Analytical data stores](../technology-choices/analytical-data-stores.md).</span></span>

### <a name="analytics-and-reporting"></a><span data-ttu-id="6eee1-164">Analytique et création de rapports</span><span class="sxs-lookup"><span data-stu-id="6eee1-164">Analytics and reporting</span></span>

- <span data-ttu-id="6eee1-165">**Azure Analysis Services**, **Power BI** et **Microsoft Excel**.</span><span class="sxs-lookup"><span data-stu-id="6eee1-165">**Azure Analysis Services**, **Power BI**, and **Microsoft Excel**.</span></span> <span data-ttu-id="6eee1-166">Les données traitées en temps réel qui sont stockées dans un magasin de données analytiques peuvent servir pour les analyses et les rapports historiques de la même façon que des données traitées par lots.</span><span class="sxs-lookup"><span data-stu-id="6eee1-166">Processed real-time data that is stored in an analytical data store can be used for historical reporting and analysis in the same way as batch processed data.</span></span> <span data-ttu-id="6eee1-167">Par ailleurs, Power BI permet de publier des visualisations et des rapports en temps réel (ou en quasi-temps réel) à partir de sources de données analytiques si la latence est suffisamment faible, ou, dans certains cas, directement à partir de la sortie de traitement des flux de données.</span><span class="sxs-lookup"><span data-stu-id="6eee1-167">Additionally, Power BI can be used to publish real-time (or near-real-time) reports and visualizations from analytical data sources where latency is sufficiently low, or in some cases directly from the stream processing output.</span></span>

<span data-ttu-id="6eee1-168">Pour plus d'informations, consultez la section [Analytique et création de rapports](../technology-choices/analysis-visualizations-reporting.md).</span><span class="sxs-lookup"><span data-stu-id="6eee1-168">For more information, see [Analytics and reporting](../technology-choices/analysis-visualizations-reporting.md).</span></span>

<span data-ttu-id="6eee1-169">Dans une solution entièrement en temps réel, la majeure partie de l’orchestration est gérée par les composants d’ingestion de messages et de traitement des flux de données.</span><span class="sxs-lookup"><span data-stu-id="6eee1-169">In a purely real-time solution, most of the processing orchestration is managed by the message ingestion and stream processing components.</span></span> <span data-ttu-id="6eee1-170">Toutefois, dans une architecture lambda qui combine le traitement par lots et le traitement en temps réel, il vous faudra peut-être utiliser une infrastructure d’orchestration comme Azure Data Factory ou Apache Oozie et Sqoop pour gérer les workflows de traitement par lots des données capturées en temps réel.</span><span class="sxs-lookup"><span data-stu-id="6eee1-170">However, in a lambda architecture that combines batch processing and real-time processing, you may need to use an orchestration framework such as Azure Data Factory or Apache Oozie and Sqoop to manage batch workflows for captured real-time data.</span></span>

## <a name="next-steps"></a><span data-ttu-id="6eee1-171">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="6eee1-171">Next steps</span></span>

<span data-ttu-id="6eee1-172">L’architecture de référence suivante présente un pipeline de traitement de flux de bout en bout :</span><span class="sxs-lookup"><span data-stu-id="6eee1-172">The following reference architecture shows an end-to-end stream processing pipeline:</span></span>

- [<span data-ttu-id="6eee1-173">Traitement de flux avec Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="6eee1-173">Stream processing with Azure Stream Analytics</span></span>](../../reference-architectures/data/stream-processing-stream-analytics.md)