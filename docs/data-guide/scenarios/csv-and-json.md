---
title: Traitement des fichiers CSV et JSON
description: ''
author: zoinerTejada
ms:date: 02/12/2018
ms.openlocfilehash: 02e684d562cfe555f9e3596ad0a2f1a00d05c7a7
ms.sourcegitcommit: 51f49026ec46af0860de55f6c082490e46792794
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/03/2018
---
# <a name="working-with-csv-and-json-files-for-data-solutions"></a><span data-ttu-id="13f68-102">Utilisation des fichiers CSV et JSON pour des solutions de données</span><span class="sxs-lookup"><span data-stu-id="13f68-102">Working with CSV and JSON files for data solutions</span></span>

<span data-ttu-id="13f68-103">CSV et JSON sont probablement les formats les plus fréquemment utilisés pour l’ingestion, l’échange et le stockage des données non structurées ou semi-structurées.</span><span class="sxs-lookup"><span data-stu-id="13f68-103">CSV and JSON are likely the most common formats used for ingesting, exchanging, and storing unstructured or semi-structured data.</span></span> 

## <a name="about-csv-format"></a><span data-ttu-id="13f68-104">À propos du format CSV</span><span class="sxs-lookup"><span data-stu-id="13f68-104">About CSV format</span></span>

<span data-ttu-id="13f68-105">Les fichiers CSV (valeurs séparées par des virgules) sont fréquemment utilisés pour échanger des données tabulaires entre les systèmes en texte brut.</span><span class="sxs-lookup"><span data-stu-id="13f68-105">CSV (comma-separated values) files are commonly used to exchange tabular data between systems in plain text.</span></span> <span data-ttu-id="13f68-106">Ils contiennent généralement une ligne d’en-tête qui fournit les noms des colonnes pour les données, mais sont autrement considérés comme étant semi-structurés.</span><span class="sxs-lookup"><span data-stu-id="13f68-106">They typically contain a header row that provides column names for the data, but are otherwise considered semi-structured.</span></span> <span data-ttu-id="13f68-107">Cela est dû au fait que les fichiers CSV ne peuvent pas représenter naturellement des données hiérarchiques ou relationnelles.</span><span class="sxs-lookup"><span data-stu-id="13f68-107">This is due to the fact that CSVs cannot naturally represent hierarchical or relational data.</span></span> <span data-ttu-id="13f68-108">Les relations entre les données sont généralement gérées avec plusieurs fichiers CSV, où les clés étrangères sont stockées dans des colonnes d’un ou plusieurs fichiers, mais les relations entre ces fichiers ne sont pas exprimées par le format de lui-même.</span><span class="sxs-lookup"><span data-stu-id="13f68-108">Data relationships are typically handled with multiple CSV files, where foreign keys are stored in columns of one or more files, but the relationships between those files are not expressed by the format itself.</span></span> <span data-ttu-id="13f68-109">Les fichiers au format CSV peuvent utiliser d’autres délimiteurs autres que des virgules, notamment des tabulations ou des espaces.</span><span class="sxs-lookup"><span data-stu-id="13f68-109">Files in CSV format may use other delimiters besides commas, such as tabs or spaces.</span></span>

<span data-ttu-id="13f68-110">En dépit de leurs limitations, les fichiers CSV sont fréquemment utilisés pour l’échange de données, car ils sont pris en charge par un large éventail d’entreprises, de consommateurs et d’applications scientifiques.</span><span class="sxs-lookup"><span data-stu-id="13f68-110">Despite their limitations, CSV files are a popular choice for data exchange, because they are supported by a wide range of business, consumer, and scientific applications.</span></span> <span data-ttu-id="13f68-111">Par exemple, les programmes de bases de données et de feuilles de calcul peuvent importer et exporter des fichiers CSV.</span><span class="sxs-lookup"><span data-stu-id="13f68-111">For example, database and spreadsheet programs can import and export CSV files.</span></span> <span data-ttu-id="13f68-112">De même, la plupart des moteurs de traitement par lot et de flux de données, tels que Spark et Hadoop, prennent en charge en mode natif des fichiers au format CSV sérialisés et désérialisés et offrent plusieurs moyens d’appliquer un schéma lors de la lecture.</span><span class="sxs-lookup"><span data-stu-id="13f68-112">Similarly, most batch and stream data processing engines, such as Spark and Hadoop, natively support serializing and deserializing CSV-formatted files and offer ways to apply a schema on read.</span></span> <span data-ttu-id="13f68-113">Cela simplifie l’utilisation des données, en offrant des options de requête les concernant et le stockage des informations dans un format de données plus efficace pour accélérer le traitement.</span><span class="sxs-lookup"><span data-stu-id="13f68-113">This makes it easier to work with the data, by offering options to query against it and store the information in a more efficient data format for faster processing.</span></span>

## <a name="about-json-format"></a><span data-ttu-id="13f68-114">À propos du format JSON</span><span class="sxs-lookup"><span data-stu-id="13f68-114">About JSON format</span></span>

<span data-ttu-id="13f68-115">Les données JSON (JavaScript Object Notation) sont représentées sous forme de paires clé-valeur dans un format semi-structuré.</span><span class="sxs-lookup"><span data-stu-id="13f68-115">JSON (JavaScript Object Notation) data is represented as key-value pairs in a semi-structured format.</span></span> <span data-ttu-id="13f68-116">Le format JSON est souvent comparé au format XML, puisque les deux sont capables de stocker des données dans un format hiérarchique, avec les données enfant représentées en ligne avec son parent.</span><span class="sxs-lookup"><span data-stu-id="13f68-116">JSON is often compared to XML, as both are capable of storing data in hierarchical format, with child data represented inline with its parent.</span></span> <span data-ttu-id="13f68-117">Les deux sont auto-descriptifs et lisibles par l’utilisateur, mais les documents JSON ont tendance à être beaucoup plus petits, conduisant à leur utilisation fréquente dans l’échange de données en ligne, en particulier avec l’avènement des services Web basés sur REST.</span><span class="sxs-lookup"><span data-stu-id="13f68-117">Both are self-describing and human readable, but JSON documents tend to be much smaller, leading to their popular use in online data exchange, especially with the advent of REST-based web services.</span></span> 

<span data-ttu-id="13f68-118">Les fichiers au format JSON présentent de nombreux avantages sur le format CSV :</span><span class="sxs-lookup"><span data-stu-id="13f68-118">JSON-formatted files have several benefits over CSV:</span></span>

* <span data-ttu-id="13f68-119">JSON maintient les structures hiérarchiques, permettant une meilleure conservation des données connexes dans un seul document en représentant des relations complexes.</span><span class="sxs-lookup"><span data-stu-id="13f68-119">JSON maintains hierarchical structures, making it easier to hold related data in a single document and represent complex relationships.</span></span>
* <span data-ttu-id="13f68-120">La plupart des langages de programmation prennent en charge la désérialisation JSON en objets en mode natif ou fournissent des bibliothèques de sérialisation JSON légères.</span><span class="sxs-lookup"><span data-stu-id="13f68-120">Most programming languages provide native support for deserializing JSON into objects, or provide lightweight JSON serialization libraries.</span></span>
* <span data-ttu-id="13f68-121">JSON prend en charge les listes d’objets, contribuant à éviter les translations désordonnées des listes en un modèle de données relationnelles.</span><span class="sxs-lookup"><span data-stu-id="13f68-121">JSON supports lists of objects, helping to avoid messy translations of lists into a relational data model.</span></span>
* <span data-ttu-id="13f68-122">JSON est un format de fichier fréquemment utilisé pour les bases de données NoSQL, tels que MongoDB, Couchbase et Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="13f68-122">JSON is a commonly used file format for NoSQL databases, such as MongoDB, Couchbase, and Azure Cosmos DB.</span></span>

<span data-ttu-id="13f68-123">Dans la mesure où un grand nombre de données entrantes sur le réseau est déjà au format JSON, la plupart des langages de programmation sur Web prennent en charge l’utilisation de JSON en mode natif ou via l’utilisation des bibliothèques externes pour sérialiser et désérialiser des données JSON.</span><span class="sxs-lookup"><span data-stu-id="13f68-123">Since a lot of data coming across the wire is already in JSON format, most web-based programming languages support working with JSON natively, or through the use of external libraries to serialize and deserialize JSON data.</span></span> <span data-ttu-id="13f68-124">Cette prise en charge universelle de JSON a conduit à son utilisation dans des formats logiques via la représentation sous forme de structure de données, formats d’échange de données à chaud et le stockage de données des données à froid.</span><span class="sxs-lookup"><span data-stu-id="13f68-124">This universal support for JSON has led to its use in logical formats through data structure representation, exchange formats for hot data, and data storage for cold data.</span></span>

<span data-ttu-id="13f68-125">De nombreux moteurs du traitement par lot et de flux de données prend en charge en mode natif la désérialisation et la sérialisation JSON.</span><span class="sxs-lookup"><span data-stu-id="13f68-125">Many batch and stream data processing engines natively support JSON serialization and deserialization.</span></span> <span data-ttu-id="13f68-126">Bien que les données contenues dans les documents JSON puissent finalement être stockées dans des formats plus performants, tels que Parquet ou Avro, elles servent de données brutes à la source véritable, ce qui est essentielle pour retraiter les données en fonction des besoins.</span><span class="sxs-lookup"><span data-stu-id="13f68-126">Though the data contained within JSON documents may ultimately be stored in a more performance-optimized formats, such as Parquet or Avro, it serves as the raw data for source of truth, which is critical for reprocessing the data as needed.</span></span>

## <a name="when-to-use-csv-or-json-formats"></a><span data-ttu-id="13f68-127">Quand utiliser des formats CSV ou JSON</span><span class="sxs-lookup"><span data-stu-id="13f68-127">When to use CSV or JSON formats</span></span>

<span data-ttu-id="13f68-128">Les fichiers CSV sont fréquemment utilisés pour l’exportation et l’importation des données ou leur traitement pour l’analytique et le Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="13f68-128">CSVs are more commonly used for exporting and importing data, or processing it for analytics and machine learning.</span></span> <span data-ttu-id="13f68-129">Les fichiers au format JSON ont les mêmes avantages, mais sont plus fréquents dans les solutions d’échange de données à chaud.</span><span class="sxs-lookup"><span data-stu-id="13f68-129">JSON-formatted files have the same benefits, but are more common in hot data exchange solutions.</span></span> <span data-ttu-id="13f68-130">Les documents JSON sont souvent envoyés par des appareils mobiles et Web exécutant des transactions en ligne, par des appareils IoT (internet des objets) pour une communication à sens unique ou bidirectionnelle ou par des applications clientes qui communiquent avec les services SaaS et PaaS ou des architectures sans serveur.</span><span class="sxs-lookup"><span data-stu-id="13f68-130">JSON documents are often sent by web and mobile devices performing online transactions, by IoT (internet of things) devices for one-way or bidirectional communication, or by client applications communicating with SaaS and PaaS services or serverless architectures.</span></span> 

<span data-ttu-id="13f68-131">Les formats de fichiers CSV et JSON facilitent tous les deux les échanges des données entre des systèmes ou des appareils différents.</span><span class="sxs-lookup"><span data-stu-id="13f68-131">CSV and JSON file formats both make it easy to exchange data between dissimilar systems or devices.</span></span> <span data-ttu-id="13f68-132">Leurs formats semi-structurés permettent une grande souplesse lors du transfert de presque tous les types de données et la prise en charge universelle de ces formats rendent l’utilisation plus facile.</span><span class="sxs-lookup"><span data-stu-id="13f68-132">Their semi-structured formats allow flexibility in transferring almost any type of data, and universal support for these formats make them simple to work with.</span></span> <span data-ttu-id="13f68-133">Ils peuvent tous les deux servir de source brute véritable dans les cas où les données traitées sont stockées dans des formats binaires pour des interrogations plus efficaces.</span><span class="sxs-lookup"><span data-stu-id="13f68-133">Both can be used as the raw source of truth in cases where the processed data is stored in binary formats for more efficient querying.</span></span> 

## <a name="working-with-csv-and-json-data-in-azure"></a><span data-ttu-id="13f68-134">Utilisation des données CSV et JSON dans Azure</span><span class="sxs-lookup"><span data-stu-id="13f68-134">Working with CSV and JSON data in Azure</span></span>

<span data-ttu-id="13f68-135">Azure offre plusieurs solutions pour l’utilisation des fichiers CSV et JSON, en fonction de vos besoins.</span><span class="sxs-lookup"><span data-stu-id="13f68-135">Azure provides several solutions for working with CSV and JSON files, depending on your needs.</span></span> <span data-ttu-id="13f68-136">L’emplacement de lancement principale de ces fichiers est le stockage Azure ou Azure Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="13f68-136">The primary landing place for these files is either Azure Storage or Azure Data Lake Store.</span></span> <span data-ttu-id="13f68-137">La plupart des services Azure qui fonctionnent avec ces fichiers et autres fichiers texte s’intègrent à un des services de stockage d’objets.</span><span class="sxs-lookup"><span data-stu-id="13f68-137">Most Azure services that work with these and other text-based files integrate with either object storage service.</span></span> <span data-ttu-id="13f68-138">Toutefois, dans certaines situations, vous pouvez opter pour importer directement les données dans Azure SQL ou un autre magasin de données.</span><span class="sxs-lookup"><span data-stu-id="13f68-138">In some situations, however, you may opt to directly import the data into Azure SQL or some other data store.</span></span> <span data-ttu-id="13f68-139">SQL Server dispose d’une prise en charge native pour le stockage et l’utilisation de documents JSON, ce qui simplifie [l’importation et le traitement de ces types de fichiers](/sql/relational-databases/json/import-json-documents-into-sql-server).</span><span class="sxs-lookup"><span data-stu-id="13f68-139">SQL Server has native support for storing and working with JSON documents, which makes it easy to [import and process those types of files](/sql/relational-databases/json/import-json-documents-into-sql-server).</span></span> <span data-ttu-id="13f68-140">Vous pouvez utiliser un utilitaire tel que l’importation en bloc SQL pour [importer des fichiers CSV](/sql/relational-databases/json/import-json-documents-into-sql-server) facilement.</span><span class="sxs-lookup"><span data-stu-id="13f68-140">You can use a utility like SQL Bulk Import to easily [import CSV files](/sql/relational-databases/json/import-json-documents-into-sql-server).</span></span>

<span data-ttu-id="13f68-141">Selon le scénario, vous pouvez effectuer le [traitement par lots](../big-data/batch-processing.md) ou le [traitement en temps réel](../big-data/real-time-processing.md) des données.</span><span class="sxs-lookup"><span data-stu-id="13f68-141">Depending on the scenario, you may perform [batch processing](../big-data/batch-processing.md) or [real-time processing](../big-data/real-time-processing.md) of the data.</span></span>

## <a name="challenges"></a><span data-ttu-id="13f68-142">Défis</span><span class="sxs-lookup"><span data-stu-id="13f68-142">Challenges</span></span>

<span data-ttu-id="13f68-143">L’utilisation de ces formats présente certains défis à prendre en compte :</span><span class="sxs-lookup"><span data-stu-id="13f68-143">There are some challenges to consider when working with these formats:</span></span>

* <span data-ttu-id="13f68-144">Sans restriction du modèle de données, les fichiers CSV et JSON sont sujets à une altération des données (« garbage in, garbage out »).</span><span class="sxs-lookup"><span data-stu-id="13f68-144">Without any restraints on the data model, CSV and JSON files are prone to data corruption ("garbage in, garbage out").</span></span> <span data-ttu-id="13f68-145">Par exemple, il n’existe aucune notion d’objet date/heure dans l’un ou l’autre fichier, ainsi le format du fichier n’empêche pas l’insertion de « ABC123 » dans un champ de date, par exemple.</span><span class="sxs-lookup"><span data-stu-id="13f68-145">For instance, there's no notion of a date/time object in either file, so the file format does not prevent you from inserting "ABC123" in a date field, for example.</span></span>

* <span data-ttu-id="13f68-146">L’utilisation de fichiers CSV et JSON en tant que solution de stockage à froid n’est pas bien adaptée à l’utilisation du Big Data.</span><span class="sxs-lookup"><span data-stu-id="13f68-146">Using CSV and JSON files as your cold storage solution does not scale well when working with big data.</span></span> <span data-ttu-id="13f68-147">Dans la plupart des cas, ils ne peuvent pas être fractionnés en partitions pour un traitement parallèle et ne peuvent pas être compressés aussi bien que des formats binaires.</span><span class="sxs-lookup"><span data-stu-id="13f68-147">In most cases, they cannot be split into partitions for parallel processing, and cannot be compressed as well as binary formats.</span></span> <span data-ttu-id="13f68-148">Cela conduit souvent au traitement et au stockage de ces données dans des formats optimisés pour la lecture tels que Parquet et ORC (ligne optimisée en colonnes), lesquels fournissent également des index et statistiques en ligne sur les données contenues.</span><span class="sxs-lookup"><span data-stu-id="13f68-148">This often leads to processing and storing this data into read-optimized formats such as Parquet and ORC (optimized row columnar), which also provide indexes and inline statistics about the data contained.</span></span>

* <span data-ttu-id="13f68-149">Vous pouvez avoir besoin d’appliquer un schéma sur les données semi-structurées pour faciliter la requête et l’analyse.</span><span class="sxs-lookup"><span data-stu-id="13f68-149">You may need to apply a schema on the semi-structured data to make it easier to query and analyze.</span></span> <span data-ttu-id="13f68-150">En règle générale, cela requiert le stockage des données sous une autre forme qui convient aux besoins de stockage de données de votre environnement, comme dans une base de données.</span><span class="sxs-lookup"><span data-stu-id="13f68-150">Typically, this requires storing the data in another form that complies with your environment's data storage needs, such as within a database.</span></span>

