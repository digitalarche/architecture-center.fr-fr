---
title: Utiliser la meilleure banque de données pour le travail
description: Choisissez la technologie de stockage la mieux adaptée à vos données et son mode d’utilisation
author: MikeWasson
ms.date: 08/30/2018
ms.openlocfilehash: 25839f5a749881f415c923db5497984d32b8ac91
ms.sourcegitcommit: ae8a1de6f4af7a89a66a8339879843d945201f85
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/31/2018
ms.locfileid: "43326089"
---
# <a name="use-the-best-data-store-for-the-job"></a><span data-ttu-id="87fc6-103">Utiliser la meilleure banque de données pour le travail</span><span class="sxs-lookup"><span data-stu-id="87fc6-103">Use the best data store for the job</span></span>

## <a name="pick-the-storage-technology-that-is-the-best-fit-for-your-data-and-how-it-will-be-used"></a><span data-ttu-id="87fc6-104">Choisissez la technologie de stockage la mieux adaptée à vos données et son mode d’utilisation</span><span class="sxs-lookup"><span data-stu-id="87fc6-104">Pick the storage technology that is the best fit for your data and how it will be used</span></span>

<span data-ttu-id="87fc6-105">Le temps où vous stockiez toutes vos données dans une importante base de données relationnelle SQL est révolu.</span><span class="sxs-lookup"><span data-stu-id="87fc6-105">Gone are the days when you would just stick all of your data into a big relational SQL database.</span></span> <span data-ttu-id="87fc6-106">Les bases de données relationnelles remplissent parfaitement leur rôle &mdash; offrir des garanties ACID pour les transactions reposant sur des données relationnelles.</span><span class="sxs-lookup"><span data-stu-id="87fc6-106">Relational databases are very good at what they do &mdash; providing ACID guarantees for transactions over relational data.</span></span> <span data-ttu-id="87fc6-107">Mais ce n’est pas sans inconvénients :</span><span class="sxs-lookup"><span data-stu-id="87fc6-107">But they come with some costs:</span></span>

- <span data-ttu-id="87fc6-108">Les requêtes peuvent nécessiter des jointures coûteuses.</span><span class="sxs-lookup"><span data-stu-id="87fc6-108">Queries may require expensive joins.</span></span>
- <span data-ttu-id="87fc6-109">Les données doivent être normalisées et conformes à un schéma prédéfini (schéma en écriture).</span><span class="sxs-lookup"><span data-stu-id="87fc6-109">Data must be normalized and conform to a predefined schema (schema on write).</span></span>
- <span data-ttu-id="87fc6-110">La contention de verrouillage peut affecter les performances.</span><span class="sxs-lookup"><span data-stu-id="87fc6-110">Lock contention may impact performance.</span></span>

<span data-ttu-id="87fc6-111">Dans toute solution de grande envergure, il est peu probable qu’une technologie de banque de données unique réponde à tous vos besoins.</span><span class="sxs-lookup"><span data-stu-id="87fc6-111">In any large solution, it's likely that a single data store technology won't fill all your needs.</span></span> <span data-ttu-id="87fc6-112">Les alternatives aux bases de données relationnelles incluent des banques de clés/valeurs, des bases de données de documents, des bases de données de moteurs de recherche, des bases de données de séries chronologiques, des bases de données de familles de colonnes et des bases de données graphiques.</span><span class="sxs-lookup"><span data-stu-id="87fc6-112">Alternatives to relational databases include key/value stores, document databases, search engine databases, time series databases, column family databases, and graph databases.</span></span> <span data-ttu-id="87fc6-113">Chacune de ces alternatives a ses avantages et ses inconvénients, et sera plus ou moins adaptée en fonction du type de données.</span><span class="sxs-lookup"><span data-stu-id="87fc6-113">Each has pros and cons, and different types of data fit more naturally into one or another.</span></span> 

<span data-ttu-id="87fc6-114">Par exemple, vous pouvez stocker un catalogue de produits dans une base de données de documents, telle que Cosmos DB, qui offre un schéma flexible.</span><span class="sxs-lookup"><span data-stu-id="87fc6-114">For example, you might store a product catalog in a document database, such as Cosmos DB, which allows for a flexible schema.</span></span> <span data-ttu-id="87fc6-115">Dans ce cas, chaque description de produit constitue un document autonome.</span><span class="sxs-lookup"><span data-stu-id="87fc6-115">In that case, each product description is a self-contained document.</span></span> <span data-ttu-id="87fc6-116">Pour lancer des requêtes sur la totalité du catalogue, vous devrez peut-être indexer le catalogue et stocker l’index dans Azure Search.</span><span class="sxs-lookup"><span data-stu-id="87fc6-116">For queries over the entire catalog, you might index the catalog and store the index in Azure Search.</span></span> <span data-ttu-id="87fc6-117">L’inventaire de produits peut être stocké dans une base de données SQL, car ces données requièrent des garanties ACID.</span><span class="sxs-lookup"><span data-stu-id="87fc6-117">Product inventory might go into a SQL database, because that data requires ACID guarantees.</span></span>

<span data-ttu-id="87fc6-118">N’oubliez pas que les données représentent bien plus que les données d’application persistantes.</span><span class="sxs-lookup"><span data-stu-id="87fc6-118">Remember that data includes more than just the persisted application data.</span></span> <span data-ttu-id="87fc6-119">Elles incluent également les journaux des applications, les événements, les messages et les caches.</span><span class="sxs-lookup"><span data-stu-id="87fc6-119">It also includes application logs, events, messages, and caches.</span></span>

## <a name="recommendations"></a><span data-ttu-id="87fc6-120">Recommandations</span><span class="sxs-lookup"><span data-stu-id="87fc6-120">Recommendations</span></span>

<span data-ttu-id="87fc6-121">**N’utilisez pas une base de données relationnelle pour tous les types de données**.</span><span class="sxs-lookup"><span data-stu-id="87fc6-121">**Don't use a relational database for everything**.</span></span> <span data-ttu-id="87fc6-122">Envisagez d’adopter d’autres banques de données le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="87fc6-122">Consider other data stores when appropriate.</span></span> <span data-ttu-id="87fc6-123">Voir [Choisir le magasin de données correct][data-store-overview].</span><span class="sxs-lookup"><span data-stu-id="87fc6-123">See [Choose the right data store][data-store-overview].</span></span>

<span data-ttu-id="87fc6-124">**Adopter la persistance polyglotte**.</span><span class="sxs-lookup"><span data-stu-id="87fc6-124">**Embrace polyglot persistence**.</span></span> <span data-ttu-id="87fc6-125">Dans toute solution de grande envergure, il est peu probable qu’une technologie de banque de données unique réponde à tous vos besoins.</span><span class="sxs-lookup"><span data-stu-id="87fc6-125">In any large solution, it's likely that a single data store technology won't fill all your needs.</span></span> 

<span data-ttu-id="87fc6-126">**Tenez compte du type de données**.</span><span class="sxs-lookup"><span data-stu-id="87fc6-126">**Consider the type of data**.</span></span> <span data-ttu-id="87fc6-127">Par exemple, placez les données transactionnelles dans SQL, les documents JSON dans une base de données de documents, les données de télémétrie dans une base de données de séries chronologiques, les journaux des applications dans Elasticsearch et les objets blob dans le Stockage Blob Azure.</span><span class="sxs-lookup"><span data-stu-id="87fc6-127">For example, put transactional data into SQL, put JSON documents into a document database, put telemetry data into a time series data base, put application logs in Elasticsearch, and put blobs in Azure Blob Storage.</span></span>

<span data-ttu-id="87fc6-128">**Préférez la disponibilité à la cohérence (forte)**.</span><span class="sxs-lookup"><span data-stu-id="87fc6-128">**Prefer availability over (strong) consistency**.</span></span> <span data-ttu-id="87fc6-129">Le théorème CAP implique qu’un système distribué doit trouver un compromis entre la disponibilité et la cohérence.</span><span class="sxs-lookup"><span data-stu-id="87fc6-129">The CAP theorem implies that a distributed system must make trade-offs between availability and consistency.</span></span> <span data-ttu-id="87fc6-130">(Les partitions réseau, l’autre élément principal du théorème CAP, ne peuvent jamais être totalement ignorées.) Souvent, vous pouvez obtenir une meilleure disponibilité en adoptant un modèle de *cohérence éventuelle*.</span><span class="sxs-lookup"><span data-stu-id="87fc6-130">(Network partitions, the other leg of the CAP theorem, can never be completely avoided.) Often, you can achieve higher availability by adopting an *eventual consistency* model.</span></span> 

<span data-ttu-id="87fc6-131">**Prenez en compte les compétences de l’équipe de développement**.</span><span class="sxs-lookup"><span data-stu-id="87fc6-131">**Consider the skill set of the development team**.</span></span> <span data-ttu-id="87fc6-132">Si la persistance polyglotte offre de nombreux avantages, elle peut également s’avérer très complexe.</span><span class="sxs-lookup"><span data-stu-id="87fc6-132">There are advantages to using polyglot persistence, but it's possible to go overboard.</span></span> <span data-ttu-id="87fc6-133">L’adoption d’une nouvelle technologie de stockage de données requiert un nouvel ensemble de compétences.</span><span class="sxs-lookup"><span data-stu-id="87fc6-133">Adopting a new data storage technology requires a new set of skills.</span></span> <span data-ttu-id="87fc6-134">L’équipe de développement doit comprendre comment tirer le meilleur parti de la technologie.</span><span class="sxs-lookup"><span data-stu-id="87fc6-134">The development team must understand how to get the most out of the technology.</span></span> <span data-ttu-id="87fc6-135">Ils doivent découvrir les modèles d’utilisation appropriés, savoir comment optimiser les requêtes, ajuster les performances, etc.</span><span class="sxs-lookup"><span data-stu-id="87fc6-135">They must understand appropriate usage patterns, how to optimize queries, tune for performance, and so on.</span></span> <span data-ttu-id="87fc6-136">Prenez en compte ces facteurs lors de l’adoption de technologies de stockage.</span><span class="sxs-lookup"><span data-stu-id="87fc6-136">Factor this in when considering storage technologies.</span></span> 

<span data-ttu-id="87fc6-137">**Utilisez des transactions de compensation**.</span><span class="sxs-lookup"><span data-stu-id="87fc6-137">**Use compensating transactions**.</span></span> <span data-ttu-id="87fc6-138">Avec la persistance polyglotte, il est possible qu’une transaction unique écrive des données dans plusieurs banques de données.</span><span class="sxs-lookup"><span data-stu-id="87fc6-138">A side effect of polyglot persistence is that single transaction might write data to multiple stores.</span></span> <span data-ttu-id="87fc6-139">En cas de problème, utilisez des transactions de compensation pour annuler toutes les étapes qui ont déjà été effectuées.</span><span class="sxs-lookup"><span data-stu-id="87fc6-139">If something fails, use compensating transactions to undo any steps that already completed.</span></span>

<span data-ttu-id="87fc6-140">**Examinez les limites de contexte**.</span><span class="sxs-lookup"><span data-stu-id="87fc6-140">**Look at bounded contexts**.</span></span> <span data-ttu-id="87fc6-141">Le terme *Limite de contexte* est associé à la conception axée sur le domaine.</span><span class="sxs-lookup"><span data-stu-id="87fc6-141">*Bounded context* is a term from domain driven design.</span></span> <span data-ttu-id="87fc6-142">Une limite de contexte est une limite explicite autour d’un modèle de domaine qui définit les parties du domaine auxquelles s’applique le modèle.</span><span class="sxs-lookup"><span data-stu-id="87fc6-142">A bounded context is an explicit boundary around a domain model, and defines which parts of the domain the model applies to.</span></span> <span data-ttu-id="87fc6-143">Dans l’idéal, une limite de contexte correspond à un sous-domaine du domaine d’entreprise.</span><span class="sxs-lookup"><span data-stu-id="87fc6-143">Ideally, a bounded context maps to a subdomain of the business domain.</span></span> <span data-ttu-id="87fc6-144">Les limites de contexte dans votre système représentent un facteur important dans l’adoption de la persistance polyglotte.</span><span class="sxs-lookup"><span data-stu-id="87fc6-144">The bounded contexts in your system are a natural place to consider polyglot persistence.</span></span> <span data-ttu-id="87fc6-145">Par exemple, les « produits » peuvent apparaître dans le sous-domaine Catalogue de produits et le sous-domaine Inventaire de produits, mais il est très probable que ces deux sous-domaines présentent des exigences différentes en matière de stockage, de mise à jour et de recherche de produits.</span><span class="sxs-lookup"><span data-stu-id="87fc6-145">For example, "products" may appear in both the Product Catalog subdomain and the Product Inventory subdomain, but it's very likely that these two subdomains have different requirements for storing, updating, and querying products.</span></span>

[data-store-overview]: ../technology-choices/data-store-overview.md