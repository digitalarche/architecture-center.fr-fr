---
title: Architectures de Big Data
description: 
author: zoinerTejada
ms:date: 02/12/2018
ms.openlocfilehash: 2a1336faea81470b082d4eef8e2cc53a082c63c7
ms.sourcegitcommit: 023d88e781f7fe64c62b247d876441ee40921b1b
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/28/2018
---
# <a name="big-data-architectures"></a><span data-ttu-id="95994-102">Architectures de Big Data</span><span class="sxs-lookup"><span data-stu-id="95994-102">Big data architectures</span></span>

<span data-ttu-id="95994-103">Une architecture Big Data est conçue pour gérer l’ingestion, le traitement et l’analyse de données trop volumineuses ou complexes pour les systèmes de base de données traditionnels.</span><span class="sxs-lookup"><span data-stu-id="95994-103">A big data architecture is designed to handle the ingestion, processing, and analysis of data that is too large or complex for traditional database systems.</span></span> <span data-ttu-id="95994-104">Le seuil à partir duquel les organisations basculent dans le domaine Big Data varie selon les capacités des utilisateurs et leurs outils.</span><span class="sxs-lookup"><span data-stu-id="95994-104">The threshold at which organizations enter into the big data realm differs, depending on the capabilities of the users and their tools.</span></span> <span data-ttu-id="95994-105">Pour certaines, ce seuil est fixé à plusieurs centaines de gigaoctets de données, tandis que pour d’autres, il s’agit de centaines de téraoctets.</span><span class="sxs-lookup"><span data-stu-id="95994-105">For some, it can mean hundreds of gigabytes of data, while for others it means hundreds of terabytes.</span></span> <span data-ttu-id="95994-106">L’amélioration des outils de gestion du Big Data redéfinit la notion même de Big Data.</span><span class="sxs-lookup"><span data-stu-id="95994-106">As tools for working with big data sets advance, so does the meaning of big data.</span></span> <span data-ttu-id="95994-107">Ce terme est de plus en plus associé à la valeur que vous pouvez tirer de vos jeux de données via une analytique avancée, plutôt qu’à la taille stricte des données, bien que dans ce cas, ces données ont tendance à être très volumineuses.</span><span class="sxs-lookup"><span data-stu-id="95994-107">More and more, this term relates to the value you can extract from your data sets through advanced analytics, rather than strictly the size of the data, although in these cases they tend to be quite large.</span></span>

<span data-ttu-id="95994-108">Au fil des années, le paysage des données a changé.</span><span class="sxs-lookup"><span data-stu-id="95994-108">Over the years, the data landscape has changed.</span></span> <span data-ttu-id="95994-109">Ce que vous pouvez faire, ou supposer pouvoir faire, avec les données a évolué.</span><span class="sxs-lookup"><span data-stu-id="95994-109">What you can do, or are expected to do, with data has changed.</span></span> <span data-ttu-id="95994-110">Le coût du stockage a considérablement diminué, tandis que les méthodes de collecte de ces données ne cessent de se multiplier.</span><span class="sxs-lookup"><span data-stu-id="95994-110">The cost of storage has fallen dramatically, while the means by which data is collected keeps growing.</span></span> <span data-ttu-id="95994-111">Certaines données affluent à un rythme très soutenu et nécessitent une collecte et une observation permanentes.</span><span class="sxs-lookup"><span data-stu-id="95994-111">Some data arrives at a rapid pace, constantly demanding to be collected and observed.</span></span> <span data-ttu-id="95994-112">D’autres données affluent plus lentement, mais sont très volumineuses, et se présentent souvent sous la forme d’un historique couvrant plusieurs dizaines d’années de données.</span><span class="sxs-lookup"><span data-stu-id="95994-112">Other data arrives more slowly, but in very large chunks, often in the form of decades of historical data.</span></span> <span data-ttu-id="95994-113">Vous pouvez être confronté à un problème d’analytique avancé, ou qui nécessite un apprentissage automatique.</span><span class="sxs-lookup"><span data-stu-id="95994-113">You might be facing an advanced analytics problem, or one that requires machine learning.</span></span> <span data-ttu-id="95994-114">Tels sont les défis que les architectures Big Data tentent de résoudre.</span><span class="sxs-lookup"><span data-stu-id="95994-114">These are challenges that big data architectures seek to solve.</span></span>

<span data-ttu-id="95994-115">Les solutions Big Data impliquent généralement un ou plusieurs des types de charges de travail suivants :</span><span class="sxs-lookup"><span data-stu-id="95994-115">Big data solutions typically involve one or more of the following types of workload:</span></span>

* <span data-ttu-id="95994-116">Traitement par lots des sources Big Data au repos.</span><span class="sxs-lookup"><span data-stu-id="95994-116">Batch processing of big data sources at rest.</span></span>
* <span data-ttu-id="95994-117">Traitement en temps réel des Big Data en mouvement.</span><span class="sxs-lookup"><span data-stu-id="95994-117">Real-time processing of big data in motion.</span></span>
* <span data-ttu-id="95994-118">Exploration interactive des Big Data.</span><span class="sxs-lookup"><span data-stu-id="95994-118">Interactive exploration of big data.</span></span>
* <span data-ttu-id="95994-119">Analyse prédictive et apprentissage machine.</span><span class="sxs-lookup"><span data-stu-id="95994-119">Predictive analytics and machine learning.</span></span>

<span data-ttu-id="95994-120">Utilisez des architectures Big Data lorsque vous devez :</span><span class="sxs-lookup"><span data-stu-id="95994-120">Consider big data architectures when you need to:</span></span>

* <span data-ttu-id="95994-121">Stocker et traiter des données dans des volumes trop vastes pour une base de données traditionnelle.</span><span class="sxs-lookup"><span data-stu-id="95994-121">Store and process data in volumes too large for a traditional database.</span></span>
* <span data-ttu-id="95994-122">Transformer des données non structurées en vue d’une analyse et de la création de rapports.</span><span class="sxs-lookup"><span data-stu-id="95994-122">Transform unstructured data for analysis and reporting.</span></span>
* <span data-ttu-id="95994-123">Capturer, traiter et analyser des flux de données indépendants en temps réel ou avec une faible latence.</span><span class="sxs-lookup"><span data-stu-id="95994-123">Capture, process, and analyze unbounded streams of data in real time, or with low latency.</span></span>

## <a name="components-of-a-big-data-architecture"></a><span data-ttu-id="95994-124">Composants d’une architecture Big Data</span><span class="sxs-lookup"><span data-stu-id="95994-124">Components of a big data architecture</span></span>

<span data-ttu-id="95994-125">Le diagramme suivant montre les composants logiques qui constituent une architecture Big Data.</span><span class="sxs-lookup"><span data-stu-id="95994-125">The following diagram shows the logical components that fit into a big data architecture.</span></span> <span data-ttu-id="95994-126">Certaines solutions individuelles ne contiennent pas tous les éléments de ce diagramme.</span><span class="sxs-lookup"><span data-stu-id="95994-126">Individual solutions may not contain every item in this diagram.</span></span>

![Diagramme global du pipeline de données](./images/big-data-pipeline.png) 

<span data-ttu-id="95994-128">La plupart des architectures Big Data incluent tout ou partie des composants suivants :</span><span class="sxs-lookup"><span data-stu-id="95994-128">Most big data architectures include some or all of the following components:</span></span>

* <span data-ttu-id="95994-129">**Sources de données**.</span><span class="sxs-lookup"><span data-stu-id="95994-129">**Data sources**.</span></span> <span data-ttu-id="95994-130">Toutes les solutions Big Data reposent sur une ou plusieurs sources de données.</span><span class="sxs-lookup"><span data-stu-id="95994-130">All big data solutions start with one or more data sources.</span></span> <span data-ttu-id="95994-131">Voici quelques exemples :</span><span class="sxs-lookup"><span data-stu-id="95994-131">Examples include:</span></span>

    * <span data-ttu-id="95994-132">Magasins de données d’application, tels que des bases de données relationnelles.</span><span class="sxs-lookup"><span data-stu-id="95994-132">Application data stores, such as relational databases.</span></span>
    * <span data-ttu-id="95994-133">Fichiers statiques produits par les applications, tels que les fichiers journaux de serveur web.</span><span class="sxs-lookup"><span data-stu-id="95994-133">Static files produced by applications, such as web server log files.</span></span>
    * <span data-ttu-id="95994-134">Sources de données en temps réel, tels que les appareils IoT.</span><span class="sxs-lookup"><span data-stu-id="95994-134">Real-time data sources, such as IoT devices.</span></span>

* <span data-ttu-id="95994-135">**Stockage des données**.</span><span class="sxs-lookup"><span data-stu-id="95994-135">**Data storage**.</span></span> <span data-ttu-id="95994-136">Les données destinées aux opérations de traitement par lots sont généralement stockées dans un magasin de fichiers distribués, qui peut contenir de vastes volumes de fichiers volumineux dans divers formats.</span><span class="sxs-lookup"><span data-stu-id="95994-136">Data for batch processing operations is typically stored in a distributed file store that can hold high volumes of large files in various formats.</span></span> <span data-ttu-id="95994-137">Ce type de magasin est souvent appelé « *lac de données* ».</span><span class="sxs-lookup"><span data-stu-id="95994-137">This kind of store is often called a *data lake*.</span></span> <span data-ttu-id="95994-138">Les options pour l’implémentation de ce stockage incluent des conteneurs Azure Data Lake Store ou les conteneurs blob dans le stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="95994-138">Options for implementing this storage include Azure Data Lake Store or blob containers in Azure Storage.</span></span>

* <span data-ttu-id="95994-139">**Traitement par lots**.</span><span class="sxs-lookup"><span data-stu-id="95994-139">**Batch processing**.</span></span> <span data-ttu-id="95994-140">Étant donné que les jeux de données sont trop lourds, une solution Big Data doit souvent traiter les fichiers de données à l’aide de traitements par lots à longue durée d’exécution pour filtrer, agréger et préparer les données en vue de l’analyse.</span><span class="sxs-lookup"><span data-stu-id="95994-140">Because the data sets are so large, often a big data solution must process data files using long-running batch jobs to filter, aggregate, and otherwise prepare the data for analysis.</span></span> <span data-ttu-id="95994-141">Généralement, ces travaux impliquent la lecture des fichiers source, leur traitement et l’écriture de la sortie dans de nouveaux fichiers.</span><span class="sxs-lookup"><span data-stu-id="95994-141">Usually these jobs involve reading source files, processing them, and writing the output to new files.</span></span> <span data-ttu-id="95994-142">Les options incluent l’exécution de travaux U-SQL dans Azure Data Lake Analytics, à l’aide de travaux personnalisés de mappage/réduction, Pig ou Hive dans un cluster HDInsight Hadoop ou à l’aide des programmes Java, Scala ou Python dans un cluster HDInsight Spark.</span><span class="sxs-lookup"><span data-stu-id="95994-142">Options include running U-SQL jobs in Azure Data Lake Analytics, using Hive, Pig, or custom Map/Reduce jobs in an HDInsight Hadoop cluster, or using Java, Scala, or Python programs in an HDInsight Spark cluster.</span></span>

* <span data-ttu-id="95994-143">**Ingestion de messages en temps réel**.</span><span class="sxs-lookup"><span data-stu-id="95994-143">**Real-time message ingestion**.</span></span> <span data-ttu-id="95994-144">Si la solution inclut des sources en temps réel, l’architecture doit inclure un moyen pour capturer et stocker des messages en temps réel pour le traitement de flux de données.</span><span class="sxs-lookup"><span data-stu-id="95994-144">If the solution includes real-time sources, the architecture must include a way to capture and store real-time messages for stream processing.</span></span> <span data-ttu-id="95994-145">Il peut s’agir d’un simple magasin de données, où les messages entrants sont déposés dans un dossier en vue du traitement.</span><span class="sxs-lookup"><span data-stu-id="95994-145">This might be a simple data store, where incoming messages are dropped into a folder for processing.</span></span> <span data-ttu-id="95994-146">Toutefois, de nombreuses solutions besoin d’un magasin d’ingestion des messages qui agit comme une mémoire tampon pour les messages et qui prend en charge un traitement de montée en puissance, une remise fiable et d’autres sémantiques de files d’attente de message.</span><span class="sxs-lookup"><span data-stu-id="95994-146">However, many solutions need a message ingestion store to act as a buffer for messages, and to support scale-out processing, reliable delivery, and other message queuing semantics.</span></span> <span data-ttu-id="95994-147">Cette partie d’une architecture de diffusion est communément appelée mise en mémoire tampon du flux.</span><span class="sxs-lookup"><span data-stu-id="95994-147">This portion of a streaming architecture is often referred to as stream buffering.</span></span> <span data-ttu-id="95994-148">Les options incluent Azure Event Hubs, Azure IoT Hub et Kafka.</span><span class="sxs-lookup"><span data-stu-id="95994-148">Options include Azure Event Hubs, Azure IoT Hub, and Kafka.</span></span>

* <span data-ttu-id="95994-149">**Traitement de flux**.</span><span class="sxs-lookup"><span data-stu-id="95994-149">**Stream processing**.</span></span> <span data-ttu-id="95994-150">Après avoir capturé les messages en temps réel, la solution doit les traiter en filtrant, en agrégeant et, plus généralement, en préparant les données pour l’analyse.</span><span class="sxs-lookup"><span data-stu-id="95994-150">After capturing real-time messages, the solution must process them by filtering, aggregating, and otherwise preparing the data for analysis.</span></span> <span data-ttu-id="95994-151">Les données de flux traitées sont ensuite écrites dans un récepteur de sortie.</span><span class="sxs-lookup"><span data-stu-id="95994-151">The processed stream data is then written to an output sink.</span></span> <span data-ttu-id="95994-152">Azure Stream Analytics fournit un service de traitement de flux managé reposant sur des requêtes SQL à l’exécution permanente qui fonctionnent sur les flux de données indépendants.</span><span class="sxs-lookup"><span data-stu-id="95994-152">Azure Stream Analytics provides a managed stream processing service based on perpetually running SQL queries that operate on unbounded streams.</span></span> <span data-ttu-id="95994-153">Vous pouvez également utiliser des technologies de flux Apache open source comme Storm et Spark dans un cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="95994-153">You can also use open source Apache streaming technologies like Storm and Spark Streaming in an HDInsight cluster.</span></span>

* <span data-ttu-id="95994-154">**Magasin de données analytique**.</span><span class="sxs-lookup"><span data-stu-id="95994-154">**Analytical data store**.</span></span> <span data-ttu-id="95994-155">De nombreuses solutions Big Data préparent les données pour l’analyse, puis fournissent les données traitées dans un format structuré qui peut être interrogé à l’aide des outils d’analyse.</span><span class="sxs-lookup"><span data-stu-id="95994-155">Many big data solutions prepare data for analysis and then serve the processed data in a structured format that can be queried using analytical tools.</span></span> <span data-ttu-id="95994-156">Le magasin de données analytique utilisé pour répondre à ces requêtes peut être un entrepôt de données relationnelles de type Kimball, comme indiqué dans les solutions décisionnelles (BI) plus traditionnelles.</span><span class="sxs-lookup"><span data-stu-id="95994-156">The analytical data store used to serve these queries can be a Kimball-style relational data warehouse, as seen in most traditional business intelligence (BI) solutions.</span></span> <span data-ttu-id="95994-157">Les données peuvent également être présentées via une technologie NoSQL à faible latence, telle que HBase, ou via une base de données Hive interactif qui fournit une abstraction de métadonnées sur les fichiers de données dans le magasin de données distribuées.</span><span class="sxs-lookup"><span data-stu-id="95994-157">Alternatively, the data could be presented through a low-latency NoSQL technology such as HBase, or an interactive Hive database that provides a metadata abstraction over data files in the distributed data store.</span></span> <span data-ttu-id="95994-158">Azure SQL Data Warehouse fournit un service managé pour l’entreposage cloud des données à grande échelle.</span><span class="sxs-lookup"><span data-stu-id="95994-158">Azure SQL Data Warehouse provides a managed service for large-scale, cloud-based data warehousing.</span></span> <span data-ttu-id="95994-159">HDInsight prend en charge les formats Hive interactif, HBase et Spark SQL, qui peuvent également servir à préparer les données en vue de l’analyse.</span><span class="sxs-lookup"><span data-stu-id="95994-159">HDInsight supports Interactive Hive, HBase, and Spark SQL, which can also be used to serve data for analysis.</span></span>

* <span data-ttu-id="95994-160">**Analyse et rapports**.</span><span class="sxs-lookup"><span data-stu-id="95994-160">**Analysis and reporting**.</span></span> <span data-ttu-id="95994-161">La plupart des solutions Big Data ont pour but de fournir des informations sur les données par le biais de l’analyse et des rapports.</span><span class="sxs-lookup"><span data-stu-id="95994-161">The goal of most big data solutions is to provide insights into the data through analysis and reporting.</span></span> <span data-ttu-id="95994-162">Pour permettre aux utilisateurs d’analyser les données, l’architecture peut inclure une couche de modélisation des données, comme un cube OLAP multidimensionnel ou un modèle de données tabulaire dans Azure Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="95994-162">To empower users to analyze the data, the architecture may include a data modeling layer, such as a multidimensional OLAP cube or tabular data model in Azure Analysis Services.</span></span> <span data-ttu-id="95994-163">Elle peut également prendre en charge le décisionnel libre-service, en utilisant les technologies de modélisation et de visualisation de Microsoft Power BI ou Microsoft Excel.</span><span class="sxs-lookup"><span data-stu-id="95994-163">It might also support self-service BI, using the modeling and visualization technologies in Microsoft Power BI or Microsoft Excel.</span></span> <span data-ttu-id="95994-164">L’analyse et les rapports peuvent aussi prendre la forme d’une exploration interactive des données par les scientifiques de données ou les analystes de données.</span><span class="sxs-lookup"><span data-stu-id="95994-164">Analysis and reporting can also take the form of interactive data exploration by data scientists or data analysts.</span></span> <span data-ttu-id="95994-165">Pour ces scénarios, plusieurs services Azure prennent en charge les blocs-notes analytiques, tels que Jupyter, ce qui permet à ces utilisateurs de tirer parti de leurs connaissances avec Python ou R. Pour l’exploration de données à grande échelle, vous pouvez utiliser Microsoft R Server seul ou avec Spark.</span><span class="sxs-lookup"><span data-stu-id="95994-165">For these scenarios, many Azure services support analytical notebooks, such as Jupyter, enabling these users to leverage their existing skills with Python or R. For large-scale data exploration, you can use Microsoft R Server, either standalone or with Spark.</span></span>

* <span data-ttu-id="95994-166">**Orchestration**.</span><span class="sxs-lookup"><span data-stu-id="95994-166">**Orchestration**.</span></span> <span data-ttu-id="95994-167">La plupart des solutions Big Data consistent en des opérations de traitement de données répétées, encapsulées dans des workflows, qui transforment les données source, déplacent les données entre plusieurs sources et récepteurs, chargent les données traitées dans un magasin de données analytique, ou envoient les résultats directement à un rapport ou à un tableau de bord.</span><span class="sxs-lookup"><span data-stu-id="95994-167">Most big data solutions consist of repeated data processing operations, encapsulated in workflows, that transform source data, move data between multiple sources and sinks, load the processed data into an analytical data store, or push the results straight to a report or dashboard.</span></span> <span data-ttu-id="95994-168">Pour automatiser ces workflows, vous pouvez utiliser une technologie d’orchestration telle qu’Azure Data Factory ou Apache Oozie avec Sqoop.</span><span class="sxs-lookup"><span data-stu-id="95994-168">To automate these workflows, you can use an orchestration technology such Azure Data Factory or Apache Oozie and Sqoop.</span></span>

## <a name="lambda-architecture"></a><span data-ttu-id="95994-169">Architecture lambda</span><span class="sxs-lookup"><span data-stu-id="95994-169">Lambda architecture</span></span>

<span data-ttu-id="95994-170">Lorsque vous utilisez des jeux de données très volumineux, l'exécution des requêtes des clients peut prendre beaucoup de temps.</span><span class="sxs-lookup"><span data-stu-id="95994-170">When working with very large data sets, it can take a long time to run the sort of queries that clients need.</span></span> <span data-ttu-id="95994-171">Ces requêtes ne peuvent pas être effectuées en temps réel et nécessitent souvent des algorithmes comme [MapReduce](https://en.wikipedia.org/wiki/MapReduce), qui s’exécutent en parallèle sur l’ensemble du jeu de données.</span><span class="sxs-lookup"><span data-stu-id="95994-171">These queries can't be performed in real time, and often require algorithms such as [MapReduce](https://en.wikipedia.org/wiki/MapReduce) that operate in parallel across the entire data set.</span></span> <span data-ttu-id="95994-172">Les résultats sont ensuite stockés séparément des données brutes et utilisés à des fins d’interrogation.</span><span class="sxs-lookup"><span data-stu-id="95994-172">The results are then stored separately from the raw data and used for querying.</span></span>

<span data-ttu-id="95994-173">L’inconvénient de cette approche est qu’elle entraîne une latence &mdash; si le traitement dure quelques heures, une requête peut donc retourner des résultats datant de plusieurs heures.</span><span class="sxs-lookup"><span data-stu-id="95994-173">One drawback to this approach is that it introduces latency &mdash; if processing takes a few hours, a query may return results that are several hours old.</span></span> <span data-ttu-id="95994-174">Dans l’idéal, vous devez obtenir des résultats en temps réel (malgré une certaine perte de précision) et combiner ces résultats avec ceux de l’analyse en mode batch.</span><span class="sxs-lookup"><span data-stu-id="95994-174">Ideally, you would like to get some results in real time (perhaps with some loss of accuracy), and combine these results with the results from the batch analytics.</span></span>

<span data-ttu-id="95994-175">L**’architecture lambda**, proposée pour la première fois par Nathan Marz, résout ce problème en créant deux chemins d’accès aux flux de données.</span><span class="sxs-lookup"><span data-stu-id="95994-175">The **lambda architecture**, first proposed by Nathan Marz, addresses this problem by creating two paths for data flow.</span></span> <span data-ttu-id="95994-176">Toutes les données entrantes dans le système transitent par ces deux chemins d’accès :</span><span class="sxs-lookup"><span data-stu-id="95994-176">All data coming into the system goes through these two paths:</span></span>

* <span data-ttu-id="95994-177">une **couche de traitement par lots** (chemin à froid) stocke toutes les données entrantes dans leur forme brute et effectue un traitement par lots de ces données.</span><span class="sxs-lookup"><span data-stu-id="95994-177">A **batch layer** (cold path) stores all of the incoming data in its raw form and performs batch processing on the data.</span></span> <span data-ttu-id="95994-178">Le résultat de ce traitement est stocké sous forme d’une **vue de traitement par lots**.</span><span class="sxs-lookup"><span data-stu-id="95994-178">The result of this processing is stored as a **batch view**.</span></span>

* <span data-ttu-id="95994-179">Une **couche vitesse** (chemin réactif) analyse les données en temps réel.</span><span class="sxs-lookup"><span data-stu-id="95994-179">A **speed layer** (hot path) analyzes data in real time.</span></span> <span data-ttu-id="95994-180">Cette couche est conçue pour une faible latence, au détriment de la précision.</span><span class="sxs-lookup"><span data-stu-id="95994-180">This layer is designed for low latency, at the expense of accuracy.</span></span>

<span data-ttu-id="95994-181">La couche de traitement par lots alimente une **couche service** qui indexe la vue de traitement par lots pour améliorer l’interrogation.</span><span class="sxs-lookup"><span data-stu-id="95994-181">The batch layer feeds into a **serving layer** that indexes the batch view for efficient querying.</span></span> <span data-ttu-id="95994-182">La couche vitesse met à jour de la couche service avec les mises à jour incrémentielles basées sur les données les plus récentes.</span><span class="sxs-lookup"><span data-stu-id="95994-182">The speed layer updates the serving layer with incremental updates based on the most recent data.</span></span>

![Diagramme d'architecture lambda](./images/lambda.png)

<span data-ttu-id="95994-184">Les données qui circulent dans le chemin réactif sont limitées par les conditions de latence imposées par la couche vitesse, afin de garantir un traitement aussi rapide que possible.</span><span class="sxs-lookup"><span data-stu-id="95994-184">Data that flows into the hot path is constrained by latency requirements imposed by the speed layer, so that it can be processed as quickly as possible.</span></span> <span data-ttu-id="95994-185">Souvent, cela nécessite d’accepter une certaine perte de précision afin d’obtenir les données aussi rapidement que possible.</span><span class="sxs-lookup"><span data-stu-id="95994-185">Often, this requires a tradeoff of some level of accuracy in favor of data that is ready as quickly as possible.</span></span> <span data-ttu-id="95994-186">Par exemple, imaginons un scénario IoT où un grand nombre de capteurs de température transmettent des données de télémétrie.</span><span class="sxs-lookup"><span data-stu-id="95994-186">For example, consider an IoT scenario where a large number of temperature sensors are sending telemetry data.</span></span> <span data-ttu-id="95994-187">La couche vitesse permet de traiter les données entrantes dans une fenêtre temporelle coulissante.</span><span class="sxs-lookup"><span data-stu-id="95994-187">The speed layer may be used to process a sliding time window of the incoming data.</span></span> 

<span data-ttu-id="95994-188">En revanche, les données qui transitent par le chemin à froid ne sont pas soumises aux mêmes exigences de faible latence.</span><span class="sxs-lookup"><span data-stu-id="95994-188">Data flowing into the cold path, on the other hand, is not subject to the same low latency requirements.</span></span> <span data-ttu-id="95994-189">Cela permet d’obtenir un calcul plus précis sur plusieurs jeux de données volumineux, une tâche qui peut prendre beaucoup de temps.</span><span class="sxs-lookup"><span data-stu-id="95994-189">This allows for high accuracy computation across large data sets, which can be very time intensive.</span></span> 

<span data-ttu-id="95994-190">Pour finir, le chemin relatif et le chemin à froid convergent au niveau de l’application cliente analytique.</span><span class="sxs-lookup"><span data-stu-id="95994-190">Eventually, the hot and cold paths converge at the analytics client application.</span></span> <span data-ttu-id="95994-191">Si le client a besoin d’afficher en temps opportun des données potentiellement moins précises en temps réel, il obtiendra son résultat avec le chemin réactif.</span><span class="sxs-lookup"><span data-stu-id="95994-191">If the client needs to display timely, yet potentially less accurate data in real time, it will acquire its result from the hot path.</span></span> <span data-ttu-id="95994-192">Sinon, il devra sélectionner les résultats avec le chemin à froid pour obtenir des données plus précises mais à un moment moins opportun.</span><span class="sxs-lookup"><span data-stu-id="95994-192">Otherwise, it will select results from the cold path to display less timely but more accurate data.</span></span> <span data-ttu-id="95994-193">En d’autres termes, le chemin réactif offre des données dans une fenêtre temporelle relativement restreinte, après laquelle les résultats peuvent être mis à jour avec des données plus précises grâce au chemin à froid.</span><span class="sxs-lookup"><span data-stu-id="95994-193">In other words, the hot path has data for a relatively small window of time, after which the results can be updated with more accurate data from the cold path.</span></span>

<span data-ttu-id="95994-194">Les données brutes stockées au niveau de la couche de traitement par lots sont immuables.</span><span class="sxs-lookup"><span data-stu-id="95994-194">The raw data stored at the batch layer is immutable.</span></span> <span data-ttu-id="95994-195">Les données entrantes sont toujours ajoutées aux données existantes, et les données précédentes ne sont jamais remplacées.</span><span class="sxs-lookup"><span data-stu-id="95994-195">Incoming data is always appended to the existing data, and the previous data is never overwritten.</span></span> <span data-ttu-id="95994-196">Toute modification apportée à la valeur d’une donnée particulière est stockée comme un nouvel enregistrement d’événement horodaté.</span><span class="sxs-lookup"><span data-stu-id="95994-196">Any changes to the value of a particular datum are stored as a new timestamped event record.</span></span> <span data-ttu-id="95994-197">Cela permet un recalcul à n’importe quel point dans le temps dans tout l’historique des données collectées.</span><span class="sxs-lookup"><span data-stu-id="95994-197">This allows for recomputation at any point in time across the history of the data collected.</span></span> <span data-ttu-id="95994-198">La possibilité de recalculer la vue de traitement par lots à partir de données brutes d’origine est importante car elle permet de créer de nouvelles vues à mesure que le système évolue.</span><span class="sxs-lookup"><span data-stu-id="95994-198">The ability to recompute the batch view from the original raw data is important, because it allows for new views to be created as the system evolves.</span></span> 

## <a name="kappa-architecture"></a><span data-ttu-id="95994-199">Architecture kappa</span><span class="sxs-lookup"><span data-stu-id="95994-199">Kappa architecture</span></span>

<span data-ttu-id="95994-200">Un inconvénient de l’architecture lambda est sa complexité.</span><span class="sxs-lookup"><span data-stu-id="95994-200">A drawback to the lambda architecture is its complexity.</span></span> <span data-ttu-id="95994-201">La logique de traitement apparaît en deux emplacements différents &mdash; le chemin réactif et le chemin à froid &mdash; avec différentes infrastructures.</span><span class="sxs-lookup"><span data-stu-id="95994-201">Processing logic appears in two different places &mdash; the cold and hot paths &mdash; using different frameworks.</span></span> <span data-ttu-id="95994-202">Cela double la logique de calcul et la complexité de la gestion de l’architecture pour ces deux chemins.</span><span class="sxs-lookup"><span data-stu-id="95994-202">This leads to duplicate computation logic and the complexity of managing the architecture for both paths.</span></span>

<span data-ttu-id="95994-203">L**’architecture kappa** a été proposée par Jay Kreps comme alternative à l’architecture lambda.</span><span class="sxs-lookup"><span data-stu-id="95994-203">The **kappa architecture** was proposed by Jay Kreps as an alternative to the lambda architecture.</span></span> <span data-ttu-id="95994-204">Elle vise les mêmes objectifs de base que l’architecture lambda, mais avec une différence importante : toutes les données transitent via un chemin unique en utilisant un système de traitement de flux.</span><span class="sxs-lookup"><span data-stu-id="95994-204">It has the same basic goals as the lambda architecture, but with an important distinction: All data flows through a single path, using a stream processing system.</span></span> 

![Diagramme d'architecture kappa](./images/kappa.png)

<span data-ttu-id="95994-206">Il existe certaines similarités avec la couche de traitement par lots de l’architecture lambda, dans la mesure où les données des événements restent immuables et sont collectées dans leur totalité et non comme un sous-ensemble.</span><span class="sxs-lookup"><span data-stu-id="95994-206">There are some similarities to the lambda architecture's batch layer, in that the event data is immutable and all of it is collected, instead of a subset.</span></span> <span data-ttu-id="95994-207">Les données sont reçues sous forme d’un flux d’événements dans un journal unifié, distribué et tolérance aux pannes.</span><span class="sxs-lookup"><span data-stu-id="95994-207">The data is ingested as a stream of events into a distributed and fault tolerant unified log.</span></span> <span data-ttu-id="95994-208">Ces événements sont classés, et l’état actuel d’un événement change uniquement lorsqu’un nouvel événement est ajouté.</span><span class="sxs-lookup"><span data-stu-id="95994-208">These events are ordered, and the current state of an event is changed only by a new event being appended.</span></span> <span data-ttu-id="95994-209">Comme pour la couche vitesse de l’architecture lambda, tout le traitement des événements est effectué sur le flux d’entrée et perdure sous forme d’une vue en temps réel.</span><span class="sxs-lookup"><span data-stu-id="95994-209">Similar to a lambda architecture's speed layer, all event processing is performed on the input stream and persisted as a real-time view.</span></span> 

<span data-ttu-id="95994-210">Si vous avez besoin de recalculer la totalité du jeu de données (comparable à ce que fait la couche de traitement par lots dans l’architecture lambda), il vous suffit de relancer le flux, généralement en utilisant un parallélisme pour effectuer le calcul en temps opportun.</span><span class="sxs-lookup"><span data-stu-id="95994-210">If you need to recompute the entire data set (equivalent to what the batch layer does in lambda), you simply replay the stream, typically using parallelism to complete the computation in a timely fashion.</span></span>

## <a name="internet-of-things-iot"></a><span data-ttu-id="95994-211">Internet des objets (IoT)</span><span class="sxs-lookup"><span data-stu-id="95994-211">Internet of Things (IoT)</span></span>

<span data-ttu-id="95994-212">D’un point de vue pratique, Internet des objets (IoT) représente n’importe quel appareil connecté à Internet.</span><span class="sxs-lookup"><span data-stu-id="95994-212">From a practical viewpoint, Internet of Things (IoT) represents any device that is connected to the Internet.</span></span> <span data-ttu-id="95994-213">Cela inclut votre PC, téléphone mobile, montre connectée, thermostat intelligent, réfrigérateur connecté, véhicule connecté, les appareils de surveillance cardiaque et tout autre appareil qui se connecte à Internet et échange des données.</span><span class="sxs-lookup"><span data-stu-id="95994-213">This includes your PC, mobile phone, smart watch, smart thermostat, smart refrigerator, connected automobile, heart monitoring implants, and anything else that connects to the Internet and sends or receives data.</span></span> <span data-ttu-id="95994-214">Le nombre d’appareils connectés augmente chaque jour, tout comme la quantité de données collectées à partir de ceux-ci.</span><span class="sxs-lookup"><span data-stu-id="95994-214">The number of connected devices grows every day, as does the amount of data collected from them.</span></span> <span data-ttu-id="95994-215">Souvent, ces données sont collectées dans des environnements à fortes contraintes, parfois à latence élevée.</span><span class="sxs-lookup"><span data-stu-id="95994-215">Often this data is being collected in highly constrained, sometimes high-latency environments.</span></span> <span data-ttu-id="95994-216">Dans d’autres cas, les données sont envoyées à partir d’environnements à faible latence par des milliers voire des millions d’appareils, ce qui nécessite de recevoir rapidement les données et de les traiter en conséquence.</span><span class="sxs-lookup"><span data-stu-id="95994-216">In other cases, data is sent from low-latency environments by thousands or millions of devices, requiring the ability to rapidly ingest the data and process accordingly.</span></span> <span data-ttu-id="95994-217">Ainsi, une planification appropriée est requise pour gérer ces contraintes et ces conditions spécifiques.</span><span class="sxs-lookup"><span data-stu-id="95994-217">Therefore, proper planning is required to handle these constraints and unique requirements.</span></span>

<span data-ttu-id="95994-218">Les architectures basées sur les événements sont des éléments essentiels dans les solutions IoT.</span><span class="sxs-lookup"><span data-stu-id="95994-218">Event-driven architectures are central to IoT solutions.</span></span> <span data-ttu-id="95994-219">Le diagramme suivant présente une architecture logique possible pour IoT.</span><span class="sxs-lookup"><span data-stu-id="95994-219">The following diagram shows a possible logical architecture for IoT.</span></span> <span data-ttu-id="95994-220">Le diagramme met en avant les composants de diffusion d’événements de l’architecture.</span><span class="sxs-lookup"><span data-stu-id="95994-220">The diagram emphasizes the event-streaming components of the architecture.</span></span>

![Architecture IoT](../../guide/architecture-styles/images/iot.png)

<span data-ttu-id="95994-222">La **passerelle cloud** ingère les événements d’appareils à la limite du cloud en utilisant un système de messagerie fiable et à faible latence.</span><span class="sxs-lookup"><span data-stu-id="95994-222">The **cloud gateway** ingests device events at the cloud boundary, using a reliable, low latency messaging system.</span></span>

<span data-ttu-id="95994-223">Les appareils peuvent envoyer les événements directement à la passerelle cloud ou via une **passerelle de champ**.</span><span class="sxs-lookup"><span data-stu-id="95994-223">Devices might send events directly to the cloud gateway, or through a **field gateway**.</span></span> <span data-ttu-id="95994-224">Une passerelle de champ est un appareil ou un logiciel spécialisé, généralement colocalisée avec les appareils, qui reçoit les événements et les transfère à la passerelle cloud.</span><span class="sxs-lookup"><span data-stu-id="95994-224">A field gateway is a specialized device or software, usually collocated with the devices, that receives events and forwards them to the cloud gateway.</span></span> <span data-ttu-id="95994-225">La passerelle de champ peut aussi prétraiter les événements d’appareils bruts, remplissant des fonctions de filtrage, d’agrégation ou de transformation de protocole.</span><span class="sxs-lookup"><span data-stu-id="95994-225">The field gateway might also preprocess the raw device events, performing functions such as filtering, aggregation, or protocol transformation.</span></span>

<span data-ttu-id="95994-226">Après ingestion, les événements transitent par un ou plusieurs **processeurs de flux** qui peuvent acheminer les données (par exemple, vers le stockage) ou procéder à l’analytique et autres traitements.</span><span class="sxs-lookup"><span data-stu-id="95994-226">After ingestion, events go through one or more **stream processors** that can route the data (for example, to storage) or perform analytics and other processing.</span></span>

<span data-ttu-id="95994-227">Voici quelques types de traitement courants.</span><span class="sxs-lookup"><span data-stu-id="95994-227">The following are some common types of processing.</span></span> <span data-ttu-id="95994-228">(Cette liste n’est certainement pas exhaustive.)</span><span class="sxs-lookup"><span data-stu-id="95994-228">(This list is certainly not exhaustive.)</span></span>

- <span data-ttu-id="95994-229">Écriture de données d’événement dans un stockage froid pour archivage ou traitement analytique par lots.</span><span class="sxs-lookup"><span data-stu-id="95994-229">Writing event data to cold storage, for archiving or batch analytics.</span></span>

- <span data-ttu-id="95994-230">Analytique de séquence à chaud (« hot path analytics »), avec une analyse du flux d’événements en (quasi) temps réel, pour détecter les anomalies, reconnaître les modèles dans des fenêtres de temps glissantes ou déclencher des alertes quand une condition spécifique est rencontrée dans le flux.</span><span class="sxs-lookup"><span data-stu-id="95994-230">Hot path analytics, analyzing the event stream in (near) real time, to detect anomalies, recognize patterns over rolling time windows, or trigger alerts when a specific condition occurs in the stream.</span></span> 

- <span data-ttu-id="95994-231">Gestion de types de messages d’appareils non liés à la télémétrie, tels que les notifications et les alarmes.</span><span class="sxs-lookup"><span data-stu-id="95994-231">Handling special types of nontelemetry messages from devices, such as notifications and alarms.</span></span> 

- <span data-ttu-id="95994-232">Apprentissage automatique.</span><span class="sxs-lookup"><span data-stu-id="95994-232">Machine learning.</span></span>

<span data-ttu-id="95994-233">Les cadres gris représentent les composants d’un système IoT qui ne sont pas directement liés à la diffusion d’événements, mais qui sont inclus ici par souci d’exhaustivité.</span><span class="sxs-lookup"><span data-stu-id="95994-233">The boxes that are shaded gray show components of an IoT system that are not directly related to event streaming, but are included here for completeness.</span></span>

- <span data-ttu-id="95994-234">Le **registre d’appareils** est une base de données qui recense les appareils provisionnés, avec notamment leur ID et les métadonnées associées usuelles, telles que l’emplacement.</span><span class="sxs-lookup"><span data-stu-id="95994-234">The **device registry** is a database of the provisioned devices, including the device IDs and usually device metadata, such as location.</span></span>

- <span data-ttu-id="95994-235">L’**API de provisionnement** est une interface externe commune pour provisionner et inscrire de nouveaux appareils.</span><span class="sxs-lookup"><span data-stu-id="95994-235">The **provisioning API** is a common external interface for provisioning and registering new devices.</span></span>

- <span data-ttu-id="95994-236">Certaines solutions IoT autorisent l’envoi de **messages de commande et de contrôle** aux appareils.</span><span class="sxs-lookup"><span data-stu-id="95994-236">Some IoT solutions allow **command and control messages** to be sent to devices.</span></span>

<span data-ttu-id="95994-237">Services Azure appropriés :</span><span class="sxs-lookup"><span data-stu-id="95994-237">Relevant Azure services:</span></span>

- [<span data-ttu-id="95994-238">Azure IoT Hub</span><span class="sxs-lookup"><span data-stu-id="95994-238">Azure IoT Hub</span></span>](https://azure.microsoft.com/services/iot-hub/)
- [<span data-ttu-id="95994-239">Azure Event Hubs</span><span class="sxs-lookup"><span data-stu-id="95994-239">Azure Event Hubs</span></span>](https://azure.microsoft.com/services/event-hubs/)
- [<span data-ttu-id="95994-240">Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="95994-240">Azure Stream Analytics</span></span>](https://azure.microsoft.com/services/stream-analytics/)  

<span data-ttu-id="95994-241">En savoir plus sur IoT sur Azure en consultant la section [Architecture de référence Azure IoT](https://azure.microsoft.com/updates/microsoft-azure-iot-reference-architecture-available/).</span><span class="sxs-lookup"><span data-stu-id="95994-241">Learn more about IoT on Azure by reading the [Azure IoT reference architecture](https://azure.microsoft.com/updates/microsoft-azure-iot-reference-architecture-available/).</span></span>


