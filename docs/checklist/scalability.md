---
title: "Liste de contrôle de l’extensibilité"
description: "Liste de contrôle de l’extensibilité et recommandations concernant les problématiques de conception pour la mise à l’échelle automatique d’Azure."
author: dragon119
ms.date: 03/24/2017
ms.custom: checklist
ms.openlocfilehash: 250fa2d56720c476bb604c5dba684e938088b6a0
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/14/2017
---
# <a name="scalability-checklist"></a><span data-ttu-id="a25bc-103">Liste de contrôle de l’extensibilité</span><span class="sxs-lookup"><span data-stu-id="a25bc-103">Scalability checklist</span></span>
[!INCLUDE [header](../_includes/header.md)]

## <a name="service-design"></a><span data-ttu-id="a25bc-104">Conception du service</span><span class="sxs-lookup"><span data-stu-id="a25bc-104">Service design</span></span>
* <span data-ttu-id="a25bc-105">**Partitionnez la charge de travail**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-105">**Partition the workload**.</span></span> <span data-ttu-id="a25bc-106">Concevez les parties du processus pour qu’elles soient distinctes et décomposables.</span><span class="sxs-lookup"><span data-stu-id="a25bc-106">Design parts of the process to be discrete and decomposable.</span></span> <span data-ttu-id="a25bc-107">Minimisez la taille de chaque partie tout en respectant les règles habituelles de séparation des éléments problématiques et le principe de responsabilité unique.</span><span class="sxs-lookup"><span data-stu-id="a25bc-107">Minimize the size of each part, while following the usual rules for separation of concerns and the single responsibility principle.</span></span> <span data-ttu-id="a25bc-108">Cela permet de distribuer les parties du composant de façon à optimiser l’utilisation de chaque unité de calcul (par exemple un serveur de bases de données ou de rôles).</span><span class="sxs-lookup"><span data-stu-id="a25bc-108">This allows the component parts to be distributed in a way that maximizes use of each compute unit (such as a role or database server).</span></span> <span data-ttu-id="a25bc-109">Cela facilite également la mise à l’échelle de l’application grâce à l’ajout d’instances de ressources spécifiques.</span><span class="sxs-lookup"><span data-stu-id="a25bc-109">It also makes it easier to scale the application by adding instances of specific resources.</span></span> <span data-ttu-id="a25bc-110">Pour plus d’informations, consultez la page [Recommandations en matière de partitionnement des unités de calcul](https://msdn.microsoft.com/library/dn589773.aspx).</span><span class="sxs-lookup"><span data-stu-id="a25bc-110">For more information, see [Compute Partitioning Guidance](https://msdn.microsoft.com/library/dn589773.aspx).</span></span>
* <span data-ttu-id="a25bc-111">**Pensez la conception pour la mise à l’échelle**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-111">**Design for scaling**.</span></span> <span data-ttu-id="a25bc-112">La mise à l’échelle permet aux applications de répondre à la variabilité de la charge en augmentant ou en diminuant le nombre d’instances de rôles, de files d’attente et d’autres services qu’elles utilisent.</span><span class="sxs-lookup"><span data-stu-id="a25bc-112">Scaling allows applications to react to variable load by increasing and decreasing the number of instances of roles, queues, and other services they use.</span></span> <span data-ttu-id="a25bc-113">L’application doit toutefois être conçue en ce sens.</span><span class="sxs-lookup"><span data-stu-id="a25bc-113">However, the application must be designed with this in mind.</span></span> <span data-ttu-id="a25bc-114">Par exemple, l’application et les services qu’elle utilise doivent être sans état, pour que les demandes puissent être acheminées vers n’importe quelle instance.</span><span class="sxs-lookup"><span data-stu-id="a25bc-114">For example, the application and the services it uses must be stateless, to allow requests to be routed to any instance.</span></span> <span data-ttu-id="a25bc-115">Cela empêche également que l’ajout ou la suppression d’instances spécifiques aient un impact négatif sur les utilisateurs actuels.</span><span class="sxs-lookup"><span data-stu-id="a25bc-115">This also prevents the addition or removal of specific instances from adversely impacting current users.</span></span> <span data-ttu-id="a25bc-116">Vous devez aussi implémenter la configuration ou la détection automatique des instances à mesure qu’elles sont ajoutées et supprimées, pour que le code de l’application puisse effectuer le routage nécessaire.</span><span class="sxs-lookup"><span data-stu-id="a25bc-116">You should also implement configuration or auto-detection of instances as they are added and removed, so that code in the application can perform the necessary routing.</span></span> <span data-ttu-id="a25bc-117">Par exemple, une application web peut utiliser un ensemble de files d’attente selon une approche de type tourniquet (round robin) pour acheminer les demandes vers les services d’arrière-plan exécutés dans les rôles de travail.</span><span class="sxs-lookup"><span data-stu-id="a25bc-117">For example, a web application might use a set of queues in a round-robin approach to route requests to background services running in worker roles.</span></span> <span data-ttu-id="a25bc-118">L’application web doit pouvoir détecter les modifications du nombre de files d’attente, pour pouvoir acheminer correctement les demandes et équilibrer la charge sur l’application.</span><span class="sxs-lookup"><span data-stu-id="a25bc-118">The web application must be able to detect changes in the number of queues, to successfully route requests and balance the load on the application.</span></span>
* <span data-ttu-id="a25bc-119">**Considérez la mise à l’échelle de manière unitaire**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-119">**Scale as a unit**.</span></span> <span data-ttu-id="a25bc-120">Prévoyez des ressources supplémentaires pour prendre en charge la croissance.</span><span class="sxs-lookup"><span data-stu-id="a25bc-120">Plan for additional resources to accommodate growth.</span></span> <span data-ttu-id="a25bc-121">Pour chaque ressource, vous devez connaître les limites supérieures de mise à l’échelle et utiliser le partitionnement ou la décomposition pour dépasser ces limites.</span><span class="sxs-lookup"><span data-stu-id="a25bc-121">For each resource, know the upper scaling limits, and use sharding or decomposition to go beyond these limits.</span></span> <span data-ttu-id="a25bc-122">Déterminez les unités d’échelle pour le système en termes de jeux bien définis de ressources.</span><span class="sxs-lookup"><span data-stu-id="a25bc-122">Determine the scale units for the system in terms of well-defined sets of resources.</span></span> <span data-ttu-id="a25bc-123">Ainsi, la mise en œuvre des opérations de montée en charge est plus simple et moins susceptible d’avoir des conséquences néfastes sur l’application à cause de limitations imposées par le manque de ressources dans une partie du système global.</span><span class="sxs-lookup"><span data-stu-id="a25bc-123">This makes applying scale-out operations easier, and less prone to negative impact on the application through limitations imposed by lack of resources in some part of the overall system.</span></span> <span data-ttu-id="a25bc-124">Par exemple, l’ajout de x rôles de travail et web peut nécessiter y files d’attente supplémentaires et z comptes de stockage pour gérer la charge de travail supplémentaire générée par les rôles.</span><span class="sxs-lookup"><span data-stu-id="a25bc-124">For example, adding x number of web and worker roles might require y number of additional queues and z number of storage accounts to handle the additional workload generated by the roles.</span></span> <span data-ttu-id="a25bc-125">Une unité d’échelle peut donc comprendre x rôles de travail et web, *y* files d’attente et *z* comptes de stockage.</span><span class="sxs-lookup"><span data-stu-id="a25bc-125">So a scale unit could consist of x web and worker roles, *y* queues, and *z* storage accounts.</span></span> <span data-ttu-id="a25bc-126">Concevez l’application pour qu’elle puisse facilement être mise à l’échelle en ajoutant une ou plusieurs unités d’échelle.</span><span class="sxs-lookup"><span data-stu-id="a25bc-126">Design the application so that it's easily scaled by adding one or more scale units.</span></span>
* <span data-ttu-id="a25bc-127">**Évitez l’affinité du client**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-127">**Avoid client affinity**.</span></span> <span data-ttu-id="a25bc-128">Si possible, assurez-vous que l’application ne nécessite pas d’affinité.</span><span class="sxs-lookup"><span data-stu-id="a25bc-128">Where possible, ensure that the application does not require affinity.</span></span> <span data-ttu-id="a25bc-129">Les demandes peuvent ainsi être acheminées vers n’importe quelle instance, et le nombre d’instances importe peu.</span><span class="sxs-lookup"><span data-stu-id="a25bc-129">Requests can thus be routed to any instance, and the number of instances is irrelevant.</span></span> <span data-ttu-id="a25bc-130">Cela élimine également la surcharge liée au stockage, à la récupération et à la maintenance des informations d’état pour chaque utilisateur.</span><span class="sxs-lookup"><span data-stu-id="a25bc-130">This also avoids the overhead of storing, retrieving, and maintaining state information for each user.</span></span>
* <span data-ttu-id="a25bc-131">**Tirez parti des fonctionnalités de mise à l’échelle automatique de la plateforme**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-131">**Take advantage of platform autoscaling features**.</span></span> <span data-ttu-id="a25bc-132">Quand la plateforme d’hébergement prend en charge une capacité de mise à l’échelle automatique, telle que la fonction Mise à l’échelle automatique d’Azure, préférez celle-ci aux mécanismes personnalisés ou tiers, à moins que le mécanisme intégré ne puisse pas satisfaire à vos exigences.</span><span class="sxs-lookup"><span data-stu-id="a25bc-132">Where the hosting platform supports an autoscaling capability, such as Azure Autoscale, prefer it to custom or third-party mechanisms unless the built-in mechanism can't fulfill your requirements.</span></span> <span data-ttu-id="a25bc-133">Utilisez si possible des règles de mise à l’échelle planifiées pour vous assurer que les ressources sont disponibles sans délai de démarrage, mais ajoutez si nécessaire une mise à l’échelle automatique réactive aux règles pour faire face aux évolutions imprévues de la demande.</span><span class="sxs-lookup"><span data-stu-id="a25bc-133">Use scheduled scaling rules where possible to ensure resources are available without a start-up delay, but add reactive autoscaling to the rules where appropriate to cope with unexpected changes in demand.</span></span> <span data-ttu-id="a25bc-134">Vous pouvez utiliser les opérations de mise à l’échelle automatique de l’API Service Management pour ajuster la mise à l’échelle automatique et pour ajouter des compteurs personnalisés aux règles.</span><span class="sxs-lookup"><span data-stu-id="a25bc-134">You can use the autoscaling operations in the Service Management API to adjust autoscaling, and to add custom counters to rules.</span></span> <span data-ttu-id="a25bc-135">Pour plus d’informations, consultez [Recommandations en matière de mise à l’échelle automatique](../best-practices/auto-scaling.md).</span><span class="sxs-lookup"><span data-stu-id="a25bc-135">For more information, see [Auto-scaling guidance](../best-practices/auto-scaling.md).</span></span>
* <span data-ttu-id="a25bc-136">**Déchargez les tâches utilisant l’UC et les E/S de manière intensive en tant que tâches en arrière-plan**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-136">**Offload intensive CPU/IO tasks as background tasks**.</span></span> <span data-ttu-id="a25bc-137">Si vous vous attendez à ce qu’une demande à un service mette beaucoup de temps à être exécutée ou absorbe des ressources considérables, déchargez le traitement de cette demande vers une tâche distincte.</span><span class="sxs-lookup"><span data-stu-id="a25bc-137">If a request to a service is expected to take a long time to run or absorb considerable resources, offload the processing for this request to a separate task.</span></span> <span data-ttu-id="a25bc-138">Utilisez des rôles de travail ou des travaux en arrière-plan (selon la plate-forme d’hébergement) pour exécuter ces tâches.</span><span class="sxs-lookup"><span data-stu-id="a25bc-138">Use worker roles or background jobs (depending on the hosting platform) to execute these tasks.</span></span> <span data-ttu-id="a25bc-139">Cette stratégie permet au service de continuer à recevoir des demandes et de rester réactif.</span><span class="sxs-lookup"><span data-stu-id="a25bc-139">This strategy enables the service to continue receiving further requests and remain responsive.</span></span>  <span data-ttu-id="a25bc-140">Pour plus d’informations, consultez le [Guide relatif aux travaux en arrière-plan](../best-practices/background-jobs.md).</span><span class="sxs-lookup"><span data-stu-id="a25bc-140">For more information, see [Background jobs guidance](../best-practices/background-jobs.md).</span></span>
* <span data-ttu-id="a25bc-141">**Distribuez la charge de travail pour les tâches en arrière-plan**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-141">**Distribute the workload for background tasks**.</span></span> <span data-ttu-id="a25bc-142">Quand les tâches en arrière-plan sont nombreuses ou nécessitent beaucoup de temps ou de ressources, répartissez la charge de travail entre plusieurs unités de calcul (par exemple, des rôles de travail ou des travaux en arrière-plan).</span><span class="sxs-lookup"><span data-stu-id="a25bc-142">Where there are many background tasks, or the tasks require considerable time or resources, spread the work across multiple compute units (such as worker roles or background jobs).</span></span> <span data-ttu-id="a25bc-143">Le [modèle des Consommateurs concurrents](https://msdn.microsoft.com/library/dn568101.aspx)offre une solution possible.</span><span class="sxs-lookup"><span data-stu-id="a25bc-143">For one possible solution, see the [Competing Consumers Pattern](https://msdn.microsoft.com/library/dn568101.aspx).</span></span>
* <span data-ttu-id="a25bc-144">**Envisagez de procéder à une migration vers une architecture *sans partage***.</span><span class="sxs-lookup"><span data-stu-id="a25bc-144">**Consider moving towards a *shared-nothing* architecture**.</span></span> <span data-ttu-id="a25bc-145">Une architecture sans partage utilise des nœuds indépendants et autonomes qui n’ont aucun point de contention (tel que des services partagés ou du stockage).</span><span class="sxs-lookup"><span data-stu-id="a25bc-145">A shared-nothing architecture uses independent, self-sufficient nodes that have no single point of contention (such as shared services or storage).</span></span> <span data-ttu-id="a25bc-146">En théorie, un tel système peut être mis à l’échelle presque indéfiniment.</span><span class="sxs-lookup"><span data-stu-id="a25bc-146">In theory, such a system can scale almost indefinitely.</span></span> <span data-ttu-id="a25bc-147">Bien qu’une approche sans le moindre partage ne soit généralement pas pratique pour la plupart des applications, elle peut offrir des opportunités de conception avec une meilleure extensibilité.</span><span class="sxs-lookup"><span data-stu-id="a25bc-147">While a fully shared-nothing approach is generally not practical for most applications, it may provide opportunities to design for better scalability.</span></span> <span data-ttu-id="a25bc-148">Par exemple, éviter l’utilisation de l’état de session, de l’affinité du client et du partitionnement des données côté serveur est un bon exemple de migration vers une architecture sans partage.</span><span class="sxs-lookup"><span data-stu-id="a25bc-148">For example, avoiding the use of server-side session state, client affinity, and data partitioning are good examples of moving towards a shared-nothing architecture.</span></span>

## <a name="data-management"></a><span data-ttu-id="a25bc-149">Gestion des données</span><span class="sxs-lookup"><span data-stu-id="a25bc-149">Data management</span></span>
* <span data-ttu-id="a25bc-150">**Utilisez le partitionnement des données**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-150">**Use data partitioning**.</span></span> <span data-ttu-id="a25bc-151">Répartissez les données entre plusieurs bases de données et serveurs de bases de données, ou concevez l’application pour qu’elle utilise des services de stockage de données à même de fournir ce partitionnement en toute transparence (par exemple, la base de données élastique Azure SQL Database ou le stockage de tables Azure).</span><span class="sxs-lookup"><span data-stu-id="a25bc-151">Divide the data across multiple databases and database servers, or design the application to use data storage services that can provide this partitioning transparently (examples include Azure SQL Database Elastic Database, and Azure Table storage).</span></span> <span data-ttu-id="a25bc-152">Cette approche peut contribuer à optimiser les performances et à faciliter la mise à l’échelle.</span><span class="sxs-lookup"><span data-stu-id="a25bc-152">This approach can help to maximize performance and allow easier scaling.</span></span> <span data-ttu-id="a25bc-153">Il existe différentes techniques de partitionnement (horizontal, vertical et fonctionnel).</span><span class="sxs-lookup"><span data-stu-id="a25bc-153">There are different partitioning techniques, such as horizontal, vertical, and functional.</span></span> <span data-ttu-id="a25bc-154">Vous pouvez associer ces techniques pour tirer le meilleur parti des performances de requête accrues, de l’extensibilité simplifiée, de la gestion plus flexible et de la disponibilité améliorée, tout en faisant correspondre le type de magasin aux données qu’il contiendra.</span><span class="sxs-lookup"><span data-stu-id="a25bc-154">You can use a combination of these to achieve maximum benefit from increased query performance, simpler scalability, more flexible management, better availability, and to match the type of store to the data it will hold.</span></span> <span data-ttu-id="a25bc-155">Envisagez également d’utiliser différents types de magasin de données pour les différents types de données, en choisissant ceux qui sont le mieux adaptés aux types de données spécifiques.</span><span class="sxs-lookup"><span data-stu-id="a25bc-155">Also, consider using different types of data store for different types of data, choosing the types based on how well they are optimized for the specific type of data.</span></span> <span data-ttu-id="a25bc-156">Cela peut impliquer l’utilisation d’une table de stockage, d’une base de données de documents ou d’un magasin de données colonne-famille au lieu ou en plus d’une base de données relationnelle.</span><span class="sxs-lookup"><span data-stu-id="a25bc-156">This may include using table storage, a document database, or a column-family data store, instead of, or as well as, a relational database.</span></span> <span data-ttu-id="a25bc-157">Pour plus d’informations, consultez la page [Recommandations en matière de partitionnement](../best-practices/data-partitioning.md).</span><span class="sxs-lookup"><span data-stu-id="a25bc-157">For more information, see [Data partitioning guidance](../best-practices/data-partitioning.md).</span></span>
* <span data-ttu-id="a25bc-158">**Pensez la conception pour la cohérence finale**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-158">**Design for eventual consistency**.</span></span> <span data-ttu-id="a25bc-159">La cohérence finale améliore l’extensibilité en réduisant ou en éliminant le temps nécessaire à la synchronisation des données associées partitionnées entre plusieurs magasins.</span><span class="sxs-lookup"><span data-stu-id="a25bc-159">Eventual consistency improves scalability by reducing or removing the time needed to synchronize related data partitioned across multiple stores.</span></span> <span data-ttu-id="a25bc-160">Le problème est que les données ne sont pas toujours cohérentes lorsqu’elles sont lues et que certaines opérations d’écriture peuvent provoquer des conflits.</span><span class="sxs-lookup"><span data-stu-id="a25bc-160">The cost is that data is not always consistent when it is read, and some write operations may cause conflicts.</span></span> <span data-ttu-id="a25bc-161">La cohérence finale est idéale pour les situations où les mêmes données sont fréquemment lues mais rarement écrites.</span><span class="sxs-lookup"><span data-stu-id="a25bc-161">Eventual consistency is ideal for situations where the same data is read frequently but written infrequently.</span></span> <span data-ttu-id="a25bc-162">Pour plus d’informations, consultez les [conseils en matière de cohérence des données](https://msdn.microsoft.com/library/dn589800.aspx).</span><span class="sxs-lookup"><span data-stu-id="a25bc-162">For more information, see the [Data Consistency Primer](https://msdn.microsoft.com/library/dn589800.aspx).</span></span>
* <span data-ttu-id="a25bc-163">**Réduisez les interactions impliquant de nombreux échanges entre les composants et les services**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-163">**Reduce chatty interactions between components and services**.</span></span> <span data-ttu-id="a25bc-164">Évitez de concevoir des interactions dans lesquelles une application doit effectuer plusieurs appels à un service (chaque appel renvoyant une petite quantité de données) plutôt qu’un appel unique pouvant renvoyer l’ensemble des données.</span><span class="sxs-lookup"><span data-stu-id="a25bc-164">Avoid designing interactions in which an application is required to make multiple calls to a service (each of which returns a small amount of data), rather than a single call that can return all of the data.</span></span> <span data-ttu-id="a25bc-165">Si possible, associez plusieurs opérations connexes dans une seule demande lorsque l’appel effectué est à destination d’un service ou d’un composant présentant une latence importante.</span><span class="sxs-lookup"><span data-stu-id="a25bc-165">Where possible, combine several related operations into a single request when the call is to a service or component that has noticeable latency.</span></span> <span data-ttu-id="a25bc-166">Cela simplifie la surveillance des performances et l’optimisation des opérations complexes.</span><span class="sxs-lookup"><span data-stu-id="a25bc-166">This makes it easier to monitor performance and optimize complex operations.</span></span> <span data-ttu-id="a25bc-167">Par exemple, utilisez des procédures stockées dans les bases de données pour encapsuler une logique complexe et réduire le nombre d’allers et retours et le verrouillage de ressources.</span><span class="sxs-lookup"><span data-stu-id="a25bc-167">For example, use stored procedures in databases to encapsulate complex logic, and reduce the number of round trips and resource locking.</span></span>
* <span data-ttu-id="a25bc-168">**Utilisez des files d’attente afin de niveler la charge pour les écritures de données à haute vitesse**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-168">**Use queues to level the load for high velocity data writes**.</span></span> <span data-ttu-id="a25bc-169">Les pics de demande pour un service peuvent surcharger ce service et provoquer des défaillances toujours plus importantes.</span><span class="sxs-lookup"><span data-stu-id="a25bc-169">Surges in demand for a service can overwhelm that service and cause escalating failures.</span></span> <span data-ttu-id="a25bc-170">Pour éviter ce problème, envisagez d’implémenter le [modèle de nivellement de charge basé sur la file d’attente](https://msdn.microsoft.com/library/dn589783.aspx).</span><span class="sxs-lookup"><span data-stu-id="a25bc-170">To prevent this, consider implementing the [Queue-Based Load Leveling Pattern](https://msdn.microsoft.com/library/dn589783.aspx).</span></span> <span data-ttu-id="a25bc-171">Utilisez une file d’attente qui agit comme mémoire tampon entre une tâche et un service qu’elle appelle.</span><span class="sxs-lookup"><span data-stu-id="a25bc-171">Use a queue that acts as a buffer between a task and a service that it invokes.</span></span> <span data-ttu-id="a25bc-172">Cela permet d’atténuer les surcharges intermittentes qui pourraient autrement entraîner la défaillance du service ou l’expiration de la tâche.</span><span class="sxs-lookup"><span data-stu-id="a25bc-172">This can smooth intermittent heavy loads that may otherwise cause the service to fail or the task to time out.</span></span>
* <span data-ttu-id="a25bc-173">**Réduisez la charge sur le magasin de données**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-173">**Minimize the load on the data store**.</span></span> <span data-ttu-id="a25bc-174">Le magasin de données constitue généralement un goulot d’étranglement, une ressource coûteuse et s’avère souvent complexe à monter en charge. Si possible, supprimez la logique (telle que le traitement des documents XML ou des objets JSON) du magasin de données et effectuez le traitement dans l’application.</span><span class="sxs-lookup"><span data-stu-id="a25bc-174">The data store is commonly a processing bottleneck, a costly resource, and often not easy to scale out. Where possible, remove logic (such as processing XML documents or JSON objects) from the data store, and perform processing within the application.</span></span> <span data-ttu-id="a25bc-175">Par exemple, au lieu de transmettre le XML à la base de données (autrement que comme une chaîne opaque pour le stockage), sérialisez ou désérialisez le XML dans la couche application et transmettez-le dans un format natif au magasin de données.</span><span class="sxs-lookup"><span data-stu-id="a25bc-175">For example, instead of passing XML to the database (other than as an opaque string for storage), serialize or deserialize the XML within the application layer and pass it in a form that is native to the data store.</span></span> <span data-ttu-id="a25bc-176">Il est généralement plus facile de monter en charge une application que le magasin de données. Ainsi, vous devez essayer d’effectuer la plus grande partie du traitement nécessitant beaucoup de ressources au sein de l’application.</span><span class="sxs-lookup"><span data-stu-id="a25bc-176">It's typically much easier to scale out the application than the data store, so you should attempt to do as much of the compute-intensive processing as possible within the application.</span></span>
* <span data-ttu-id="a25bc-177">**Réduisez le volume de données récupérées**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-177">**Minimize the volume of data retrieved**.</span></span> <span data-ttu-id="a25bc-178">Récupérez uniquement les données dont vous avez besoin en spécifiant des colonnes et en utilisant des critères pour sélectionner les lignes.</span><span class="sxs-lookup"><span data-stu-id="a25bc-178">Retrieve only the data you require by specifying columns and using criteria to select rows.</span></span> <span data-ttu-id="a25bc-179">Exploitez les paramètres de valeur de table et le niveau d’isolement approprié.</span><span class="sxs-lookup"><span data-stu-id="a25bc-179">Make use of table value parameters and the appropriate isolation level.</span></span> <span data-ttu-id="a25bc-180">Utilisez des mécanismes tels que des étiquettes d’entités pour éviter de récupérer des données inutiles.</span><span class="sxs-lookup"><span data-stu-id="a25bc-180">Use mechanisms like entity tags to avoid retrieving data unnecessarily.</span></span>
* <span data-ttu-id="a25bc-181">**Utilisez la mise en cache de manière intensive**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-181">**Aggressively use caching**.</span></span> <span data-ttu-id="a25bc-182">Utilisez la mise en cache autant que possible pour réduire la charge sur les ressources et les services qui génèrent ou fournissent des données.</span><span class="sxs-lookup"><span data-stu-id="a25bc-182">Use caching wherever possible to reduce the load on resources and services that generate or deliver data.</span></span> <span data-ttu-id="a25bc-183">La mise en cache est généralement adaptée aux données relativement statiques ou dont l’obtention nécessite un traitement considérable.</span><span class="sxs-lookup"><span data-stu-id="a25bc-183">Caching is typically suited to data that is relatively static, or that requires considerable processing to obtain.</span></span> <span data-ttu-id="a25bc-184">La mise en cache doit intervenir à tous les niveaux appropriés dans chaque couche de l’application, y compris l’accès aux données et la génération de l’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="a25bc-184">Caching should occur at all levels where appropriate in each layer of the application, including data access and user interface generation.</span></span> <span data-ttu-id="a25bc-185">Pour plus d’informations, consultez la page [Conseils de mise en cache](../best-practices/caching.md).</span><span class="sxs-lookup"><span data-stu-id="a25bc-185">For more information, see the [Caching Guidance](../best-practices/caching.md).</span></span>
* <span data-ttu-id="a25bc-186">**Gérez la croissance et la rétention des données**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-186">**Handle data growth and retention**.</span></span> <span data-ttu-id="a25bc-187">La quantité de données stockées par une application augmente au fil du temps.</span><span class="sxs-lookup"><span data-stu-id="a25bc-187">The amount of data stored by an application grows over time.</span></span> <span data-ttu-id="a25bc-188">Cette croissance entraîne l’augmentation des coûts de stockage et de la latence lors de l’accès aux données, ce qui affecte le rendement et les performances de l’application.</span><span class="sxs-lookup"><span data-stu-id="a25bc-188">This growth increases storage costs, and increases latency when accessing the data — which affects application throughput and performance.</span></span> <span data-ttu-id="a25bc-189">Il peut être possible d’archiver certaines données anciennes qui ne sont plus utilisées ou de déplacer les données rarement utilisées dans un stockage à long terme plus économique, même si la latence d’accès est supérieure.</span><span class="sxs-lookup"><span data-stu-id="a25bc-189">It may be possible to periodically archive some of the old data that is no longer accessed, or move data that is rarely accessed into long-term storage that is more cost efficient, even if the access latency is higher.</span></span>
* <span data-ttu-id="a25bc-190">**Optimisez les objets de transfert de données à l’aide d’un format binaire efficace**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-190">**Optimize Data Transfer Objects (DTOs) using an efficient binary format**.</span></span> <span data-ttu-id="a25bc-191">Les objets de transfert de données sont passés entre les couches d’une application à de nombreuses reprises.</span><span class="sxs-lookup"><span data-stu-id="a25bc-191">DTOs are passed between the layers of an application many times.</span></span> <span data-ttu-id="a25bc-192">Réduire la taille permet de réduire la charge sur les ressources et le réseau.</span><span class="sxs-lookup"><span data-stu-id="a25bc-192">Minimizing the size reduces the load on resources and the network.</span></span> <span data-ttu-id="a25bc-193">Cependant, vous devez comparer les économies réalisées à la surcharge liée à la conversion des données au format requis dans chaque emplacement où elles sont utilisées.</span><span class="sxs-lookup"><span data-stu-id="a25bc-193">However, balance the savings with the overhead of converting the data to the required format in each location where it is used.</span></span> <span data-ttu-id="a25bc-194">Adoptez un format offrant une interopérabilité maximale pour faciliter la réutilisation d’un composant.</span><span class="sxs-lookup"><span data-stu-id="a25bc-194">Adopt a format that has the maximum interoperability to enable easy reuse of a component.</span></span>
* <span data-ttu-id="a25bc-195">**Définissez le contrôle de cache**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-195">**Set cache control**.</span></span> <span data-ttu-id="a25bc-196">Concevez et configurez l’application pour qu’elle utilise si possible la mise en cache de sortie ou la mise en cache de fragments, pour réduire la charge de traitement.</span><span class="sxs-lookup"><span data-stu-id="a25bc-196">Design and configure the application to use output caching or fragment caching where possible, to minimize processing load.</span></span>
* <span data-ttu-id="a25bc-197">**Activez la mise en cache côté client**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-197">**Enable client side caching**.</span></span> <span data-ttu-id="a25bc-198">Les applications web doivent activer les paramètres de cache pour le contenu pouvant être mis en cache.</span><span class="sxs-lookup"><span data-stu-id="a25bc-198">Web applications should enable cache settings on the content that can be cached.</span></span> <span data-ttu-id="a25bc-199">Ces paramètres sont généralement désactivés par défaut.</span><span class="sxs-lookup"><span data-stu-id="a25bc-199">This is commonly disabled by default.</span></span> <span data-ttu-id="a25bc-200">Configurez le serveur de sorte qu’il fournisse les en-têtes de contrôle de cache appropriés pour activer la mise en cache du contenu sur les serveurs proxy et les clients.</span><span class="sxs-lookup"><span data-stu-id="a25bc-200">Configure the server to deliver the appropriate cache control headers to enable caching of content on proxy servers and clients.</span></span>
* <span data-ttu-id="a25bc-201">**Utilisez le stockage d’objets blob Azure et le réseau de distribution de contenu Azure pour réduire la charge sur l’application**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-201">**Use Azure blob storage and the Azure Content Delivery Network to reduce the load on the application**.</span></span> <span data-ttu-id="a25bc-202">Stockez le contenu public statique ou relativement statique tel que les images, les ressources, les scripts et les feuilles de style dans le stockage d’objets blob.</span><span class="sxs-lookup"><span data-stu-id="a25bc-202">Consider storing static or relatively static public content, such as images, resources, scripts, and style sheets, in blob storage.</span></span> <span data-ttu-id="a25bc-203">Cette approche soulage l’application de la charge causée par la génération dynamique de ce contenu pour chaque demande.</span><span class="sxs-lookup"><span data-stu-id="a25bc-203">This approach relieves the application of the load caused by dynamically generating this content for each request.</span></span> <span data-ttu-id="a25bc-204">Vous pouvez également utiliser le réseau de distribution de contenu pour mettre en cache ce contenu et le remettre aux clients.</span><span class="sxs-lookup"><span data-stu-id="a25bc-204">Additionally, consider using the Content Delivery Network to cache this content and deliver it to clients.</span></span> <span data-ttu-id="a25bc-205">L’utilisation du réseau de distribution de contenu peut améliorer les performances au niveau du client, car le contenu est distribué à partir du centre de données contenant un cache de réseau de distribution de contenu le plus proche géographiquement.</span><span class="sxs-lookup"><span data-stu-id="a25bc-205">Using the Content Delivery Network can improve performance at the client because the content is delivered from the geographically closest datacenter that contains a Content Delivery Network cache.</span></span> <span data-ttu-id="a25bc-206">Pour plus d’informations, consultez l’ [Aide relative au réseau de distribution de contenu (CDN)](../best-practices/cdn.md).</span><span class="sxs-lookup"><span data-stu-id="a25bc-206">For more information, see the [Content Delivery Network Guidance](../best-practices/cdn.md).</span></span>
* <span data-ttu-id="a25bc-207">**Optimisez et ajustez les requêtes et index SQL**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-207">**Optimize and tune SQL queries and indexes**.</span></span> <span data-ttu-id="a25bc-208">Certaines instructions ou constructions T-SQL sont susceptibles d’avoir un impact sur les performances, qui peut être réduit en optimisant le code dans une procédure stockée.</span><span class="sxs-lookup"><span data-stu-id="a25bc-208">Some T-SQL statements or constructs may have an impact on performance that can be reduced by optimizing the code in a stored procedure.</span></span> <span data-ttu-id="a25bc-209">Par exemple, évitez de convertir des types **datetime** en **varchar** avant de les comparer à une valeur littérale **datetime**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-209">For example, avoid converting **datetime** types to a **varchar** before comparing with a **datetime** literal value.</span></span> <span data-ttu-id="a25bc-210">Utilisez plutôt des fonctions de comparaison de date/heure.</span><span class="sxs-lookup"><span data-stu-id="a25bc-210">Use date/time comparison functions instead.</span></span> <span data-ttu-id="a25bc-211">L’absence d’index appropriés peut également ralentir l’exécution des requêtes.</span><span class="sxs-lookup"><span data-stu-id="a25bc-211">Lack of appropriate indexes can also slow query execution.</span></span> <span data-ttu-id="a25bc-212">Si vous utilisez une infrastructure de mappage objet/relationnel, examinez son fonctionnement et l’impact qu’elle peut avoir sur les performances de la couche d’accès aux données.</span><span class="sxs-lookup"><span data-stu-id="a25bc-212">If you use an object/relational mapping framework, understand how it works and how it may affect performance of the data access layer.</span></span> <span data-ttu-id="a25bc-213">Pour plus d’informations, consultez la page [Ajustement des requêtes](https://technet.microsoft.com/library/ms176005.aspx).</span><span class="sxs-lookup"><span data-stu-id="a25bc-213">For more information, see [Query Tuning](https://technet.microsoft.com/library/ms176005.aspx).</span></span>
* <span data-ttu-id="a25bc-214">**Envisagez de dénormaliser les données**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-214">**Consider de-normalizing data**.</span></span> <span data-ttu-id="a25bc-215">La normalisation des données permet d’éviter la duplication et les incohérences.</span><span class="sxs-lookup"><span data-stu-id="a25bc-215">Data normalization helps to avoid duplication and inconsistency.</span></span> <span data-ttu-id="a25bc-216">Cependant, la maintenance de plusieurs index, la vérification de l’intégrité référentielle, les accès multiples à de petits blocs de données et la jointure des tables pour rassembler les données imposent une surcharge qui peut affecter les performances.</span><span class="sxs-lookup"><span data-stu-id="a25bc-216">However, maintaining multiple indexes, checking for referential integrity, performing multiple accesses to small chunks of data, and joining tables to reassemble the data imposes an overhead that can affect performance.</span></span> <span data-ttu-id="a25bc-217">Demandez-vous si un volume de stockage et une duplication supplémentaires sont acceptables pour réduire la charge sur le magasin de données.</span><span class="sxs-lookup"><span data-stu-id="a25bc-217">Consider if some additional storage volume and duplication is acceptable in order to reduce the load on the data store.</span></span> <span data-ttu-id="a25bc-218">Demandez-vous également si l’application proprement dite (qui est généralement plus facile à mettre à l’échelle) offre la fiabilité nécessaire pour prendre le relais dans l’exécution de tâches telles que la gestion de l’intégrité référentielle afin de réduire la charge sur le magasin de données.</span><span class="sxs-lookup"><span data-stu-id="a25bc-218">Also, consider if the application itself (which is typically easier to scale) can be relied upon to take over tasks such as managing referential integrity in order to reduce the load on the data store.</span></span> <span data-ttu-id="a25bc-219">Pour plus d’informations, consultez la page [Recommandations en matière de partitionnement](../best-practices/data-partitioning.md).</span><span class="sxs-lookup"><span data-stu-id="a25bc-219">For more information, see [Data partitioning guidance](../best-practices/data-partitioning.md).</span></span>

## <a name="service-implementation"></a><span data-ttu-id="a25bc-220">Implémentation du service</span><span class="sxs-lookup"><span data-stu-id="a25bc-220">Service implementation</span></span>
* <span data-ttu-id="a25bc-221">**Utilisez des appels asynchrones**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-221">**Use asynchronous calls**.</span></span> <span data-ttu-id="a25bc-222">Utilisez autant que possible du code asynchrone lors de l’accès à des ressources ou des services susceptibles d’être limités par les E/S ou la bande passante réseau, ou qui présentent une latence importance, pour éviter le verrouillage du thread appelant.</span><span class="sxs-lookup"><span data-stu-id="a25bc-222">Use asynchronous code wherever possible when accessing resources or services that may be limited by I/O or network bandwidth, or that have a noticeable latency, in order to avoid locking the calling thread.</span></span> <span data-ttu-id="a25bc-223">Pour implémenter des opérations asynchrones, utilisez le [modèle asynchrone basé sur des tâches](https://msdn.microsoft.com/library/hh873175.aspx).</span><span class="sxs-lookup"><span data-stu-id="a25bc-223">To implement asynchronous operations, use the [Task-based Asynchronous Pattern (TAP)](https://msdn.microsoft.com/library/hh873175.aspx).</span></span>
* <span data-ttu-id="a25bc-224">**Évitez le verrouillage des ressources et utilisez plutôt une approche optimiste**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-224">**Avoid locking resources, and use an optimistic approach instead**.</span></span> <span data-ttu-id="a25bc-225">Ne verrouillez jamais l’accès aux ressources telles que le stockage ou d’autres services présentant une latence importante, car il s’agit d’une des principales causes de faibles performances.</span><span class="sxs-lookup"><span data-stu-id="a25bc-225">Never lock access to resources such as storage or other services that have noticeable latency, because this is a primary cause of poor performance.</span></span> <span data-ttu-id="a25bc-226">Utilisez toujours des approches optimistes pour la gestion des opérations simultanées, telles que l’écriture dans le stockage.</span><span class="sxs-lookup"><span data-stu-id="a25bc-226">Always use optimistic approaches to managing concurrent operations, such as writing to storage.</span></span> <span data-ttu-id="a25bc-227">Utilisez les fonctionnalités de la couche de stockage pour gérer les conflits.</span><span class="sxs-lookup"><span data-stu-id="a25bc-227">Use features of the storage layer to manage conflicts.</span></span> <span data-ttu-id="a25bc-228">Dans les applications distribuées, il se peut que les données ne soient cohérentes qu’à la fin.</span><span class="sxs-lookup"><span data-stu-id="a25bc-228">In distributed applications, data may be only eventually consistent.</span></span>
* <span data-ttu-id="a25bc-229">**Compressez les données hautement compressibles sur les réseaux à latence élevée et faible bande passante**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-229">**Compress highly compressible data over high latency, low bandwidth networks**.</span></span> <span data-ttu-id="a25bc-230">Dans la plupart des cas dans une application web, le volume le plus important de données générées par l’application et transmises sur le réseau correspond aux réponses HTTP aux demandes des clients.</span><span class="sxs-lookup"><span data-stu-id="a25bc-230">In the majority of cases in a web application, the largest volume of data generated by the application and passed over the network is HTTP responses to client requests.</span></span> <span data-ttu-id="a25bc-231">La compression HTTP peut réduire considérablement ce volume, notamment pour le contenu statique.</span><span class="sxs-lookup"><span data-stu-id="a25bc-231">HTTP compression can reduce this considerably, especially for static content.</span></span> <span data-ttu-id="a25bc-232">Cela peut réduire les coûts et diminuer la charge sur le réseau, même si la compression de contenu dynamique applique une charge légèrement supérieure sur le serveur.</span><span class="sxs-lookup"><span data-stu-id="a25bc-232">This can reduce cost as well as reducing the load on the network, though compressing dynamic content does apply a fractionally higher load on the server.</span></span> <span data-ttu-id="a25bc-233">Dans d’autres environnements plus généralisés, la compression de données peut réduire le volume de données transmises et minimiser le temps et les coûts de transfert, mais les processus de compression et de décompression entraînent des frais supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="a25bc-233">In other, more generalized environments, data compression can reduce the volume of data transmitted and minimize transfer time and costs, but the compression and decompression processes incur overhead.</span></span> <span data-ttu-id="a25bc-234">Ainsi, la compression ne doit être utilisée que lorsque le gain de performances est avéré.</span><span class="sxs-lookup"><span data-stu-id="a25bc-234">As such, compression should only be used when there is a demonstrable gain in performance.</span></span> <span data-ttu-id="a25bc-235">D’autres méthodes de sérialisation (encodage JSON ou binaire, par exemple) peuvent réduire la taille de charge utile tout en ayant moins d’impact sur les performances, tandis que XML est susceptible de l’augmenter.</span><span class="sxs-lookup"><span data-stu-id="a25bc-235">Other serialization methods, such as JSON or binary encodings, may reduce the payload size while having less impact on performance, whereas XML is likely to increase it.</span></span>
* <span data-ttu-id="a25bc-236">**Réduisez le temps d’utilisation des connexions et des ressources**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-236">**Minimize the time that connections and resources are in use**.</span></span> <span data-ttu-id="a25bc-237">Maintenez les connexions et les ressources uniquement le temps de les utiliser.</span><span class="sxs-lookup"><span data-stu-id="a25bc-237">Maintain connections and resources only for as long as you need to use them.</span></span> <span data-ttu-id="a25bc-238">Par exemple, ouvrez les connexions le plus tard possible et autorisez leur retour dans le pool de connexions le plus tôt possible.</span><span class="sxs-lookup"><span data-stu-id="a25bc-238">For example, open connections as late as possible, and allow them to be returned to the connection pool as soon as possible.</span></span> <span data-ttu-id="a25bc-239">Faites l’acquisition des ressources le plus tard possible et libérez-les le plus tôt possible.</span><span class="sxs-lookup"><span data-stu-id="a25bc-239">Acquire resources as late as possible, and dispose of them as soon as possible.</span></span>
* <span data-ttu-id="a25bc-240">**Réduisez le nombre de connexions requises**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-240">**Minimize the number of connections required**.</span></span> <span data-ttu-id="a25bc-241">Les connexions au service absorbent les ressources.</span><span class="sxs-lookup"><span data-stu-id="a25bc-241">Service connections absorb resources.</span></span> <span data-ttu-id="a25bc-242">Limitez le nombre de connexions nécessaires et assurez-vous que les connexions existantes sont réutilisées dans la mesure du possible.</span><span class="sxs-lookup"><span data-stu-id="a25bc-242">Limit the number that are required and ensure that existing connections are reused whenever possible.</span></span> <span data-ttu-id="a25bc-243">Par exemple, après l’exécution de l’authentification, utilisez l’emprunt d’identité là où cela est nécessaire pour exécuter du code sous une identité spécifique.</span><span class="sxs-lookup"><span data-stu-id="a25bc-243">For example, after performing authentication, use impersonation where appropriate to run code as a specific identity.</span></span> <span data-ttu-id="a25bc-244">Cela peut contribuer à optimiser l’utilisation du pool de connexions en réutilisant les connexions.</span><span class="sxs-lookup"><span data-stu-id="a25bc-244">This can help to make best use of the connection pool by reusing connections.</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="a25bc-245">: les API de certains services réutilisent automatiquement les connexions, à condition que les directives propres aux services soient suivies.</span><span class="sxs-lookup"><span data-stu-id="a25bc-245">: APIs for some services automatically reuse connections, provided service-specific guidelines are followed.</span></span> <span data-ttu-id="a25bc-246">Il est important de comprendre les conditions qui permettent la réutilisation de la connexion pour chaque service utilisé par votre application.</span><span class="sxs-lookup"><span data-stu-id="a25bc-246">It's important that you understand the conditions that enable connection reuse for each service that your application uses.</span></span>
  > 
  > 
* <span data-ttu-id="a25bc-247">**Envoyez des demandes par lots pour optimiser l’utilisation du réseau**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-247">**Send requests in batches to optimize network use**.</span></span> <span data-ttu-id="a25bc-248">Par exemple, envoyez et lisez des messages par lots lorsque vous accédez à une file d’attente et effectuez plusieurs lectures ou écritures par lot lors de l’accès au stockage ou à un cache.</span><span class="sxs-lookup"><span data-stu-id="a25bc-248">For example, send and read messages in batches when accessing a queue, and perform multiple reads or writes as a batch when accessing storage or a cache.</span></span> <span data-ttu-id="a25bc-249">Cela peut contribuer à optimiser l’efficacité des services et des magasins de données en réduisant le nombre d’appels sur le réseau.</span><span class="sxs-lookup"><span data-stu-id="a25bc-249">This can help to maximize efficiency of the services and data stores by reducing the number of calls across the network.</span></span>
* <span data-ttu-id="a25bc-250">**Éliminez si possible la nécessité de stocker l’état de session côté serveur** .</span><span class="sxs-lookup"><span data-stu-id="a25bc-250">**Avoid a requirement to store server-side session state** where possible.</span></span> <span data-ttu-id="a25bc-251">La gestion de l’état de session côté serveur nécessite généralement l’affinité du client (autrement dit, le routage de chaque demande vers la même instance de serveur), ce qui affecte la capacité de mise à l’échelle du système.</span><span class="sxs-lookup"><span data-stu-id="a25bc-251">Server-side session state management typically requires client affinity (that is, routing each request to the same server instance), which affects the ability of the system to scale.</span></span> <span data-ttu-id="a25bc-252">Dans l’idéal, vous devez concevoir les clients pour qu’ils soient sans état par rapport aux serveurs qu’ils utilisent.</span><span class="sxs-lookup"><span data-stu-id="a25bc-252">Ideally, you should design clients to be stateless with respect to the servers that they use.</span></span> <span data-ttu-id="a25bc-253">Cependant, si l’application doit tenir à jour l’état de session, stockez les données sensibles ou les volumes importants de données par client dans un cache distribué côté serveur auquel toutes les instances de l’application peuvent accéder.</span><span class="sxs-lookup"><span data-stu-id="a25bc-253">However, if the application must maintain session state, store sensitive data or large volumes of per-client data in a distributed server-side cache that all instances of the application can access.</span></span>
* <span data-ttu-id="a25bc-254">**Optimisez les schémas de stockage de tables**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-254">**Optimize table storage schemas**.</span></span> <span data-ttu-id="a25bc-255">Quand vous utilisez des magasins de tables qui nécessitent que les noms de tables et de colonnes soient transmis et traités avec chaque requête, tels que le stockage de tables Azure, utilisez des noms plus courts pour réduire cette surcharge.</span><span class="sxs-lookup"><span data-stu-id="a25bc-255">When using table stores that require the table and column names to be passed and processed with every query, such as Azure table storage, consider using shorter names to reduce this overhead.</span></span> <span data-ttu-id="a25bc-256">Toutefois, ne sacrifiez pas la lisibilité ou la facilité de gestion en utilisant des noms trop compacts.</span><span class="sxs-lookup"><span data-stu-id="a25bc-256">However, do not sacrifice readability or manageability by using overly compact names.</span></span>
* <span data-ttu-id="a25bc-257">**Utilisez la bibliothèque parallèle de tâches (TPL) pour effectuer des opérations asynchrones**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-257">**Use the Task Parallel Library (TPL) to perform asynchronous operations**.</span></span> <span data-ttu-id="a25bc-258">La bibliothèque parallèle de tâches (TPL, Task Parallel Library) facilite l’écriture de code asynchrone qui effectue des opérations liées aux E/S.</span><span class="sxs-lookup"><span data-stu-id="a25bc-258">The TPL makes it easy to write asynchronous code that performs I/O-bound operations.</span></span> <span data-ttu-id="a25bc-259">Utilisez si possible *ConfigureAwait(false)* pour éliminer la dépendance d’une liaison dans un contexte de synchronisation spécifique.</span><span class="sxs-lookup"><span data-stu-id="a25bc-259">Use *ConfigureAwait(false)* wherever possible to eliminate the dependency of a continuation on a specific synchronization context.</span></span> <span data-ttu-id="a25bc-260">Cela réduit les risques de blocage de thread.</span><span class="sxs-lookup"><span data-stu-id="a25bc-260">This reduces the chances of thread-deadlock occurring.</span></span>
* <span data-ttu-id="a25bc-261">**Créez des dépendances de ressources lors du déploiement ou au démarrage de l’application**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-261">**Create resource dependencies during deployment or at application startup**.</span></span> <span data-ttu-id="a25bc-262">Évitez les appels répétés à des méthodes qui testent l’existence d’une ressource puis créent la ressource si elle n’existe pas.</span><span class="sxs-lookup"><span data-stu-id="a25bc-262">Avoid repeated calls to methods that test the existence of a resource and then create the resource if it does not exist.</span></span> <span data-ttu-id="a25bc-263">(Des méthodes telles que *CloudTable.CreateIfNotExists* et *CloudQueue.CreateIfNotExists* dans la bibliothèque cliente de stockage Azure suivent ce modèle.)</span><span class="sxs-lookup"><span data-stu-id="a25bc-263">(Methods such as *CloudTable.CreateIfNotExists* and *CloudQueue.CreateIfNotExists* in the Azure Storage Client Library follow this pattern).</span></span> <span data-ttu-id="a25bc-264">Ces méthodes peuvent imposer une surcharge considérable si elles sont appelées avant chaque accès à une table de stockage ou à une file d’attente de stockage.</span><span class="sxs-lookup"><span data-stu-id="a25bc-264">These methods can impose considerable overhead if they are invoked before each access to a storage table or storage queue.</span></span> <span data-ttu-id="a25bc-265">Au lieu de cela :</span><span class="sxs-lookup"><span data-stu-id="a25bc-265">Instead:</span></span>
  * <span data-ttu-id="a25bc-266">Créez les ressources nécessaires quand l’application est déployée ou lors de son premier démarrage (un seul appel à *CreateIfNotExists* pour chaque ressource dans le code de démarrage pour un rôle de travail ou web est acceptable).</span><span class="sxs-lookup"><span data-stu-id="a25bc-266">Create the required resources when the application is deployed, or when it first starts (a single call to *CreateIfNotExists* for each resource in the startup code for a web or worker role is acceptable).</span></span> <span data-ttu-id="a25bc-267">Veillez toutefois à gérer les exceptions qui peuvent se présenter si votre code tente d’accéder à une ressource inexistante.</span><span class="sxs-lookup"><span data-stu-id="a25bc-267">However, be sure to handle exceptions that may arise if your code attempts to access a resource that doesn't exist.</span></span> <span data-ttu-id="a25bc-268">En pareil cas, vous devez consigner l’exception et potentiellement prévenir un opérateur qu’il manque une ressource.</span><span class="sxs-lookup"><span data-stu-id="a25bc-268">In these situations, you should log the exception, and possibly alert an operator that a resource is missing.</span></span>
  * <span data-ttu-id="a25bc-269">Dans certaines circonstances, il peut être judicieux de créer la ressource manquante dans le code de gestion des exceptions,</span><span class="sxs-lookup"><span data-stu-id="a25bc-269">Under some circumstances, it may be appropriate to create the missing resource as part of the exception handling code.</span></span> <span data-ttu-id="a25bc-270">mais vous devez adopter cette approche avec précaution, car l’inexistence de la ressource peut être symptomatique d’une erreur de programmation (un nom de ressource mal orthographié, par exemple) ou d’un autre problème au niveau de l’infrastructure.</span><span class="sxs-lookup"><span data-stu-id="a25bc-270">But you should adopt this approach with caution as the non-existence of the resource might be indicative of a programming error (a misspelled resource name for example), or some other infrastructure-level issue.</span></span>
* <span data-ttu-id="a25bc-271">**Utilisez des infrastructures légères**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-271">**Use lightweight frameworks**.</span></span> <span data-ttu-id="a25bc-272">Choisissez soigneusement les API et les infrastructures que vous utilisez afin de réduire l’utilisation des ressources, le délai d’exécution et la charge globale sur l’application.</span><span class="sxs-lookup"><span data-stu-id="a25bc-272">Carefully choose the APIs and frameworks you use to minimize resource usage, execution time, and overall load on the application.</span></span> <span data-ttu-id="a25bc-273">Par exemple, l’utilisation de l’API web pour gérer les demandes de service peut réduire l’encombrement des applications et accélérer l’exécution, mais il se peut qu’elle ne convienne pas pour des scénarios avancés où les fonctionnalités supplémentaires de Windows Communication Foundation sont nécessaires.</span><span class="sxs-lookup"><span data-stu-id="a25bc-273">For example, using Web API to handle service requests can reduce the application footprint and increase execution speed, but it may not be suitable for advanced scenarios where the additional capabilities of Windows Communication Foundation are required.</span></span>
* <span data-ttu-id="a25bc-274">**Envisagez de réduire le nombre de comptes de service**.</span><span class="sxs-lookup"><span data-stu-id="a25bc-274">**Consider minimizing the number of service accounts**.</span></span> <span data-ttu-id="a25bc-275">Par exemple, utilisez un compte spécifique pour accéder aux ressources ou services qui imposent un nombre limite de connexions ou offrent de meilleures performances avec un nombre réduit de connexions simultanées.</span><span class="sxs-lookup"><span data-stu-id="a25bc-275">For example, use a specific account to access resources or services that impose a limit on connections, or perform better where fewer connections are maintained.</span></span> <span data-ttu-id="a25bc-276">Cette approche est courante pour les services tels que les bases de données, mais elle peut affecter la capacité à vérifier avec précision les opérations en raison de l’emprunt d’identité de l’utilisateur d’origine.</span><span class="sxs-lookup"><span data-stu-id="a25bc-276">This approach is common for services such as databases, but it can affect the ability to accurately audit operations due to the impersonation of the original user.</span></span>
* <span data-ttu-id="a25bc-277">**Procédez au profilage des performances et au test de charge** pendant le développement, dans le cadre des routines de test et avant la publication de la version finale pour vous assurer que l’application fonctionne et est mise à l’échelle en fonction des besoins.</span><span class="sxs-lookup"><span data-stu-id="a25bc-277">**Carry out performance profiling and load testing** during development, as part of test routines, and before final release to ensure the application performs and scales as required.</span></span> <span data-ttu-id="a25bc-278">Ce test doit être exécuté sur le même type de matériel que la plateforme de production et avec les mêmes types et quantités de données et de charge utilisateur que l’application rencontrera en production.</span><span class="sxs-lookup"><span data-stu-id="a25bc-278">This testing should occur on the same type of hardware as the production platform, and with the same types and quantities of data and user load as it will encounter in production.</span></span> <span data-ttu-id="a25bc-279">Pour plus d’informations, consultez [Test des performances d’un service cloud](/azure/vs-azure-tools-performance-profiling-cloud-services/).</span><span class="sxs-lookup"><span data-stu-id="a25bc-279">For more information, see [Testing the performance of a cloud service](/azure/vs-azure-tools-performance-profiling-cloud-services/).</span></span>

