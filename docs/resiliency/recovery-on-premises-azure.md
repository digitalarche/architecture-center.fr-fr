---
title: 'Guide technique : récupération de l’environnement local vers Azure'
description: Cet article permet de comprendre et concevoir des systèmes de récupération de l’infrastructure locale vers Azure
author: adamglick
ms.date: 08/18/2016
ms.openlocfilehash: 6992e27d148074b3d60c282318741f45974d1afd
ms.sourcegitcommit: e67b751f230792bba917754d67789a20810dc76b
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/06/2018
ms.locfileid: "30847813"
---
[!INCLUDE [header](../_includes/header.md)]

# <a name="azure-resiliency-technical-guidance-recovery-from-on-premises-to-azure"></a><span data-ttu-id="a2b14-103">Guide technique de la résilience Azure : récupération de l’environnement local vers Azure</span><span class="sxs-lookup"><span data-stu-id="a2b14-103">Azure resiliency technical guidance: Recovery from on-premises to Azure</span></span>
<span data-ttu-id="a2b14-104">Azure offre un ensemble complet de services conçus pour étendre un centre de données local vers Azure afin de faciliter la récupération d’urgence et de garantir une haute disponibilité :</span><span class="sxs-lookup"><span data-stu-id="a2b14-104">Azure provides a comprehensive set of services for enabling the extension of an on-premises datacenter to Azure for high availability and disaster recovery purposes:</span></span>

* <span data-ttu-id="a2b14-105">**Réseau** : l’utilisation d’un réseau privé virtuel vous permet d’étendre en toute sécurité votre réseau local vers le cloud.</span><span class="sxs-lookup"><span data-stu-id="a2b14-105">**Networking**: With a virtual private network, you securely extend your on-premises network to the cloud.</span></span>
* <span data-ttu-id="a2b14-106">**Calcul**: les clients qui utilisent Hyper-V en local peuvent « élever et déplacer » des machines virtuelles existantes vers Azure.</span><span class="sxs-lookup"><span data-stu-id="a2b14-106">**Compute**: Customers using Hyper-V on-premises can “lift and shift” existing virtual machines (VMs) to Azure.</span></span>
* <span data-ttu-id="a2b14-107">**Stockage** : StorSimple étend votre système de fichiers à Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="a2b14-107">**Storage**: StorSimple extends your file system to Azure Storage.</span></span> <span data-ttu-id="a2b14-108">Le service Azure Backup assure la sauvegarde des fichiers et des bases de données SQL dans Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="a2b14-108">The Azure Backup service provides backup for files and SQL databases to Azure Storage.</span></span>
* <span data-ttu-id="a2b14-109">**Réplication de base de données** : grâce aux groupes de disponibilité SQL Server 2014 (ou version ultérieure), vous pouvez garantir la haute disponibilité et la récupération d’urgence de vos données locales.</span><span class="sxs-lookup"><span data-stu-id="a2b14-109">**Database replication**: With SQL Server 2014 (or later) Availability Groups, you can implement high availability and disaster recovery for your on-premises data.</span></span>

## <a name="networking"></a><span data-ttu-id="a2b14-110">Mise en réseau</span><span class="sxs-lookup"><span data-stu-id="a2b14-110">Networking</span></span>
<span data-ttu-id="a2b14-111">Vous pouvez utiliser le réseau virtuel Azure pour créer une section isolée logiquement dans Azure et la connecter en toute sécurité à votre centre de données local ou à un seul ordinateur client à l’aide d’une connexion IPsec.</span><span class="sxs-lookup"><span data-stu-id="a2b14-111">You can use Azure Virtual Network to create a logically isolated section in Azure and securely connect it to your on-premises datacenter or a single client machine by using an IPsec connection.</span></span> <span data-ttu-id="a2b14-112">Grâce au réseau virtuel, vous pouvez tirer parti de l’infrastructure évolutive et à la demande d’Azure tout en assurant la connectivité aux données et aux applications locales, y compris aux systèmes s’exécutant sur Windows Server, les ordinateurs centraux et les systèmes UNIX.</span><span class="sxs-lookup"><span data-stu-id="a2b14-112">With Virtual Network, you can take advantage of the scalable, on-demand infrastructure in Azure while providing connectivity to data and applications on-premises, including systems running on Windows Server, mainframes, and UNIX.</span></span> <span data-ttu-id="a2b14-113">Pour plus d’informations, consultez la [documentation réseau d’Azure](/azure/virtual-network/virtual-networks-overview/) .</span><span class="sxs-lookup"><span data-stu-id="a2b14-113">See [Azure networking documentation](/azure/virtual-network/virtual-networks-overview/) for more information.</span></span>

## <a name="compute"></a><span data-ttu-id="a2b14-114">Calcul</span><span class="sxs-lookup"><span data-stu-id="a2b14-114">Compute</span></span>
<span data-ttu-id="a2b14-115">Si vous utilisez Hyper-V en local, vous pouvez « élever et déplacer » des machines virtuelles existantes vers Azure et vers des fournisseurs de services exécutant Windows Server 2012 (ou version ultérieure), sans avoir à apporter de modifications à la machine virtuelle ni à la convertir dans un autre format.</span><span class="sxs-lookup"><span data-stu-id="a2b14-115">If you're using Hyper-V on-premises, you can “lift and shift” existing virtual machines to Azure and service providers running Windows Server 2012 (or later), without making changes to the VM or converting VM formats.</span></span> <span data-ttu-id="a2b14-116">Pour plus d’informations, consultez l’article [À propos des disques et des VHD pour les machines virtuelles Azure](/azure/virtual-machines/virtual-machines-linux-about-disks-vhds/?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="a2b14-116">For more information, see [About disks and VHDs for Azure virtual machines](/azure/virtual-machines/virtual-machines-linux-about-disks-vhds/?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

## <a name="azure-site-recovery"></a><span data-ttu-id="a2b14-117">Azure Site Recovery</span><span class="sxs-lookup"><span data-stu-id="a2b14-117">Azure Site Recovery</span></span>
<span data-ttu-id="a2b14-118">Si vous souhaitez bénéficier d’une récupération d’urgence en tant que service (DRaaS), vous pouvez utiliser [Azure Site Recovery](https://azure.microsoft.com/services/site-recovery/).</span><span class="sxs-lookup"><span data-stu-id="a2b14-118">If you want disaster recovery as a service (DRaaS), Azure provides [Azure Site Recovery](https://azure.microsoft.com/services/site-recovery/).</span></span> <span data-ttu-id="a2b14-119">Azure Site Recovery offre une protection complète pour les serveurs VMware, Hyper-V et physiques.</span><span class="sxs-lookup"><span data-stu-id="a2b14-119">Azure Site Recovery offers comprehensive protection for VMware, Hyper-V, and physical servers.</span></span> <span data-ttu-id="a2b14-120">Avec Azure Site Recovery, vous pouvez utiliser un autre serveur local ou Azure comme site de récupération.</span><span class="sxs-lookup"><span data-stu-id="a2b14-120">With Azure Site Recovery, you can use another on-premises server or Azure as your recovery site.</span></span> <span data-ttu-id="a2b14-121">Pour plus d’informations sur Azure Site Recovery, consultez la [Documentation d’Azure Site Recovery](https://azure.microsoft.com/documentation/services/site-recovery/).</span><span class="sxs-lookup"><span data-stu-id="a2b14-121">For more information on Azure Site Recovery, see the [Azure Site Recovery documentation](https://azure.microsoft.com/documentation/services/site-recovery/).</span></span>

## <a name="storage"></a><span data-ttu-id="a2b14-122">Stockage</span><span class="sxs-lookup"><span data-stu-id="a2b14-122">Storage</span></span>
<span data-ttu-id="a2b14-123">Pour utiliser Azure comme site de sauvegarde pour les données locales, vous disposez de plusieurs options.</span><span class="sxs-lookup"><span data-stu-id="a2b14-123">There are several options for using Azure as a backup site for on-premises data.</span></span>

### <a name="storsimple"></a><span data-ttu-id="a2b14-124">StorSimple</span><span class="sxs-lookup"><span data-stu-id="a2b14-124">StorSimple</span></span>
<span data-ttu-id="a2b14-125">StorSimple intègre le stockage cloud en toute sécurité et en toute transparence pour les applications locales.</span><span class="sxs-lookup"><span data-stu-id="a2b14-125">StorSimple securely and transparently integrates cloud storage for on-premises applications.</span></span> <span data-ttu-id="a2b14-126">Il propose également une appliance unique conçue pour garantir un stockage en local et dans le cloud hiérarchisé et performant, tout en offrant des fonctions d’archivage dynamique, de protection des données dans le cloud et de récupération d’urgence.</span><span class="sxs-lookup"><span data-stu-id="a2b14-126">It also offers a single appliance that delivers high-performance tiered local and cloud storage, live archiving, cloud-based data protection, and disaster recovery.</span></span> <span data-ttu-id="a2b14-127">Pour plus d’informations, consultez la [page produit StorSimple](https://azure.microsoft.com/services/storsimple/).</span><span class="sxs-lookup"><span data-stu-id="a2b14-127">For more information, see the [StorSimple product page](https://azure.microsoft.com/services/storsimple/).</span></span>

### <a name="azure-backup"></a><span data-ttu-id="a2b14-128">Sauvegarde Azure</span><span class="sxs-lookup"><span data-stu-id="a2b14-128">Azure Backup</span></span>
<span data-ttu-id="a2b14-129">Azure Backup exécute des sauvegardes dans le cloud à l’aide des outils de sauvegarde classiques de Windows Server 2012 (ou version ultérieure), de Windows Server 2012 Essentials (ou version ultérieure) et de System Center 2012 Data Protection Manager (ou version ultérieure).</span><span class="sxs-lookup"><span data-stu-id="a2b14-129">Azure Backup enables cloud backups by using the familiar backup tools in Windows Server 2012 (or later), Windows Server 2012 Essentials (or later), and System Center 2012 Data Protection Manager (or later).</span></span> <span data-ttu-id="a2b14-130">Ces outils établissent pour la gestion des sauvegarde un workflow totalement indépendant de l’emplacement de stockage des sauvegardes, qu’il s’agisse d’un disque local ou d’Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="a2b14-130">These tools provide a workflow for backup management that is independent of the storage location of the backups, whether a local disk or Azure Storage.</span></span> <span data-ttu-id="a2b14-131">Une fois les données sauvegardées dans le cloud, les utilisateurs autorisés peuvent facilement restaurer les sauvegardes sur un serveur.</span><span class="sxs-lookup"><span data-stu-id="a2b14-131">After data is backed up to the cloud, authorized users can easily recover backups to any server.</span></span>

<span data-ttu-id="a2b14-132">Avec les sauvegardes incrémentielles, seules les modifications des fichiers sont transférées dans le cloud.</span><span class="sxs-lookup"><span data-stu-id="a2b14-132">With incremental backups, only changes to files are transferred to the cloud.</span></span> <span data-ttu-id="a2b14-133">Cela permet d’utiliser efficacement le stockage, de réduire la consommation de bande passante et d’assurer une récupération à tout moment des différentes versions des données.</span><span class="sxs-lookup"><span data-stu-id="a2b14-133">This helps to efficiently use storage space, reduce bandwidth consumption, and support point-in-time recovery of multiple versions of the data.</span></span> <span data-ttu-id="a2b14-134">Vous pouvez également choisir d’utiliser des fonctionnalités supplémentaires, telles que les stratégies de rétention des données, la compression des données et la limitation du transfert de données.</span><span class="sxs-lookup"><span data-stu-id="a2b14-134">You can also choose to use additional features, such as data retention policies, data compression, and data transfer throttling.</span></span> <span data-ttu-id="a2b14-135">L’utilisation d’Azure comme emplacement de sauvegarde a l’avantage d’offrir des sauvegardes qui sont automatiquement exécutées « hors site ».</span><span class="sxs-lookup"><span data-stu-id="a2b14-135">Using Azure as the backup location has the obvious advantage that the backups are automatically “offsite”.</span></span> <span data-ttu-id="a2b14-136">Cette approche vous évite d’avoir à sécuriser et protéger vos supports de sauvegarde sur site.</span><span class="sxs-lookup"><span data-stu-id="a2b14-136">This eliminates the extra requirements to secure and protect on-site backup media.</span></span>

<span data-ttu-id="a2b14-137">Pour plus d’informations, consultez [Qu’est-ce qu’Azure Backup ?](/azure/backup/backup-introduction-to-azure-backup/) et [Configuration d’une sauvegarde Azure pour des données DPM](https://technet.microsoft.com/library/jj728752.aspx).</span><span class="sxs-lookup"><span data-stu-id="a2b14-137">For more information, see [What is Azure Backup?](/azure/backup/backup-introduction-to-azure-backup/) and [Configure Azure Backup for DPM data](https://technet.microsoft.com/library/jj728752.aspx).</span></span>

## <a name="database"></a><span data-ttu-id="a2b14-138">Base de données</span><span class="sxs-lookup"><span data-stu-id="a2b14-138">Database</span></span>
<span data-ttu-id="a2b14-139">Vous pouvez disposer d’une solution de récupération d’urgence pour vos bases de données SQL Server dans un environnement informatique hybride utilisant des groupes de disponibilité AlwaysOn, la mise en miroir de bases de données, la copie des journaux de transaction et la sauvegarde et la restauration avec le stockage d’objets blob Azure.</span><span class="sxs-lookup"><span data-stu-id="a2b14-139">You can have a disaster recovery solution for your SQL Server databases in a hybrid-IT environment by using AlwaysOn Availability Groups, database mirroring, log shipping, and backup and restore with Azure Blob storage.</span></span> <span data-ttu-id="a2b14-140">Toutes ces solutions utilisent une implémentation SQL Server exécutée sur Azure Virtual Machines.</span><span class="sxs-lookup"><span data-stu-id="a2b14-140">All of these solutions use SQL Server running on Azure Virtual Machines.</span></span>

<span data-ttu-id="a2b14-141">Les groupes de disponibilité AlwaysOn peuvent être utilisés dans un environnement informatique hybride comportant des réplicas de base de données à la fois en local et dans le cloud.</span><span class="sxs-lookup"><span data-stu-id="a2b14-141">AlwaysOn Availability Groups can be used in a hybrid-IT environment where database replicas exist both on-premises and in the cloud.</span></span> <span data-ttu-id="a2b14-142">Cette situation est présentée dans le diagramme suivant.</span><span class="sxs-lookup"><span data-stu-id="a2b14-142">This is shown in the following diagram.</span></span>

![Groupes de disponibilité SQL Server AlwaysOn dans une architecture de cloud hybride](./images/technical-guidance-recovery-on-premises-azure/SQL_Server_Disaster_Recovery-3.png)

<span data-ttu-id="a2b14-144">La mise en miroir de base de données peut également s’étendre à la fois à des serveurs locaux et au cloud dans une installation basée sur un certificat.</span><span class="sxs-lookup"><span data-stu-id="a2b14-144">Database mirroring can also span on-premises servers and the cloud in a certificate-based setup.</span></span> <span data-ttu-id="a2b14-145">Le schéma suivant illustre ce concept.</span><span class="sxs-lookup"><span data-stu-id="a2b14-145">The following diagram illustrates this concept.</span></span>

![Mise en miroir de la base de données SQL Server dans une architecture de cloud hybride](./images/technical-guidance-recovery-on-premises-azure/SQL_Server_Disaster_Recovery-4.png)

<span data-ttu-id="a2b14-147">L’envoi de journaux peut être utilisé pour synchroniser une base de données locale avec une base de données SQL Server dans une machine virtuelle Azure.</span><span class="sxs-lookup"><span data-stu-id="a2b14-147">Log shipping can be used to synchronize an on-premises database with a SQL Server database in an Azure virtual machine.</span></span>

![Envoi de journaux SQL Server dans une architecture de cloud hybride](./images/technical-guidance-recovery-on-premises-azure/SQL_Server_Disaster_Recovery-5.png)

<span data-ttu-id="a2b14-149">Vous pouvez enfin sauvegarder une base de données locale directement dans Azure Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="a2b14-149">Finally, you can back up an on-premises database directly to Azure Blob storage.</span></span>

![Sauvegarde de SQL Server sur Azure Blob Storage dans une architecture de cloud hybride](./images/technical-guidance-recovery-on-premises-azure/SQL_Server_Disaster_Recovery-6.png)

<span data-ttu-id="a2b14-151">Pour plus d’informations, consultez [Haute disponibilité et récupération d’urgence pour SQL Server sur des machines virtuelles Azure](/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-high-availability-dr/) et [Sauvegarde et restauration de SQL Server dans les machines virtuelles Azure](/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-backup-recovery/).</span><span class="sxs-lookup"><span data-stu-id="a2b14-151">For more information, see [High availability and disaster recovery for SQL Server in Azure virtual machines](/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-high-availability-dr/) and [Backup and restore for SQL Server in Azure virtual machines](/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-backup-recovery/).</span></span>

## <a name="checklists-for-on-premises-recovery-in-microsoft-azure"></a><span data-ttu-id="a2b14-152">Listes de vérification pour la récupération des données locales dans Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="a2b14-152">Checklists for on-premises recovery in Microsoft Azure</span></span>
### <a name="networking"></a><span data-ttu-id="a2b14-153">Mise en réseau</span><span class="sxs-lookup"><span data-stu-id="a2b14-153">Networking</span></span>
1. <span data-ttu-id="a2b14-154">Consultez la section Mise en réseau de ce document.</span><span class="sxs-lookup"><span data-stu-id="a2b14-154">Review the Networking section of this document.</span></span>
2. <span data-ttu-id="a2b14-155">Utilisez un réseau virtuel pour connecter en toute sécurité votre environnement local au cloud.</span><span class="sxs-lookup"><span data-stu-id="a2b14-155">Use Virtual Network to securely connect on-premises to the cloud.</span></span>

### <a name="compute"></a><span data-ttu-id="a2b14-156">Calcul</span><span class="sxs-lookup"><span data-stu-id="a2b14-156">Compute</span></span>
1. <span data-ttu-id="a2b14-157">Consultez la section Calcul de ce document.</span><span class="sxs-lookup"><span data-stu-id="a2b14-157">Review the Compute section of this document.</span></span>
2. <span data-ttu-id="a2b14-158">Déplacez des machines virtuelles entre Hyper-V et Azure.</span><span class="sxs-lookup"><span data-stu-id="a2b14-158">Relocate VMs between Hyper-V and Azure.</span></span>

### <a name="storage"></a><span data-ttu-id="a2b14-159">Stockage</span><span class="sxs-lookup"><span data-stu-id="a2b14-159">Storage</span></span>
1. <span data-ttu-id="a2b14-160">Consultez la section Stockage de ce document.</span><span class="sxs-lookup"><span data-stu-id="a2b14-160">Review the Storage section of this document.</span></span>
2. <span data-ttu-id="a2b14-161">Utilisez les services StorSimple pour tirer parti du stockage cloud.</span><span class="sxs-lookup"><span data-stu-id="a2b14-161">Take advantage of StorSimple services for using cloud storage.</span></span>
3. <span data-ttu-id="a2b14-162">Utilisez le service Azure Backup.</span><span class="sxs-lookup"><span data-stu-id="a2b14-162">Use the Azure Backup service.</span></span>

### <a name="database"></a><span data-ttu-id="a2b14-163">Base de données</span><span class="sxs-lookup"><span data-stu-id="a2b14-163">Database</span></span>
1. <span data-ttu-id="a2b14-164">Consultez la section Base de données de ce document.</span><span class="sxs-lookup"><span data-stu-id="a2b14-164">Review the Database section of this document.</span></span>
2. <span data-ttu-id="a2b14-165">Envisagez d’utiliser comme sauvegarde une instance SQL Server exécutée sur des machines virtuelles Azure.</span><span class="sxs-lookup"><span data-stu-id="a2b14-165">Consider using SQL Server on Azure VMs as the backup.</span></span>
3. <span data-ttu-id="a2b14-166">Configurez les groupes de disponibilité AlwaysOn.</span><span class="sxs-lookup"><span data-stu-id="a2b14-166">Set up AlwaysOn Availability Groups.</span></span>
4. <span data-ttu-id="a2b14-167">Configurez la mise en miroir de base de données basée sur un certificat.</span><span class="sxs-lookup"><span data-stu-id="a2b14-167">Configure certificate-based database mirroring.</span></span>
5. <span data-ttu-id="a2b14-168">Utilisez l’envoi de journaux.</span><span class="sxs-lookup"><span data-stu-id="a2b14-168">Use log shipping.</span></span>
6. <span data-ttu-id="a2b14-169">Sauvegardez les bases de données locales dans Azure Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="a2b14-169">Back up on-premises databases to Azure Blob storage.</span></span>


