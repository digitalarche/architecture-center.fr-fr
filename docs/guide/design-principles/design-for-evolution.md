---
title: Penser la conception des applications en vue de leur évolution
titleSuffix: Azure Application Architecture Guide
description: Une conception évolutive est essentielle pour une innovation continue.
author: MikeWasson
ms.date: 08/30/2018
ms.topic: guide
ms.service: architecture-center
ms.subservice: reference-architecture
ms.custom: seojan19
ms.openlocfilehash: 4a1ed92f70660f16c07b4b472c3ef358af4319c9
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/20/2019
ms.locfileid: "58245700"
---
# <a name="design-for-evolution"></a><span data-ttu-id="24959-103">Penser la conception des applications en vue de leur évolution</span><span class="sxs-lookup"><span data-stu-id="24959-103">Design for evolution</span></span>

## <a name="an-evolutionary-design-is-key-for-continuous-innovation"></a><span data-ttu-id="24959-104">Une conception évolutive est essentielle pour une innovation continue</span><span class="sxs-lookup"><span data-stu-id="24959-104">An evolutionary design is key for continuous innovation</span></span>

<span data-ttu-id="24959-105">Toutes les applications réussies évoluent avec le temps, que ce soit pour résoudre les bogues, ajouter de nouvelles fonctionnalités, introduire de nouvelles technologies ou améliorer l’évolutivité et la résilience des systèmes existants.</span><span class="sxs-lookup"><span data-stu-id="24959-105">All successful applications change over time, whether to fix bugs, add new features, bring in new technologies, or make existing systems more scalable and resilient.</span></span> <span data-ttu-id="24959-106">Toutefois, si toutes les parties d’une application sont étroitement liées, l’introduction de modifications dans le système se révèle particulièrement ardue.</span><span class="sxs-lookup"><span data-stu-id="24959-106">If all the parts of an application are tightly coupled, it becomes very hard to introduce changes into the system.</span></span> <span data-ttu-id="24959-107">Un changement dans une partie de l’application risque d’entraîner l’interruption d’une autre portion du système ou de se répercuter sur la totalité de la base de code.</span><span class="sxs-lookup"><span data-stu-id="24959-107">A change in one part of the application may break another part, or cause changes to ripple through the entire codebase.</span></span>

<span data-ttu-id="24959-108">Ce problème ne concerne pas uniquement les applications monolithiques.</span><span class="sxs-lookup"><span data-stu-id="24959-108">This problem is not limited to monolithic applications.</span></span> <span data-ttu-id="24959-109">Une application peut être décomposée en services et présenter encore ce type de couplage étroit qui rigidifie et fragilise le système.</span><span class="sxs-lookup"><span data-stu-id="24959-109">An application can be decomposed into services, but still exhibit the sort of tight coupling that leaves the system rigid and brittle.</span></span> <span data-ttu-id="24959-110">Toutefois, lorsque les services ont été conçus pour évoluer, les équipes peuvent innover et offrir en permanence de nouvelles fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="24959-110">But when services are designed to evolve, teams can innovate and continuously deliver new features.</span></span>

<span data-ttu-id="24959-111">Les microservices sont de plus en plus utilisés pour garantir une conception évolutive, car ils tiennent compte de la plupart des considérations répertoriées dans cet article.</span><span class="sxs-lookup"><span data-stu-id="24959-111">Microservices are becoming a popular way to achieve an evolutionary design, because they address many of the considerations listed here.</span></span>

## <a name="recommendations"></a><span data-ttu-id="24959-112">Recommandations</span><span class="sxs-lookup"><span data-stu-id="24959-112">Recommendations</span></span>

<span data-ttu-id="24959-113">**Appliquez une forte cohésion et un couplage faible**.</span><span class="sxs-lookup"><span data-stu-id="24959-113">**Enforce high cohesion and loose coupling**.</span></span> <span data-ttu-id="24959-114">Un service est *cohésif* s’il fournit des fonctionnalités qui sont rattachées logiquement.</span><span class="sxs-lookup"><span data-stu-id="24959-114">A service is *cohesive* if it provides functionality that logically belongs together.</span></span> <span data-ttu-id="24959-115">Les services sont *faiblement couplés* si vous pouvez changer un service sans modifier les autres.</span><span class="sxs-lookup"><span data-stu-id="24959-115">Services are *loosely coupled* if you can change one service without changing the other.</span></span> <span data-ttu-id="24959-116">En règle générale, une forte cohésion signifie que les modifications d’une fonction nécessiteront des changements dans les autres fonctions associées.</span><span class="sxs-lookup"><span data-stu-id="24959-116">High cohesion generally means that changes in one function will require changes in other related functions.</span></span> <span data-ttu-id="24959-117">Si vous constatez que la mise à jour d’un service requiert des mises à jour coordonnées d’autres services, ceci peut indiquer que vos services ne sont pas cohésifs.</span><span class="sxs-lookup"><span data-stu-id="24959-117">If you find that updating a service requires coordinated updates to other services, it may be a sign that your services are not cohesive.</span></span> <span data-ttu-id="24959-118">L’un des objectifs de la conception pilotée par domaine consiste à identifier ces limites.</span><span class="sxs-lookup"><span data-stu-id="24959-118">One of the goals of domain-driven design (DDD) is to identify those boundaries.</span></span>

<span data-ttu-id="24959-119">**Encapsulez les connaissances du domaine**.</span><span class="sxs-lookup"><span data-stu-id="24959-119">**Encapsulate domain knowledge**.</span></span> <span data-ttu-id="24959-120">Lorsqu’un client consomme un service, la responsabilité de l’application des règles d’entreprise du domaine ne doit pas lui incomber.</span><span class="sxs-lookup"><span data-stu-id="24959-120">When a client consumes a service, the responsibility for enforcing the business rules of the domain should not fall on the client.</span></span> <span data-ttu-id="24959-121">À la place, le service doit encapsuler toutes les connaissances du domaine qui relèvent de sa responsabilité.</span><span class="sxs-lookup"><span data-stu-id="24959-121">Instead, the service should encapsulate all of the domain knowledge that falls under its responsibility.</span></span> <span data-ttu-id="24959-122">Dans le cas contraire, chaque client devra appliquer les règles d’entreprise, et les connaissances du domaine seront alors éparpillées entre les différentes parties de l’application.</span><span class="sxs-lookup"><span data-stu-id="24959-122">Otherwise, every client has to enforce the business rules, and you end up with domain knowledge spread across different parts of the application.</span></span>

<span data-ttu-id="24959-123">**Utilisez une messagerie asynchrone**.</span><span class="sxs-lookup"><span data-stu-id="24959-123">**Use asynchronous messaging**.</span></span> <span data-ttu-id="24959-124">Une messagerie asynchrone est un moyen de découpler le producteur de messages du consommateur de messages.</span><span class="sxs-lookup"><span data-stu-id="24959-124">Asynchronous messaging is a way to decouple the message producer from the consumer.</span></span> <span data-ttu-id="24959-125">Le producteur ne dépend pas de la réponse au message par le consommateur ni de l’exécution d’une action spécifique de la part de ce dernier.</span><span class="sxs-lookup"><span data-stu-id="24959-125">The producer does not depend on the consumer responding to the message or taking any particular action.</span></span> <span data-ttu-id="24959-126">Avec une architecture de type publication/abonnement, le producteur peut même ignorer qui consomme le message.</span><span class="sxs-lookup"><span data-stu-id="24959-126">With a pub/sub architecture, the producer may not even know who is consuming the message.</span></span> <span data-ttu-id="24959-127">Les nouveaux services peuvent facilement consommer les messages sans impliquer aucune modification pour le producteur.</span><span class="sxs-lookup"><span data-stu-id="24959-127">New services can easily consume the messages without any modifications to the producer.</span></span>

<span data-ttu-id="24959-128">**N’intégrez pas de connaissances du domaine dans une passerelle**.</span><span class="sxs-lookup"><span data-stu-id="24959-128">**Don't build domain knowledge into a gateway**.</span></span> <span data-ttu-id="24959-129">Les passerelles peuvent se révéler utiles dans une architecture de microservices pour des aspects tels que le routage des requêtes, la traduction de protocole, l’équilibrage de charge ou l’authentification.</span><span class="sxs-lookup"><span data-stu-id="24959-129">Gateways can be useful in a microservices architecture, for things like request routing, protocol translation, load balancing, or authentication.</span></span> <span data-ttu-id="24959-130">Toutefois, la passerelle doit être restreinte à ce type de fonctionnalités d’infrastructure.</span><span class="sxs-lookup"><span data-stu-id="24959-130">However, the gateway should be restricted to this sort of infrastructure functionality.</span></span> <span data-ttu-id="24959-131">Elle ne doit pas implémenter de connaissances du domaine afin d’éviter de devenir lourdement tributaire.</span><span class="sxs-lookup"><span data-stu-id="24959-131">It should not implement any domain knowledge, to avoid becoming a heavy dependency.</span></span>

<span data-ttu-id="24959-132">**Exposez des interfaces ouvertes**.</span><span class="sxs-lookup"><span data-stu-id="24959-132">**Expose open interfaces**.</span></span> <span data-ttu-id="24959-133">Évitez de créer des couches de traduction personnalisées situées entre les services.</span><span class="sxs-lookup"><span data-stu-id="24959-133">Avoid creating custom translation layers that sit between services.</span></span> <span data-ttu-id="24959-134">À la place, un service doit exposer une API avec un contrat d’API bien défini.</span><span class="sxs-lookup"><span data-stu-id="24959-134">Instead, a service should expose an API with a well-defined API contract.</span></span> <span data-ttu-id="24959-135">L’API doit faire l’objet d’un contrôle de version pour que vous puissiez la faire évoluer tout en préservant la compatibilité descendante.</span><span class="sxs-lookup"><span data-stu-id="24959-135">The API should be versioned, so that you can evolve the API while maintaining backward compatibility.</span></span> <span data-ttu-id="24959-136">De cette façon, vous pouvez mettre à jour un service sans coordonner les mises à jour de tous les services en amont qui dépendent de ce service.</span><span class="sxs-lookup"><span data-stu-id="24959-136">That way, you can update a service without coordinating updates to all of the upstream services that depend on it.</span></span> <span data-ttu-id="24959-137">Les services destinés au public doivent exposer une API RESTful sur HTTP.</span><span class="sxs-lookup"><span data-stu-id="24959-137">Public facing services should expose a RESTful API over HTTP.</span></span> <span data-ttu-id="24959-138">Les services principaux peuvent utiliser un protocole de messagerie de type RPC pour des raisons de performances.</span><span class="sxs-lookup"><span data-stu-id="24959-138">Backend services might use an RPC-style messaging protocol for performance reasons.</span></span>

<span data-ttu-id="24959-139">**Concevez et testez vos applications par rapport aux contrats de service**.</span><span class="sxs-lookup"><span data-stu-id="24959-139">**Design and test against service contracts**.</span></span> <span data-ttu-id="24959-140">Lorsque les services exposent des API bien définies, vous pouvez procéder aux phases de développement et de test par rapport à ces API.</span><span class="sxs-lookup"><span data-stu-id="24959-140">When services expose well-defined APIs, you can develop and test against those APIs.</span></span> <span data-ttu-id="24959-141">De cette façon, vous pouvez développer et tester un service spécifique sans passer en revue tous les services qui en dépendent.</span><span class="sxs-lookup"><span data-stu-id="24959-141">That way, you can develop and test an individual service without spinning up all of its dependent services.</span></span> <span data-ttu-id="24959-142">(Bien entendu, vous êtes toujours tenu d’effectuer des tests d’intégration et de charge par rapport aux services proprement dits.)</span><span class="sxs-lookup"><span data-stu-id="24959-142">(Of course, you would still perform integration and load testing against the real services.)</span></span>

<span data-ttu-id="24959-143">**Extrayez l’infrastructure de la logique du domaine**.</span><span class="sxs-lookup"><span data-stu-id="24959-143">**Abstract infrastructure away from domain logic**.</span></span> <span data-ttu-id="24959-144">Dissociez la logique du domaine des fonctionnalités associées à l’infrastructure, telles que la messagerie ou la persistance.</span><span class="sxs-lookup"><span data-stu-id="24959-144">Don't let domain logic get mixed up with infrastructure-related functionality, such as messaging or persistence.</span></span> <span data-ttu-id="24959-145">Dans le cas contraire, l’apport de modifications à la logique du domaine nécessitera une mise à jour des couches d’infrastructure, et vice versa.</span><span class="sxs-lookup"><span data-stu-id="24959-145">Otherwise, changes in the domain logic will require updates to the infrastructure layers and vice versa.</span></span>

<span data-ttu-id="24959-146">**Déchargez les préoccupations transversales vers un service distinct**.</span><span class="sxs-lookup"><span data-stu-id="24959-146">**Offload cross-cutting concerns to a separate service**.</span></span> <span data-ttu-id="24959-147">Par exemple, si plusieurs services doivent authentifier des requêtes, vous pouvez déplacer cette fonctionnalité vers un service dédié.</span><span class="sxs-lookup"><span data-stu-id="24959-147">For example, if several services need to authenticate requests, you could move this functionality into its own service.</span></span> <span data-ttu-id="24959-148">Vous serez ensuite en mesure de faire évoluer le service d’authentification &mdash; par exemple, en ajoutant un nouveau flux d’authentification &mdash; sans modifier aucun des services qui l’utilisent.</span><span class="sxs-lookup"><span data-stu-id="24959-148">Then you could evolve the authentication service &mdash; for example, by adding a new authentication flow &mdash; without touching any of the services that use it.</span></span>

<span data-ttu-id="24959-149">**Déployez les services de manière indépendante**.</span><span class="sxs-lookup"><span data-stu-id="24959-149">**Deploy services independently**.</span></span> <span data-ttu-id="24959-150">Lorsque l’équipe DevOps a la possibilité de déployer un service spécifique indépendamment des autres services de l’application, les mises à jour peuvent s’effectuer rapidement et en toute sécurité.</span><span class="sxs-lookup"><span data-stu-id="24959-150">When the DevOps team can deploy a single service independently of other services in the application, updates can happen more quickly and safely.</span></span> <span data-ttu-id="24959-151">Les résolutions de bogues et les nouvelles fonctionnalités sont ainsi déployables à un rythme plus régulier.</span><span class="sxs-lookup"><span data-stu-id="24959-151">Bug fixes and new features can be rolled out at a more regular cadence.</span></span> <span data-ttu-id="24959-152">Concevez l’application et son processus de mise en production en faisant en sorte qu’ils prennent en charge des mises à jour indépendantes.</span><span class="sxs-lookup"><span data-stu-id="24959-152">Design both the application and the release process to support independent updates.</span></span>
