---
title: Modèle de limitation
titleSuffix: Cloud Design Patterns
description: Contrôlez la consommation des ressources utilisées par une instance d’une application, un locataire ou un service entier.
keywords: modèle de conception
author: dragon119
ms.date: 06/23/2017
ms.topic: design-pattern
ms.service: architecture-center
ms.subservice: cloud-fundamentals
ms.custom: seodec18
ms.openlocfilehash: 0bbe8177abe708cf41c1b5a8d117c05fd280c948
ms.sourcegitcommit: 3b15d65e7c35a19506e562c444343f8467b6a073
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/25/2019
ms.locfileid: "54908594"
---
# <a name="throttling-pattern"></a><span data-ttu-id="33885-104">Modèle de limitation</span><span class="sxs-lookup"><span data-stu-id="33885-104">Throttling pattern</span></span>

[!INCLUDE [header](../_includes/header.md)]

<span data-ttu-id="33885-105">Contrôlez la consommation des ressources utilisées par une instance d’une application, un locataire ou un service entier.</span><span class="sxs-lookup"><span data-stu-id="33885-105">Control the consumption of resources used by an instance of an application, an individual tenant, or an entire service.</span></span> <span data-ttu-id="33885-106">Cela peut permettre au système de continuer à fonctionner et de répondre aux contrats de niveau de service, même lorsqu’une augmentation de la demande implique une charge extrême sur les ressources.</span><span class="sxs-lookup"><span data-stu-id="33885-106">This can allow the system to continue to function and meet service level agreements, even when an increase in demand places an extreme load on resources.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="33885-107">Contexte et problème</span><span class="sxs-lookup"><span data-stu-id="33885-107">Context and problem</span></span>

<span data-ttu-id="33885-108">Généralement, la charge sur une application cloud varie au fil du temps, selon le nombre d’utilisateurs actifs ou les types d’activités qu’ils effectuent.</span><span class="sxs-lookup"><span data-stu-id="33885-108">The load on a cloud application typically varies over time based on the number of active users or the types of activities they are performing.</span></span> <span data-ttu-id="33885-109">Par exemple, plus d’utilisateurs sont susceptibles d’être actifs pendant les heures de bureau, ou le système doit effectuer des analyses requérant davantage de ressources de calcul à la fin de chaque mois.</span><span class="sxs-lookup"><span data-stu-id="33885-109">For example, more users are likely to be active during business hours, or the system might be required to perform computationally expensive analytics at the end of each month.</span></span> <span data-ttu-id="33885-110">Il peut également y avoir des pics soudains et imprévus dans l’activité.</span><span class="sxs-lookup"><span data-stu-id="33885-110">There might also be sudden and unanticipated bursts in activity.</span></span> <span data-ttu-id="33885-111">Si les besoins de traitement du système dépassent la capacité des ressources qui sont disponibles, ses performances seront médiocres et des défaillances peuvent même se produire.</span><span class="sxs-lookup"><span data-stu-id="33885-111">If the processing requirements of the system exceed the capacity of the resources that are available, it'll suffer from poor performance and can even fail.</span></span> <span data-ttu-id="33885-112">Si le système doit répondre à un niveau de service défini, de telles défaillances peuvent être inacceptables.</span><span class="sxs-lookup"><span data-stu-id="33885-112">If the system has to meet an agreed level of service, such failure could be unacceptable.</span></span>

<span data-ttu-id="33885-113">Plusieurs stratégies sont disponibles pour gérer les variations de charge dans le cloud, selon les objectifs métier de l’application.</span><span class="sxs-lookup"><span data-stu-id="33885-113">There're many strategies available for handling varying load in the cloud, depending on the business goals for the application.</span></span> <span data-ttu-id="33885-114">Une stratégie consiste à utiliser la mise à l’échelle automatique pour faire correspondre les ressources configurées aux besoins de l’utilisateur à un moment donné.</span><span class="sxs-lookup"><span data-stu-id="33885-114">One strategy is to use autoscaling to match the provisioned resources to the user needs at any given time.</span></span> <span data-ttu-id="33885-115">Cela permet de répondre en permanence à la demande de l’utilisateur tout en optimisant les coûts d’exécution.</span><span class="sxs-lookup"><span data-stu-id="33885-115">This has the potential to consistently meet user demand, while optimizing running costs.</span></span> <span data-ttu-id="33885-116">Toutefois, même si la mise à l’échelle automatique peut déclencher la configuration des ressources supplémentaires, cette configuration n’est pas immédiate.</span><span class="sxs-lookup"><span data-stu-id="33885-116">However, while autoscaling can trigger the provisioning of additional resources, this provisioning isn't immediate.</span></span> <span data-ttu-id="33885-117">Si la demande augmente rapidement, il peut y avoir une période pendant laquelle des ressources manquent.</span><span class="sxs-lookup"><span data-stu-id="33885-117">If demand grows quickly, there can be a window of time where there's a resource deficit.</span></span>

## <a name="solution"></a><span data-ttu-id="33885-118">Solution</span><span class="sxs-lookup"><span data-stu-id="33885-118">Solution</span></span>

<span data-ttu-id="33885-119">Plutôt que d’opter pour la mise à l’échelle automatique, vous pouvez autoriser les applications à utiliser des ressources uniquement jusqu’à une certaine limite, puis de les bloquer une fois cette limite atteinte.</span><span class="sxs-lookup"><span data-stu-id="33885-119">An alternative strategy to autoscaling is to allow applications to use resources only up to a limit, and then throttle them when this limit is reached.</span></span> <span data-ttu-id="33885-120">Le système doit surveiller son utilisation des ressources de façon que, une fois que l’utilisation dépasse le seuil, il puisse limiter les requêtes d’un ou de plusieurs utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="33885-120">The system should monitor how it's using resources so that, when usage exceeds the threshold, it can throttle requests from one or more users.</span></span> <span data-ttu-id="33885-121">Cela permettra au système de continuer à fonctionner et de respecter les contrats de niveau de service (SLA) en place.</span><span class="sxs-lookup"><span data-stu-id="33885-121">This will enable the system to continue functioning and meet any service level agreements (SLAs) that are in place.</span></span> <span data-ttu-id="33885-122">Pour plus d’informations sur la surveillance de l’utilisation des ressources, consultez [Monitoring and diagnostics](https://msdn.microsoft.com/library/dn589775.aspx) (Surveillance et diagnostics).</span><span class="sxs-lookup"><span data-stu-id="33885-122">For more information on monitoring resource usage, see the [Instrumentation and Telemetry Guidance](https://msdn.microsoft.com/library/dn589775.aspx).</span></span>

<span data-ttu-id="33885-123">Le système peut implémenter plusieurs stratégies de limitation, y compris :</span><span class="sxs-lookup"><span data-stu-id="33885-123">The system could implement several throttling strategies, including:</span></span>

- <span data-ttu-id="33885-124">Le rejet de requêtes d’un utilisateur individuel qui a déjà accédé à des API système plus de n fois par seconde pendant une période donnée.</span><span class="sxs-lookup"><span data-stu-id="33885-124">Rejecting requests from an individual user who's already accessed system APIs more than n times per second over a given period of time.</span></span> <span data-ttu-id="33885-125">Cela nécessite que le système mesure l’utilisation des ressources pour chaque locataire ou utilisateur exécutant une application.</span><span class="sxs-lookup"><span data-stu-id="33885-125">This requires the system to meter the use of resources for each tenant or user running an application.</span></span> <span data-ttu-id="33885-126">Pour plus d’informations, consultez [Service Metering Guidance](https://msdn.microsoft.com/library/dn589796.aspx) (Conseils sur la mesure des services).</span><span class="sxs-lookup"><span data-stu-id="33885-126">For more information, see the [Service Metering Guidance](https://msdn.microsoft.com/library/dn589796.aspx).</span></span>

- <span data-ttu-id="33885-127">La désactivation ou la dégradation des fonctionnalités des services non essentiels sélectionnés, afin que les services essentiels puissent s’exécuter normalement avec suffisamment de ressources.</span><span class="sxs-lookup"><span data-stu-id="33885-127">Disabling or degrading the functionality of selected nonessential services so that essential services can run unimpeded with sufficient resources.</span></span> <span data-ttu-id="33885-128">Par exemple, si l’application diffuse une vidéo, elle peut basculer sur une résolution plus faible.</span><span class="sxs-lookup"><span data-stu-id="33885-128">For example, if the application is streaming video output, it could switch to a lower resolution.</span></span>

- <span data-ttu-id="33885-129">L’utilisation du nivellement de la charge pour lisser le volume d’activité (cette approche est abordée plus en détail dans [Queue-based Load Leveling pattern](./queue-based-load-leveling.md)(Modèle de nivellement de la charge basé sur une file d’attente)).</span><span class="sxs-lookup"><span data-stu-id="33885-129">Using load leveling to smooth the volume of activity (this approach is covered in more detail by the [Queue-based Load Leveling pattern](./queue-based-load-leveling.md)).</span></span> <span data-ttu-id="33885-130">Dans un environnement multi-locataire, cette approche réduira les performances de chaque locataire.</span><span class="sxs-lookup"><span data-stu-id="33885-130">In a multi-tenant environment, this approach will reduce the performance for every tenant.</span></span> <span data-ttu-id="33885-131">Si le système doit prendre en charge un mélange de locataires avec différents SLA, le travail des locataires prioritaires peut être effectué immédiatement.</span><span class="sxs-lookup"><span data-stu-id="33885-131">If the system must support a mix of tenants with different SLAs, the work for high-value tenants might be performed immediately.</span></span> <span data-ttu-id="33885-132">Les requêtes des autres locataires peuvent être retenues et gérées lorsque le backlog a été allégé.</span><span class="sxs-lookup"><span data-stu-id="33885-132">Requests for other tenants can be held back, and handled when the backlog has eased.</span></span> <span data-ttu-id="33885-133">Le [modèle de file d’attente de priorité](./priority-queue.md) peut être utilisé pour aider à implémenter cette approche.</span><span class="sxs-lookup"><span data-stu-id="33885-133">The [Priority Queue pattern](./priority-queue.md) could be used to help implement this approach.</span></span>

- <span data-ttu-id="33885-134">Le report d’opérations en cours d’exécution pour le compte d’applications ou de locataires basse priorité.</span><span class="sxs-lookup"><span data-stu-id="33885-134">Deferring operations being performed on behalf of lower priority applications or tenants.</span></span> <span data-ttu-id="33885-135">Ces opérations peuvent être suspendues ou limitées, avec une exception générée pour informer le locataire que le système est occupé et que l’opération doit être retentée ultérieurement.</span><span class="sxs-lookup"><span data-stu-id="33885-135">These operations can be suspended or limited, with an exception generated to inform the tenant that the system is busy and that the operation should be retried later.</span></span>

<span data-ttu-id="33885-136">L’illustration montre un graphique par zone pour l’utilisation des ressources (combinaison de mémoire, processeur, bande passante et d’autres facteurs) en fonction de l’heure pour des applications se servant de trois fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="33885-136">The figure shows an area graph for resource use (a combination of memory, CPU, bandwidth, and other factors) against time for applications that are making use of three features.</span></span> <span data-ttu-id="33885-137">Une fonction est une zone de fonctionnalités, comme un composant qui effectue un ensemble spécifique de tâches, une partie de code qui effectue un calcul complexe ou un élément qui fournit un service tel qu’un cache en mémoire.</span><span class="sxs-lookup"><span data-stu-id="33885-137">A feature is an area of functionality, such as a component that performs a specific set of tasks, a piece of code that performs a complex calculation, or an element that provides a service such as an in-memory cache.</span></span> <span data-ttu-id="33885-138">Ces fonctions sont étiquetées A, B et C.</span><span class="sxs-lookup"><span data-stu-id="33885-138">These features are labeled A, B, and C.</span></span>

![Figure 1 - Graphique illustrant l’utilisation des ressources en fonction de l’heure pour des applications s’exécutant pour le compte de trois utilisateurs](./_images/throttling-resource-utilization.png)

> <span data-ttu-id="33885-140">La zone se trouvant immédiatement en dessous de la ligne d’une fonctionnalité indique les ressources utilisées par les applications lorsqu’elles appellent cette fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="33885-140">The area immediately below the line for a feature indicates the resources that are used by applications when they invoke this feature.</span></span> <span data-ttu-id="33885-141">Par exemple, la zone en dessous de la ligne de la fonctionnalité A montre les ressources utilisées par les applications qui se servent de la fonctionnalité A, et la zone entre les lignes de la fonctionnalité A et de la fonctionnalité B indique les ressources utilisées par les applications qui appellent la fonctionnalité B. L’agrégation des zones pour chaque fonctionnalité illustre l’utilisation de ressources totale du système.</span><span class="sxs-lookup"><span data-stu-id="33885-141">For example, the area below the line for Feature A shows the resources used by applications that are making use of Feature A, and the area between the lines for Feature A and Feature B indicates the resources used by applications invoking Feature B. Aggregating the areas for each feature shows the total resource use of the system.</span></span>

<span data-ttu-id="33885-142">L’illustration précédente présente les effets des opérations de report.</span><span class="sxs-lookup"><span data-stu-id="33885-142">The previous figure illustrates the effects of deferring operations.</span></span> <span data-ttu-id="33885-143">Juste avant l’heure T1, le total des ressources allouées à toutes les applications utilisant ces fonctionnalités atteint un seuil (la limite d’utilisation des ressources).</span><span class="sxs-lookup"><span data-stu-id="33885-143">Just prior to time T1, the total resources allocated to all applications using these features reach a threshold (the limit of resource use).</span></span> <span data-ttu-id="33885-144">À ce stade, les applications risquent d’épuiser les ressources disponibles.</span><span class="sxs-lookup"><span data-stu-id="33885-144">At this point, the applications are in danger of exhausting the resources available.</span></span> <span data-ttu-id="33885-145">Dans ce système, la fonctionnalité B étant moins importante que la fonctionnalité A ou C, elle est temporairement désactivée et les ressources qu’elle utilisait sont libérées.</span><span class="sxs-lookup"><span data-stu-id="33885-145">In this system, Feature B is less critical than Feature A or Feature C, so it's temporarily disabled and the resources that it was using are released.</span></span> <span data-ttu-id="33885-146">Entre les heures T1 et T2, les applications utilisant la fonctionnalité A et la fonctionnalité C continuent de s’exécuter normalement.</span><span class="sxs-lookup"><span data-stu-id="33885-146">Between times T1 and T2, the applications using Feature A and Feature C continue running as normal.</span></span> <span data-ttu-id="33885-147">Finalement, l’utilisation des ressources de ces deux fonctionnalités diminue jusqu’à ce que, à l’heure T2, il y ait suffisamment de capacité pour activer de nouveau la fonctionnalité B.</span><span class="sxs-lookup"><span data-stu-id="33885-147">Eventually, the resource use of these two features diminishes to the point when, at time T2, there is sufficient capacity to enable Feature B again.</span></span>

<span data-ttu-id="33885-148">Les approches de mise à l’échelle automatique et de limite peuvent également être combinées pour permettre de garantir la réactivité des applications et leur respect des SLA.</span><span class="sxs-lookup"><span data-stu-id="33885-148">The autoscaling and throttling approaches can also be combined to help keep the applications responsive and within SLAs.</span></span> <span data-ttu-id="33885-149">Si la demande doit rester élevée, la limitation fournit une solution temporaire, tandis que le système peut augmenter la taille des instances. À ce stade, les fonctionnalités complètes du système peuvent être restaurées.</span><span class="sxs-lookup"><span data-stu-id="33885-149">If the demand is expected to remain high, throttling provides a temporary solution while the system scales out. At this point, the full functionality of the system can be restored.</span></span>

<span data-ttu-id="33885-150">La figure suivante montre un graphique par zone de l’utilisation globale des ressources par toutes les applications s’exécutant dans un système en fonction de l’heure. Elle illustre également la façon dont la limitation peut être combinée avec la mise à l’échelle automatique.</span><span class="sxs-lookup"><span data-stu-id="33885-150">The next figure shows an area graph of the overall resource use by all applications running in a system against time, and illustrates how throttling can be combined with autoscaling.</span></span>

![Figure 2 - Graphique montrant les effets de la combinaison de la limitation avec la mise à l’échelle automatique](./_images/throttling-autoscaling.png)

<span data-ttu-id="33885-152">À l’heure T1, le seuil spécifiant la limite logicielle de l’utilisation des ressources est atteint.</span><span class="sxs-lookup"><span data-stu-id="33885-152">At time T1, the threshold specifying the soft limit of resource use is reached.</span></span> <span data-ttu-id="33885-153">À ce stade, le système peut commencer à augmenter la taille des instances. Toutefois, si les nouvelles ressources ne sont pas disponibles assez rapidement, les ressources existantes peuvent s’épuiser et le système peut tomber en panne.</span><span class="sxs-lookup"><span data-stu-id="33885-153">At this point, the system can start to scale out. However, if the new resources don't become available quickly enough, then the existing resources might be exhausted and the system could fail.</span></span> <span data-ttu-id="33885-154">Pour éviter ce problème, le système est temporairement limité, comme décrit précédemment.</span><span class="sxs-lookup"><span data-stu-id="33885-154">To prevent this from occurring, the system is temporarily throttled, as described earlier.</span></span> <span data-ttu-id="33885-155">Une fois la mise à l’échelle automatique terminée et les ressources supplémentaires disponibles, la limitation peut être retirée.</span><span class="sxs-lookup"><span data-stu-id="33885-155">When autoscaling has completed and the additional resources are available, throttling can be relaxed.</span></span>

## <a name="issues-and-considerations"></a><span data-ttu-id="33885-156">Problèmes et considérations</span><span class="sxs-lookup"><span data-stu-id="33885-156">Issues and considerations</span></span>

<span data-ttu-id="33885-157">Prenez en compte les points suivants quand vous choisissez comment implémenter ce modèle :</span><span class="sxs-lookup"><span data-stu-id="33885-157">You should consider the following points when deciding how to implement this pattern:</span></span>

- <span data-ttu-id="33885-158">La limitation d’une application, ainsi que la stratégie à utiliser, est une décision à prendre en matière d’architecture, qui a des conséquences sur l’ensemble de la conception d’un système.</span><span class="sxs-lookup"><span data-stu-id="33885-158">Throttling an application, and the strategy to use, is an architectural decision that impacts the entire design of a system.</span></span> <span data-ttu-id="33885-159">La limitation doit être envisagée tôt dans le processus de conception d’application, car il n’est pas facile de l’ajouter une fois qu’un système a été implémenté.</span><span class="sxs-lookup"><span data-stu-id="33885-159">Throttling should be considered early in the application design process because it isn't easy to add once a system has been implemented.</span></span>

- <span data-ttu-id="33885-160">La limitation doit être effectuée rapidement.</span><span class="sxs-lookup"><span data-stu-id="33885-160">Throttling must be performed quickly.</span></span> <span data-ttu-id="33885-161">Le système doit être capable de détecter une augmentation de l’activité et de réagir en conséquence.</span><span class="sxs-lookup"><span data-stu-id="33885-161">The system must be capable of detecting an increase in activity and react accordingly.</span></span> <span data-ttu-id="33885-162">Le système doit également être en mesure de revenir rapidement à son état d’origine une fois que la charge a été allégée.</span><span class="sxs-lookup"><span data-stu-id="33885-162">The system must also be able to revert to its original state quickly after the load has eased.</span></span> <span data-ttu-id="33885-163">Cela nécessite la capture et la surveillance permanentes des données de performances appropriées.</span><span class="sxs-lookup"><span data-stu-id="33885-163">This requires that the appropriate performance data is continually captured and monitored.</span></span>

- <span data-ttu-id="33885-164">Si un service doit temporairement refuser une requête de l’utilisateur, il doit renvoyer un code d’erreur spécifique pour que l’application cliente comprenne que la raison du refus d’exécution d’une opération est liée à la limitation.</span><span class="sxs-lookup"><span data-stu-id="33885-164">If a service needs to temporarily deny a user request, it should return a specific error code so the client application understands that the reason for the refusal to perform an operation is due to throttling.</span></span> <span data-ttu-id="33885-165">L’application cliente peut attendre un certain temps avant de faire une nouvelle tentative de requête.</span><span class="sxs-lookup"><span data-stu-id="33885-165">The client application can wait for a period before retrying the request.</span></span>

- <span data-ttu-id="33885-166">La limitation peut être utilisée en tant que mesure temporaire pendant la mise à l’échelle automatique d’un système.</span><span class="sxs-lookup"><span data-stu-id="33885-166">Throttling can be used as a temporary measure while a system autoscales.</span></span> <span data-ttu-id="33885-167">Dans certaines situations, il est préférable de mettre en place une limitation plutôt qu’une mise à l’échelle (par exemple, en cas d’augmentation soudaine de l’activité se produisant de façon ponctuelle), car la mise à l’échelle peut entraîner des coûts d’exécution supplémentaires importants.</span><span class="sxs-lookup"><span data-stu-id="33885-167">In some cases it's better to simply throttle, rather than to scale, if a burst in activity is sudden and isn't expected to be long lived because scaling can add considerably to running costs.</span></span>

- <span data-ttu-id="33885-168">Si la limitation est utilisée en tant que mesure temporaire pendant la mise à l’échelle automatique d’un système, et si les demandes de ressources augmentent très rapidement, le système peut ne pas être en mesure de continuer à fonctionner correctement&mdash;même lorsqu’il opère en mode limité.</span><span class="sxs-lookup"><span data-stu-id="33885-168">If throttling is being used as a temporary measure while a system autoscales, and if resource demands grow very quickly, the system might not be able to continue functioning&mdash;even when operating in a throttled mode.</span></span> <span data-ttu-id="33885-169">Si cela n’est pas acceptable, pensez à conserver des réserves de capacité plus importantes et à configurer une mise à l’échelle automatique plus agressive.</span><span class="sxs-lookup"><span data-stu-id="33885-169">If this isn't acceptable, consider maintaining larger capacity reserves and configuring more aggressive autoscaling.</span></span>

## <a name="when-to-use-this-pattern"></a><span data-ttu-id="33885-170">Quand utiliser ce modèle</span><span class="sxs-lookup"><span data-stu-id="33885-170">When to use this pattern</span></span>

<span data-ttu-id="33885-171">Utilisez ce modèle :</span><span class="sxs-lookup"><span data-stu-id="33885-171">Use this pattern:</span></span>

- <span data-ttu-id="33885-172">Pour vous assurer qu’un système continue à répondre aux contrats de niveau de service.</span><span class="sxs-lookup"><span data-stu-id="33885-172">To ensure that a system continues to meet service level agreements.</span></span>

- <span data-ttu-id="33885-173">Pour éviter qu’un seul locataire monopolise les ressources fournies par une application.</span><span class="sxs-lookup"><span data-stu-id="33885-173">To prevent a single tenant from monopolizing the resources provided by an application.</span></span>

- <span data-ttu-id="33885-174">Pour gérer des augmentations de l’activité.</span><span class="sxs-lookup"><span data-stu-id="33885-174">To handle bursts in activity.</span></span>

- <span data-ttu-id="33885-175">Pour aider à optimiser les coûts d’un système en limitant les niveaux de ressources maximum nécessaires pour qu’il continue à fonctionner.</span><span class="sxs-lookup"><span data-stu-id="33885-175">To help cost-optimize a system by limiting the maximum resource levels needed to keep it functioning.</span></span>

## <a name="example"></a><span data-ttu-id="33885-176">Exemples</span><span class="sxs-lookup"><span data-stu-id="33885-176">Example</span></span>

<span data-ttu-id="33885-177">La dernière figure illustre la façon dont la limitation peut être implémentée dans un système multi-locataire.</span><span class="sxs-lookup"><span data-stu-id="33885-177">The final figure illustrates how throttling can be implemented in a multi-tenant system.</span></span> <span data-ttu-id="33885-178">Les utilisateurs de chaque organisation de locataire accèdent à une application hébergée dans le cloud, dans laquelle ils remplissent et envoient des enquêtes.</span><span class="sxs-lookup"><span data-stu-id="33885-178">Users from each of the tenant organizations access a cloud-hosted application where they fill out and submit surveys.</span></span> <span data-ttu-id="33885-179">L’application contient une instrumentation qui surveille la vitesse d’envoi des requêtes à l’application par ces utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="33885-179">The application contains instrumentation that monitors the rate at which these users are submitting requests to the application.</span></span>

<span data-ttu-id="33885-180">Afin d’empêcher les utilisateurs d’un locataire de nuire à la réactivité et à la disponibilité de l’application de tous les autres utilisateurs, une limite est appliquée au nombre de requêtes par seconde que les utilisateurs d’un locataire peuvent envoyer.</span><span class="sxs-lookup"><span data-stu-id="33885-180">In order to prevent the users from one tenant affecting the responsiveness and availability of the application for all other users, a limit is applied to the number of requests per second the users from any one tenant can submit.</span></span> <span data-ttu-id="33885-181">L’application bloque les requêtes qui dépassent cette limite.</span><span class="sxs-lookup"><span data-stu-id="33885-181">The application blocks requests that exceed this limit.</span></span>

![Figure 3 - Implémentation de la limitation dans une application multi-locataire](./_images/throttling-multi-tenant.png)

## <a name="related-patterns-and-guidance"></a><span data-ttu-id="33885-183">Conseils et modèles connexes</span><span class="sxs-lookup"><span data-stu-id="33885-183">Related patterns and guidance</span></span>

<span data-ttu-id="33885-184">Les modèles et les conseils suivants peuvent également être pertinents lors de l'implémentation de ce modèle :</span><span class="sxs-lookup"><span data-stu-id="33885-184">The following patterns and guidance may also be relevant when implementing this pattern:</span></span>

- <span data-ttu-id="33885-185">[Recommandations relatives à l’instrumentation et la télémétrie](https://msdn.microsoft.com/library/dn589775.aspx).</span><span class="sxs-lookup"><span data-stu-id="33885-185">[Instrumentation and Telemetry Guidance](https://msdn.microsoft.com/library/dn589775.aspx).</span></span> <span data-ttu-id="33885-186">La limitation dépend de la collecte d’informations sur la façon dont un service est utilisé.</span><span class="sxs-lookup"><span data-stu-id="33885-186">Throttling depends on gathering information about how heavily a service is being used.</span></span> <span data-ttu-id="33885-187">Décrit comment générer et capturer des informations de surveillance personnalisées.</span><span class="sxs-lookup"><span data-stu-id="33885-187">Describes how to generate and capture custom monitoring information.</span></span>
- <span data-ttu-id="33885-188">[Service Metering Guidance](https://msdn.microsoft.com/library/dn589796.aspx) (Conseils sur la mesure des services).</span><span class="sxs-lookup"><span data-stu-id="33885-188">[Service Metering Guidance](https://msdn.microsoft.com/library/dn589796.aspx).</span></span> <span data-ttu-id="33885-189">Décrit comment mesurer l’utilisation des services afin de mieux comprendre la façon dont ils sont utilisés.</span><span class="sxs-lookup"><span data-stu-id="33885-189">Describes how to meter the use of services in order to gain an understanding of how they are used.</span></span> <span data-ttu-id="33885-190">Ces informations peuvent être utiles pour déterminer la manière de limiter un service.</span><span class="sxs-lookup"><span data-stu-id="33885-190">This information can be useful in determining how to throttle a service.</span></span>
- <span data-ttu-id="33885-191">[Autoscaling](https://msdn.microsoft.com/library/dn589774.aspx) (Mise à l’échelle automatique).</span><span class="sxs-lookup"><span data-stu-id="33885-191">[Autoscaling Guidance](https://msdn.microsoft.com/library/dn589774.aspx).</span></span> <span data-ttu-id="33885-192">La limitation peut être utilisée en tant que mesure intermédiaire pendant la mise à l’échelle automatique d’un système ou pour éliminer le besoin de mise à l’échelle automatique d’un système.</span><span class="sxs-lookup"><span data-stu-id="33885-192">Throttling can be used as an interim measure while a system autoscales, or to remove the need for a system to autoscale.</span></span> <span data-ttu-id="33885-193">Contient des informations sur les stratégies de mise à l’échelle automatique.</span><span class="sxs-lookup"><span data-stu-id="33885-193">Contains information on autoscaling strategies.</span></span>
- <span data-ttu-id="33885-194">[Queue-based Load Leveling pattern](./queue-based-load-leveling.md) (Modèle de nivellement de charge basé sur une file d’attente).</span><span class="sxs-lookup"><span data-stu-id="33885-194">[Queue-based Load Leveling pattern](./queue-based-load-leveling.md).</span></span> <span data-ttu-id="33885-195">Le nivellement de charge basé sur une file d’attente est un mécanisme couramment utilisé pour l’implémentation de la limitation.</span><span class="sxs-lookup"><span data-stu-id="33885-195">Queue-based load leveling is a commonly used mechanism for implementing throttling.</span></span> <span data-ttu-id="33885-196">Une file d’attente peut agir comme une mémoire tampon qui permet d’équilibrer la vitesse à laquelle les requêtes envoyées par une application sont remises à un service.</span><span class="sxs-lookup"><span data-stu-id="33885-196">A queue can act as a buffer that helps to even out the rate at which requests sent by an application are delivered to a service.</span></span>
- <span data-ttu-id="33885-197">[Priority Queue pattern](./priority-queue.md) (Modèle de file d’attente de priorité).</span><span class="sxs-lookup"><span data-stu-id="33885-197">[Priority Queue pattern](./priority-queue.md).</span></span> <span data-ttu-id="33885-198">Un système peut utiliser la file d’attente de priorité dans le cadre de la stratégie de limitation pour maintenir les performances des applications critiques ou très importantes tout en réduisant les performances des applications moins importantes.</span><span class="sxs-lookup"><span data-stu-id="33885-198">A system can use priority queuing as part of its throttling strategy to maintain performance for critical or higher value applications, while reducing the performance of less important applications.</span></span>
