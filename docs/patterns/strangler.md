---
title: Modèle d’étranglement
titleSuffix: Cloud Design Patterns
description: Faites migrer un système hérité de façon incrémentielle en remplaçant progressivement des parties spécifiques des fonctionnalités par de nouveaux services et applications.
keywords: modèle de conception
author: dragon119
ms.date: 06/23/2017
ms.topic: design-pattern
ms.service: architecture-center
ms.subservice: cloud-fundamentals
ms.custom: seodec18
ms.openlocfilehash: f139d368c98256c0190753930983a47df81a5134
ms.sourcegitcommit: 1b50810208354577b00e89e5c031b774b02736e2
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/23/2019
ms.locfileid: "54480554"
---
# <a name="strangler-pattern"></a><span data-ttu-id="f60a2-104">Modèle d’étranglement</span><span class="sxs-lookup"><span data-stu-id="f60a2-104">Strangler pattern</span></span>

<span data-ttu-id="f60a2-105">Faites migrer un système hérité de façon incrémentielle en remplaçant progressivement des parties spécifiques des fonctionnalités par de nouveaux services et applications.</span><span class="sxs-lookup"><span data-stu-id="f60a2-105">Incrementally migrate a legacy system by gradually replacing specific pieces of functionality with new applications and services.</span></span> <span data-ttu-id="f60a2-106">Lorsque les fonctionnalités d’un système hérité sont remplacées, le nouveau système finit par remplacer toutes les fonctionnalités de l’ancien système. Il étrangle alors l’ancien système et vous permet ainsi de le désactiver.</span><span class="sxs-lookup"><span data-stu-id="f60a2-106">As features from the legacy system are replaced, the new system eventually replaces all of the old system's features, strangling the old system and allowing you to decommission it.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="f60a2-107">Contexte et problème</span><span class="sxs-lookup"><span data-stu-id="f60a2-107">Context and problem</span></span>

<span data-ttu-id="f60a2-108">À mesure que les systèmes vieillissent, les outils de développement, la technologie d’hébergement et même les architectures système sur lesquels reposent ces systèmes peuvent devenir de plus en plus obsolètes.</span><span class="sxs-lookup"><span data-stu-id="f60a2-108">As systems age, the development tools, hosting technology, and even system architectures they were built on can become increasingly obsolete.</span></span> <span data-ttu-id="f60a2-109">L’ajout progressif de nouvelles fonctions et fonctionnalités peut considérablement accroître la complexité de ces applications et compliquer ainsi la mise à jour ou l’enrichissement de ces dernières.</span><span class="sxs-lookup"><span data-stu-id="f60a2-109">As new features and functionality are added, the complexity of these applications can increase dramatically, making them harder to maintain or add new features to.</span></span>

<span data-ttu-id="f60a2-110">Le remplacement complet d’un système complexe peut constituer un défi de taille.</span><span class="sxs-lookup"><span data-stu-id="f60a2-110">Completely replacing a complex system can be a huge undertaking.</span></span> <span data-ttu-id="f60a2-111">Vous serez généralement contraint d’effectuer une migration progressive vers un nouveau système, tout en conservant l’ancien système pour gérer les fonctionnalités qui n’ont pas encore fait l’objet d’une migration.</span><span class="sxs-lookup"><span data-stu-id="f60a2-111">Often, you will need a gradual migration to a new system, while keeping the old system to handle features that haven't been migrated yet.</span></span> <span data-ttu-id="f60a2-112">Toutefois, l’exécution de deux versions distinctes d’une application signifie que les clients doivent connaître l’emplacement des différentes fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="f60a2-112">However, running two separate versions of an application means that clients have to know where particular features are located.</span></span> <span data-ttu-id="f60a2-113">Chaque fois que vous faites migrer une fonctionnalité ou un service, vous devez donc mettre à jour les clients pour qu’ils pointent vers le nouvel emplacement.</span><span class="sxs-lookup"><span data-stu-id="f60a2-113">Every time a feature or service is migrated, clients need to be updated to point to the new location.</span></span>

## <a name="solution"></a><span data-ttu-id="f60a2-114">Solution</span><span class="sxs-lookup"><span data-stu-id="f60a2-114">Solution</span></span>

<span data-ttu-id="f60a2-115">Remplacez progressivement des parties spécifiques des fonctionnalités par de nouveaux services et applications.</span><span class="sxs-lookup"><span data-stu-id="f60a2-115">Incrementally replace specific pieces of functionality with new applications and services.</span></span> <span data-ttu-id="f60a2-116">Créez une façade qui intercepte les requêtes destinées au système hérité principal.</span><span class="sxs-lookup"><span data-stu-id="f60a2-116">Create a façade that intercepts requests going to the backend legacy system.</span></span> <span data-ttu-id="f60a2-117">La façade route ces requêtes soit vers l’application héritée, soit vers les nouveaux services.</span><span class="sxs-lookup"><span data-stu-id="f60a2-117">The façade routes these requests either to the legacy application or the new services.</span></span> <span data-ttu-id="f60a2-118">Les fonctionnalités existantes peuvent faire l’objet d’une migration progressive vers le nouveau système, et les clients peuvent continuer à utiliser la même interface sans savoir qu’une migration a été effectuée.</span><span class="sxs-lookup"><span data-stu-id="f60a2-118">Existing features can be migrated to the new system gradually, and consumers can continue using the same interface, unaware that any migration has taken place.</span></span>

![Diagramme du modèle d’étranglement](./_images/strangler.png)

<span data-ttu-id="f60a2-120">Ce modèle contribue à minimiser les risques liés à la migration et à étaler l’effort de développement dans le temps.</span><span class="sxs-lookup"><span data-stu-id="f60a2-120">This pattern helps to minimize risk from the migration, and spread the development effort over time.</span></span> <span data-ttu-id="f60a2-121">Étant donné que la façade route les utilisateurs en toute sécurité vers l’application adéquate, vous pouvez ajouter des fonctionnalités au nouveau système à votre rythme, tout en ayant l’assurance que l’application héritée continue à fonctionner.</span><span class="sxs-lookup"><span data-stu-id="f60a2-121">With the façade safely routing users to the correct application, you can add functionality to the new system at whatever pace you like, while ensuring the legacy application continues to function.</span></span> <span data-ttu-id="f60a2-122">Avec le temps, à mesure que les fonctionnalités font l’objet d’une migration vers le nouveau système, le système hérité finit par être « étranglé » et par devenir inutile.</span><span class="sxs-lookup"><span data-stu-id="f60a2-122">Over time, as features are migrated to the new system, the legacy system is eventually "strangled" and is no longer necessary.</span></span> <span data-ttu-id="f60a2-123">Une fois ce processus terminé, le système hérité peut alors être mis hors service sans problème.</span><span class="sxs-lookup"><span data-stu-id="f60a2-123">Once this process is complete, the legacy system can safely be retired.</span></span>

## <a name="issues-and-considerations"></a><span data-ttu-id="f60a2-124">Problèmes et considérations</span><span class="sxs-lookup"><span data-stu-id="f60a2-124">Issues and considerations</span></span>

- <span data-ttu-id="f60a2-125">Déterminez comment gérer les services et les magasins de données potentiellement utilisés à la fois par un nouveau système et par un système hérité.</span><span class="sxs-lookup"><span data-stu-id="f60a2-125">Consider how to handle services and data stores that are potentially used by both new and legacy systems.</span></span> <span data-ttu-id="f60a2-126">Assurez-vous que les deux systèmes peuvent accéder à ces ressources côte à côte.</span><span class="sxs-lookup"><span data-stu-id="f60a2-126">Make sure both can access these resources side-by-side.</span></span>
- <span data-ttu-id="f60a2-127">Structurez les nouveaux services et applications de façon à faciliter leur interception et leur remplacement dans les futures migrations d’étranglement.</span><span class="sxs-lookup"><span data-stu-id="f60a2-127">Structure new applications and services in a way that they can easily be intercepted and replaced in future strangler migrations.</span></span>
- <span data-ttu-id="f60a2-128">À un moment donné, une fois la migration terminée, la façade d’étranglement finit soit par disparaître, soit par évoluer sous la forme d’un adaptateur pour les clients hérités.</span><span class="sxs-lookup"><span data-stu-id="f60a2-128">At some point, when the migration is complete, the strangler façade will either go away or evolve into an adaptor for legacy clients.</span></span>
- <span data-ttu-id="f60a2-129">Assurez-vous que la façade suive le rythme de la migration.</span><span class="sxs-lookup"><span data-stu-id="f60a2-129">Make sure the façade keeps up with the migration.</span></span>
- <span data-ttu-id="f60a2-130">Assurez-vous que la façade ne devienne pas un point de défaillance unique ou un goulot d’étranglement.</span><span class="sxs-lookup"><span data-stu-id="f60a2-130">Make sure the façade doesn't become a single point of failure or a performance bottleneck.</span></span>

## <a name="when-to-use-this-pattern"></a><span data-ttu-id="f60a2-131">Quand utiliser ce modèle</span><span class="sxs-lookup"><span data-stu-id="f60a2-131">When to use this pattern</span></span>

<span data-ttu-id="f60a2-132">Utilisez ce modèle lorsque vous faites migrer progressivement une application principale vers une nouvelle architecture.</span><span class="sxs-lookup"><span data-stu-id="f60a2-132">Use this pattern when gradually migrating a back-end application to a new architecture.</span></span>

<span data-ttu-id="f60a2-133">Ce modèle peut ne pas convenir :</span><span class="sxs-lookup"><span data-stu-id="f60a2-133">This pattern may not be suitable:</span></span>

- <span data-ttu-id="f60a2-134">lorsque les requêtes adressées au système principal ne peuvent pas être interceptées ;</span><span class="sxs-lookup"><span data-stu-id="f60a2-134">When requests to the back-end system cannot be intercepted.</span></span>
- <span data-ttu-id="f60a2-135">pour les systèmes plus modestes dont le remplacement global présente peu de difficultés.</span><span class="sxs-lookup"><span data-stu-id="f60a2-135">For smaller systems where the complexity of wholesale replacement is low.</span></span>

## <a name="related-guidance"></a><span data-ttu-id="f60a2-136">Aide connexe</span><span class="sxs-lookup"><span data-stu-id="f60a2-136">Related guidance</span></span>

- <span data-ttu-id="f60a2-137">Billet de blog de Martin Fowler sur [StranglerApplication](https://www.martinfowler.com/bliki/StranglerApplication.html)</span><span class="sxs-lookup"><span data-stu-id="f60a2-137">Martin Fowler's blog post on [StranglerApplication](https://www.martinfowler.com/bliki/StranglerApplication.html)</span></span>
