---
title: Aide relative au réseau de distribution de contenu
titleSuffix: Best practices for cloud applications
description: Aide sur l’utilisation des réseaux de distribution de contenu (CDN) pour distribuer du contenu à bande passante élevée hébergé dans Azure.
author: dragon119
ms.date: 02/02/2018
ms.topic: best-practice
ms.service: architecture-center
ms.subservice: cloud-fundamentals
ms.custom: seodec18
ms.openlocfilehash: f4ffe9c5cdd7a53ab8359ef303076c5e53e9e45c
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/20/2019
ms.locfileid: "58249104"
---
# <a name="content-delivery-networks-cdns"></a><span data-ttu-id="eff3e-103">Réseaux de distribution de contenu (CDN)</span><span class="sxs-lookup"><span data-stu-id="eff3e-103">Content delivery networks (CDNs)</span></span>

<span data-ttu-id="eff3e-104">Un réseau de diffusion de contenu (CDN) est un réseau distribué de serveurs capables de fournir efficacement du contenu web aux utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="eff3e-104">A content delivery network (CDN) is a distributed network of servers that can efficiently deliver web content to users.</span></span> <span data-ttu-id="eff3e-105">Il stocke le contenu en cache sur des serveurs de périmètre proches des utilisateurs finaux afin de réduire la latence.</span><span class="sxs-lookup"><span data-stu-id="eff3e-105">CDNs store cached content on edge servers that are close to end-users, to minimize latency.</span></span>

<span data-ttu-id="eff3e-106">Les réseaux CDN sont généralement utilisés pour distribuer du contenu statique, notamment des images, des feuilles de style, des documents, des fichiers, des scripts côté client et des pages HTML.</span><span class="sxs-lookup"><span data-stu-id="eff3e-106">CDNs are typically used to deliver static content such as images, style sheets, documents, client-side scripts, and HTML pages.</span></span> <span data-ttu-id="eff3e-107">Leurs avantages principaux sont la diminution de la latence et l’accélération de la distribution de contenu aux utilisateurs, quel que soit leur emplacement géographique par rapport au centre de données dans lequel est hébergée l’application.</span><span class="sxs-lookup"><span data-stu-id="eff3e-107">The major advantages of using a CDN are lower latency and faster delivery of content to users, regardless of their geographical location in relation to the datacenter where the application is hosted.</span></span> <span data-ttu-id="eff3e-108">Ils contribuent également à réduire la charge des applications web, car celles-ci n’ont plus à traiter les demandes portant sur le contenu hébergé dans le réseau CDN.</span><span class="sxs-lookup"><span data-stu-id="eff3e-108">CDNs can also help to reduce load on a web application, because the application does not have to service requests for the content that is hosted in the CDN.</span></span>

![Diagramme CDN](./images/cdn/CDN.png)

<span data-ttu-id="eff3e-110">Dans Azure, [Azure Content Delivery Network](/azure/cdn/cdn-overview) est une solution CDN globale qui fournit du contenu à large bande passante hébergé dans Azure ou ailleurs.</span><span class="sxs-lookup"><span data-stu-id="eff3e-110">In Azure, the [Azure Content Delivery Network](/azure/cdn/cdn-overview) is a global CDN solution for delivering high-bandwidth content that is hosted in Azure or any other location.</span></span> <span data-ttu-id="eff3e-111">Il permet de mettre en cache des objets accessibles au public, chargés à partir du Stockage Blob Azure, d’une application web, d’une machine virtuelle ou d’un serveur web en accès public.</span><span class="sxs-lookup"><span data-stu-id="eff3e-111">Using Azure CDN, you can cache publicly available objects loaded from Azure blob storage, a web application, virtual machine, any publicly accessible web server.</span></span>

<span data-ttu-id="eff3e-112">Cette rubrique décrit certaines des meilleures pratiques, ainsi que des considérations générales sur l’utilisation d’un réseau CDN.</span><span class="sxs-lookup"><span data-stu-id="eff3e-112">This topic describes some general best practices and considerations when using a CDN.</span></span> <span data-ttu-id="eff3e-113">Pour plus d’informations, consultez [Azure CDN](/azure/cdn/).</span><span class="sxs-lookup"><span data-stu-id="eff3e-113">For more information, see [Azure CDN](/azure/cdn/).</span></span>

## <a name="how-and-why-a-cdn-is-used"></a><span data-ttu-id="eff3e-114">Fonctionnement et raisons de l’utilisation d’un CDN</span><span class="sxs-lookup"><span data-stu-id="eff3e-114">How and why a CDN is used</span></span>

<span data-ttu-id="eff3e-115">Un CDN est généralement utilisé dans les cas suivants :</span><span class="sxs-lookup"><span data-stu-id="eff3e-115">Typical uses for a CDN include:</span></span>  

- <span data-ttu-id="eff3e-116">La distribution de ressources statiques pour des applications clientes, souvent depuis un site web.</span><span class="sxs-lookup"><span data-stu-id="eff3e-116">Delivering static resources for client applications, often from a website.</span></span> <span data-ttu-id="eff3e-117">Il peut s’agir d’images, de feuilles de style, de documents, de fichiers, de scripts côté client, de pages HTML, de fragments HTML ou de tout autre contenu que le serveur n’a pas besoin de modifier à chaque demande.</span><span class="sxs-lookup"><span data-stu-id="eff3e-117">These resources can be images, style sheets, documents, files, client-side scripts, HTML pages, HTML fragments, or any other content that the server does not need to modify for each request.</span></span> <span data-ttu-id="eff3e-118">L’application peut créer des éléments au cours de son exécution et les rendre disponibles au CDN (par exemple, en créant une liste de titres d’information actuels), mais elle ne le fait pas pour chaque demande.</span><span class="sxs-lookup"><span data-stu-id="eff3e-118">The application can create items at runtime and make them available to the CDN (for example, by creating a list of current news headlines), but it does not do so for each request.</span></span>

- <span data-ttu-id="eff3e-119">La distribution de contenu public statique et partagé à des appareils tels que des téléphones mobiles et des tablettes.</span><span class="sxs-lookup"><span data-stu-id="eff3e-119">Delivering public static and shared content to devices such as mobile phones and tablet computers.</span></span> <span data-ttu-id="eff3e-120">L’application elle-même est un service web qui offre une API pour des clients s’exécutant sur divers appareils.</span><span class="sxs-lookup"><span data-stu-id="eff3e-120">The application itself is a web service that offers an API to clients running on the various devices.</span></span> <span data-ttu-id="eff3e-121">Le CDN peut également fournir des jeux de données statiques (via le service web), que les clients peuvent utiliser, par exemple, pour générer l’interface utilisateur du client.</span><span class="sxs-lookup"><span data-stu-id="eff3e-121">The CDN can also deliver static datasets (via the web service) for the clients to use, perhaps to generate the client UI.</span></span> <span data-ttu-id="eff3e-122">Par exemple, le CDN peut permettre de distribuer des documents JSON ou XML.</span><span class="sxs-lookup"><span data-stu-id="eff3e-122">For example, the CDN could be used to distribute JSON or XML documents.</span></span>

- <span data-ttu-id="eff3e-123">La mise à disposition de sites web entiers qui se composent uniquement de contenu statique public pour les clients, sans nécessiter de ressources de calcul dédiées.</span><span class="sxs-lookup"><span data-stu-id="eff3e-123">Serving entire websites that consist of only public static content to clients, without requiring any dedicated compute resources.</span></span>

- <span data-ttu-id="eff3e-124">La diffusion en continu de fichiers vidéo à la demande pour le client.</span><span class="sxs-lookup"><span data-stu-id="eff3e-124">Streaming video files to the client on demand.</span></span> <span data-ttu-id="eff3e-125">La vidéo bénéficie d’une latence faible et d’une connectivité fiable disponible depuis les centres de données répartis dans le monde qui offrent des connexions au CDN.</span><span class="sxs-lookup"><span data-stu-id="eff3e-125">Video benefits from the low latency and reliable connectivity available from the globally located datacenters that offer CDN connections.</span></span> <span data-ttu-id="eff3e-126">Microsoft Azure Media Services (AMS) est intégré à Azure CDN afin de fournir directement du contenu au CDN en vue de sa redistribution.</span><span class="sxs-lookup"><span data-stu-id="eff3e-126">Microsoft Azure Media Services (AMS) integrates with Azure CDN to deliver content directly to the CDN for further distribution.</span></span> <span data-ttu-id="eff3e-127">Pour plus d’informations, consultez [Vue d’ensemble des points de terminaison de streaming](/azure/media-services/media-services-streaming-endpoints-overview).</span><span class="sxs-lookup"><span data-stu-id="eff3e-127">For more information, see [Streaming endpoints overview](/azure/media-services/media-services-streaming-endpoints-overview).</span></span>

- <span data-ttu-id="eff3e-128">L’amélioration générale de l’expérience des utilisateurs, en particulier de ceux qui se trouvent loin du centre de données hébergeant l’application.</span><span class="sxs-lookup"><span data-stu-id="eff3e-128">Generally improving the experience for users, especially those located far from the datacenter hosting the application.</span></span> <span data-ttu-id="eff3e-129">Autrement, ces utilisateurs peuvent pâtir d’une latence plus élevée.</span><span class="sxs-lookup"><span data-stu-id="eff3e-129">These users might otherwise suffer higher latency.</span></span> <span data-ttu-id="eff3e-130">Une grande partie de la taille totale du contenu d’une application web est souvent statique et l’utilisation d’un CDN peut aider à maintenir la performance ainsi que l’expérience utilisateur générale tout en éliminant la contrainte du déploiement de l’application sur plusieurs centres de données.</span><span class="sxs-lookup"><span data-stu-id="eff3e-130">A large proportion of the total size of the content in a web application is often static, and using the CDN can help to maintain performance and overall user experience while eliminating the requirement to deploy the application to multiple data centers.</span></span> <span data-ttu-id="eff3e-131">Vous trouverez la liste des emplacements de nœuds Azure CDN sur la page [Emplacements des points de présence des réseaux Azure CDN](/azure/cdn/cdn-pop-locations/).</span><span class="sxs-lookup"><span data-stu-id="eff3e-131">For a list of Azure CDN node locations, see [Azure CDN POP Locations](/azure/cdn/cdn-pop-locations/).</span></span>

- <span data-ttu-id="eff3e-132">La prise en charge de solutions IoT (Internet des objets).</span><span class="sxs-lookup"><span data-stu-id="eff3e-132">Supporting IoT (Internet of Things) solutions.</span></span> <span data-ttu-id="eff3e-133">La multitude d’appareils et d’appliances impliqués dans une solution IoT pourrait facilement surcharger l’application si celle-ci devait distribuer directement les mises à jour de microprogrammes à chacun des appareils.</span><span class="sxs-lookup"><span data-stu-id="eff3e-133">The huge numbers of devices and appliances involved in an IoT solution could easily overwhelm an application if it had to distribute firmware updates directly to each device.</span></span>

- <span data-ttu-id="eff3e-134">La gestion des fluctuations de la demande sans que l’application doive être mise à l’échelle, évitant ainsi une augmentation des coûts d’exécution.</span><span class="sxs-lookup"><span data-stu-id="eff3e-134">Coping with peaks and surges in demand without requiring the application to scale, avoiding the consequent increased running costs.</span></span> <span data-ttu-id="eff3e-135">Par exemple, quand une mise à jour de système d’exploitation est publiée pour un appareil tel qu’un modèle spécifique de routeur, ou pour un bien de consommation tel qu’un téléviseur connecté, la demande croît fortement, car des millions d’utilisateurs et d’appareils télécharge la mise à jour sur une brève période.</span><span class="sxs-lookup"><span data-stu-id="eff3e-135">For example, when an update to an operating system is released for a hardware device such as a specific model of router, or for a consumer device such as a smart TV, there will be a huge peak in demand as it is downloaded by millions of users and devices over a short period.</span></span>

## <a name="challenges"></a><span data-ttu-id="eff3e-136">Défis</span><span class="sxs-lookup"><span data-stu-id="eff3e-136">Challenges</span></span>

<span data-ttu-id="eff3e-137">Il faut prendre en compte plusieurs problématiques avant d’utiliser un réseau CDN.</span><span class="sxs-lookup"><span data-stu-id="eff3e-137">There are several challenges to take into account when planning to use a CDN.</span></span>

- <span data-ttu-id="eff3e-138">**Déploiement**.</span><span class="sxs-lookup"><span data-stu-id="eff3e-138">**Deployment**.</span></span> <span data-ttu-id="eff3e-139">Choisissez l’origine à partir de laquelle le réseau CDN extraira le contenu, et déterminez si vous avez besoin de déployer ce contenu dans plusieurs systèmes de stockage.</span><span class="sxs-lookup"><span data-stu-id="eff3e-139">Decide the origin from which the CDN fetches the content, and whether you need to deploy the content in more than one storage system.</span></span> <span data-ttu-id="eff3e-140">Prenez en compte le processus de déploiement des ressources et des contenus statiques.</span><span class="sxs-lookup"><span data-stu-id="eff3e-140">Take into account the process for deploying static content and resources.</span></span> <span data-ttu-id="eff3e-141">Par exemple, il se peut que vous deviez implémenter une étape distincte pour charger du contenu dans le stockage d’objets blob Azure.</span><span class="sxs-lookup"><span data-stu-id="eff3e-141">For example, you may need to implement a separate step to load content into Azure blob storage.</span></span>

- <span data-ttu-id="eff3e-142">**Contrôle de version et de cache**.</span><span class="sxs-lookup"><span data-stu-id="eff3e-142">**Versioning and cache-control**.</span></span> <span data-ttu-id="eff3e-143">Envisagez la façon dont vous allez mettre à jour le contenu statique et déployer de nouvelles versions.</span><span class="sxs-lookup"><span data-stu-id="eff3e-143">Consider how you will update static content and deploy new versions.</span></span> <span data-ttu-id="eff3e-144">Renseignez-vous sur la manière dont le réseau CDN effectue la mise en cache et la durée de vie (TTL).</span><span class="sxs-lookup"><span data-stu-id="eff3e-144">Understand how the CDN performs caching and time-to-live (TTL).</span></span> <span data-ttu-id="eff3e-145">Pour Azure CDN, consultez la page [Comment fonctionne la mise en cache](/azure/cdn/cdn-how-caching-works).</span><span class="sxs-lookup"><span data-stu-id="eff3e-145">For Azure CDN, see [How caching works](/azure/cdn/cdn-how-caching-works).</span></span>

- <span data-ttu-id="eff3e-146">**Test**.</span><span class="sxs-lookup"><span data-stu-id="eff3e-146">**Testing**.</span></span> <span data-ttu-id="eff3e-147">Il peut être difficile de réaliser des tests locaux de vos paramètres de CDN lors du développement et du test d’une application localement ou dans un environnement intermédiaire.</span><span class="sxs-lookup"><span data-stu-id="eff3e-147">It can be difficult to perform local testing of your CDN settings when developing and testing an application locally or in a staging environment.</span></span>

- <span data-ttu-id="eff3e-148">**Optimisation du référencement d’un site auprès d’un moteur de recherche (SEO)**.</span><span class="sxs-lookup"><span data-stu-id="eff3e-148">**Search engine optimization (SEO)**.</span></span> <span data-ttu-id="eff3e-149">Du contenu tel que des images et des documents est servi à partir d’un autre domaine lorsque vous utilisez le CDN.</span><span class="sxs-lookup"><span data-stu-id="eff3e-149">Content such as images and documents are served from a different domain when you use the CDN.</span></span> <span data-ttu-id="eff3e-150">Cela peut avoir un effet sur le SEO pour ce contenu.</span><span class="sxs-lookup"><span data-stu-id="eff3e-150">This can have an effect on SEO for this content.</span></span>

- <span data-ttu-id="eff3e-151">**Sécurité du contenu**.</span><span class="sxs-lookup"><span data-stu-id="eff3e-151">**Content security**.</span></span> <span data-ttu-id="eff3e-152">Les différents réseaux CDN n’offrent pas tous les types de contrôle d’accès au contenu.</span><span class="sxs-lookup"><span data-stu-id="eff3e-152">Not all CDNs offer any form of access control for the content.</span></span> <span data-ttu-id="eff3e-153">Certains de ces services, notamment Azure CDN, prennent en charge l’authentification par jeton pour protéger le contenu CDN.</span><span class="sxs-lookup"><span data-stu-id="eff3e-153">Some CDN services, including Azure CDN, support token-based authentication to protect CDN content.</span></span> <span data-ttu-id="eff3e-154">Pour plus d’informations, consultez la page [Sécuriser des ressources Azure Content Delivery Network avec l’authentification par jeton](/azure/cdn/cdn-token-auth).</span><span class="sxs-lookup"><span data-stu-id="eff3e-154">For more information, see [Securing Azure Content Delivery Network assets with token authentication](/azure/cdn/cdn-token-auth).</span></span>

- <span data-ttu-id="eff3e-155">**Sécurité du client**.</span><span class="sxs-lookup"><span data-stu-id="eff3e-155">**Client security**.</span></span> <span data-ttu-id="eff3e-156">Des clients peuvent se connecter à partir d’un environnement qui n’autorise pas l’accès aux ressources sur le CDN.</span><span class="sxs-lookup"><span data-stu-id="eff3e-156">Clients might connect from an environment that does not allow access to resources on the CDN.</span></span> <span data-ttu-id="eff3e-157">Cela peut être un environnement soumis à des contraintes de sécurité qui limite l’accès uniquement à un ensemble de sources connues ou qui empêche le chargement de ressources à partir de tout autre emplacement que la page d’origine.</span><span class="sxs-lookup"><span data-stu-id="eff3e-157">This could be a security-constrained environment that limits access to only a set of known sources, or one that prevents loading of resources from anything other than the page origin.</span></span> <span data-ttu-id="eff3e-158">Une implémentation de secours est requise pour gérer ces situations.</span><span class="sxs-lookup"><span data-stu-id="eff3e-158">A fallback implementation is required to handle these cases.</span></span>

- <span data-ttu-id="eff3e-159">**Résilience**.</span><span class="sxs-lookup"><span data-stu-id="eff3e-159">**Resilience**.</span></span> <span data-ttu-id="eff3e-160">Le CDN peut être le point unique de défaillance d’une application.</span><span class="sxs-lookup"><span data-stu-id="eff3e-160">The CDN is a potential single point of failure for an application.</span></span>

<span data-ttu-id="eff3e-161">Les scénarios où le CDN peut s’avérer moins utile sont :</span><span class="sxs-lookup"><span data-stu-id="eff3e-161">Scenarios where CDN may be less useful include:</span></span>  

- <span data-ttu-id="eff3e-162">Si le contenu présente un faible taux d’accès, il risque de n’être accessible qu’à quelques reprises lorsqu’il est valide (ce que détermine son paramètre de durée de vie).</span><span class="sxs-lookup"><span data-stu-id="eff3e-162">If the content has a low hit rate, it might be accessed only few times while it is valid (determined by its time-to-live setting).</span></span>

- <span data-ttu-id="eff3e-163">Si les données sont privées, comme pour les grandes entreprises ou les écosystèmes de chaîne d’approvisionnement.</span><span class="sxs-lookup"><span data-stu-id="eff3e-163">If the data is private, such as for large enterprises or supply chain ecosystems.</span></span>

## <a name="general-guidelines-and-good-practices"></a><span data-ttu-id="eff3e-164">Instructions générales et meilleures pratiques</span><span class="sxs-lookup"><span data-stu-id="eff3e-164">General guidelines and good practices</span></span>

<span data-ttu-id="eff3e-165">Les réseaux CDN représentent un bon moyen de réduire la charge de l’application et d’optimiser la disponibilité et les performances.</span><span class="sxs-lookup"><span data-stu-id="eff3e-165">Using a CDN is a good way to minimize the load on your application, and maximize availability and performance.</span></span> <span data-ttu-id="eff3e-166">Envisagez d’adopter cette stratégie pour l’ensemble du contenu et des ressources appropriés que votre application utilise.</span><span class="sxs-lookup"><span data-stu-id="eff3e-166">Consider adopting this strategy for all of the appropriate content and resources your application uses.</span></span> <span data-ttu-id="eff3e-167">Prenez en compte les points des sections suivantes pour concevoir votre stratégie d’utilisation d’un réseau CDN.</span><span class="sxs-lookup"><span data-stu-id="eff3e-167">Consider the points in the following sections when designing your strategy to use a CDN.</span></span>

### <a name="deployment"></a><span data-ttu-id="eff3e-168">Déploiement</span><span class="sxs-lookup"><span data-stu-id="eff3e-168">Deployment</span></span>

<span data-ttu-id="eff3e-169">Il se peut que vous deviez configurer et déployer le contenu statique indépendamment de l’application si vous ne l’incluez pas dans le package ou le processus de déploiement d’application.</span><span class="sxs-lookup"><span data-stu-id="eff3e-169">Static content may need to be provisioned and deployed independently from the application if you do not include it in the application deployment package or process.</span></span> <span data-ttu-id="eff3e-170">Pensez à la façon dont cela affectera l’approche du contrôle de version que vous utilisez pour gérer les composants d’application et le contenu de ressources statique.</span><span class="sxs-lookup"><span data-stu-id="eff3e-170">Consider how this will affect the versioning approach you use to manage both the application components and the static resource content.</span></span>

<span data-ttu-id="eff3e-171">Envisagez d’utiliser des techniques de regroupement et de minimisation afin de réduire le temps de chargement pour les clients.</span><span class="sxs-lookup"><span data-stu-id="eff3e-171">Consider using bundling and minification techniques to reduce load times for clients.</span></span> <span data-ttu-id="eff3e-172">Le regroupement consiste à combiner plusieurs fichiers en un seul.</span><span class="sxs-lookup"><span data-stu-id="eff3e-172">Bundling combines multiple files into a single file.</span></span> <span data-ttu-id="eff3e-173">La minimisation supprime les caractères inutiles des scripts et des fichiers CSS sans dégrader les fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="eff3e-173">Minification removes unnecessary characters from scripts and CSS files without altering functionality.</span></span>

<span data-ttu-id="eff3e-174">Si vous devez déployer le contenu à un emplacement supplémentaire, cela constitue une étape supplémentaire dans le processus de déploiement.</span><span class="sxs-lookup"><span data-stu-id="eff3e-174">If you need to deploy the content to an additional location, this will be an extra step in the deployment process.</span></span> <span data-ttu-id="eff3e-175">Si l’application met à jour le contenu pour le CDN, peut-être à intervalles réguliers ou en réponse à un événement, elle doit stocker le contenu mis à jour dans tous les emplacements supplémentaires ainsi qu’au niveau du point de terminaison du CDN.</span><span class="sxs-lookup"><span data-stu-id="eff3e-175">If the application updates the content for the CDN, perhaps at regular intervals or in response to an event, it must store the updated content in any additional locations as well as the endpoint for the CDN.</span></span>

<span data-ttu-id="eff3e-176">Déterminez la façon dont vous gérerez le développement et les tests en cas de traitement de contenu statique à partir d’un réseau CDN.</span><span class="sxs-lookup"><span data-stu-id="eff3e-176">Consider how you will handle local development and testing when some static content is expected to be served from a CDN.</span></span> <span data-ttu-id="eff3e-177">Par exemple, vous pourriez prédéployer le contenu sur le réseau CDN dans votre script de génération.</span><span class="sxs-lookup"><span data-stu-id="eff3e-177">For example, you could pre-deploy the content to the CDN as part of your build script.</span></span> <span data-ttu-id="eff3e-178">Une autre possibilité serait d’utiliser des indicateurs ou des directives de compilation pour contrôler la manière dont l’application charge les ressources.</span><span class="sxs-lookup"><span data-stu-id="eff3e-178">Alternatively, use compile directives or flags to control how the application loads the resources.</span></span> <span data-ttu-id="eff3e-179">Par exemple, en mode débogage, l’application pourrait charger des ressources statiques à partir d’un dossier local.</span><span class="sxs-lookup"><span data-stu-id="eff3e-179">For example, in debug mode, the application could load static resources from a local folder.</span></span> <span data-ttu-id="eff3e-180">Dans la version finale, elle utiliserait le réseau CDN.</span><span class="sxs-lookup"><span data-stu-id="eff3e-180">In release mode, the application would use the CDN.</span></span>

<span data-ttu-id="eff3e-181">Étudiez les options de compression de fichier, notamment gzip (GNU zip).</span><span class="sxs-lookup"><span data-stu-id="eff3e-181">Consider the options for file compression, such as gzip (GNU zip).</span></span> <span data-ttu-id="eff3e-182">Cette opération peut être effectuée par l’application web d’hébergement sur le serveur d’origine, ou par le réseau CDN directement sur les serveurs de périmètre.</span><span class="sxs-lookup"><span data-stu-id="eff3e-182">Compression may be performed on the origin server by the web application hosting or directly on the edge servers by the CDN.</span></span> <span data-ttu-id="eff3e-183">Pour plus d’informations, consultez la page [Améliorer les performances en compressant les fichiers dans Azure CDN](/azure/cdn/cdn-improve-performance).</span><span class="sxs-lookup"><span data-stu-id="eff3e-183">For more information, see [Improve performance by compressing files in Azure CDN](/azure/cdn/cdn-improve-performance).</span></span>

### <a name="routing-and-versioning"></a><span data-ttu-id="eff3e-184">Routage et contrôle de version</span><span class="sxs-lookup"><span data-stu-id="eff3e-184">Routing and versioning</span></span>

<span data-ttu-id="eff3e-185">Il se peut que vous deviez utiliser différentes instances de CDN à différents moments.</span><span class="sxs-lookup"><span data-stu-id="eff3e-185">You may need to use different CDN instances at various times.</span></span> <span data-ttu-id="eff3e-186">Par exemple, lorsque vous déployez une nouvelle version de l’application, vous pouvez utiliser un nouveau CDN et conserver l’ancien (comprenant du contenu de format plus ancien) pour des versions antérieures.</span><span class="sxs-lookup"><span data-stu-id="eff3e-186">For example, when you deploy a new version of the application you may want to use a new CDN and retain the old CDN (holding content in an older format) for previous versions.</span></span> <span data-ttu-id="eff3e-187">Si vous utilisez le stockage d’objets blob Azure comme origine du contenu, vous pouvez créer un compte de stockage ou un conteneur distincts et pointer le point de terminaison CDN vers ce compte ou ce conteneur.</span><span class="sxs-lookup"><span data-stu-id="eff3e-187">If you use Azure blob storage as the content origin, you can create a separate storage account or a separate container and point the CDN endpoint to it.</span></span>

<span data-ttu-id="eff3e-188">N’utilisez pas la chaîne de requête pour indiquer d’autres versions de l’application dans des liens vers des ressources sur le CDN car, lors de la récupération de contenu à partir du stockage d’objets blob Azure, la chaîne de requête fait partie du nom de la ressource (nom d’objet blob).</span><span class="sxs-lookup"><span data-stu-id="eff3e-188">Do not use the query string to denote different versions of the application in links to resources on the CDN because, when retrieving content from Azure blob storage, the query string is part of the resource name (the blob name).</span></span> <span data-ttu-id="eff3e-189">Cette approche peut également avoir une incidence sur la façon dont le client met en cache les ressources.</span><span class="sxs-lookup"><span data-stu-id="eff3e-189">This approach can also affect how the client caches resources.</span></span>

<span data-ttu-id="eff3e-190">Le déploiement de nouvelles versions de contenu statique lorsque vous mettez à jour une application peut être problématique si les ressources précédentes sont mises en cache sur le CDN.</span><span class="sxs-lookup"><span data-stu-id="eff3e-190">Deploying new versions of static content when you update an application can be a challenge if the previous resources are cached on the CDN.</span></span> <span data-ttu-id="eff3e-191">Pour plus d’informations, consultez la section ci-dessous sur le contrôle du cache.</span><span class="sxs-lookup"><span data-stu-id="eff3e-191">For more information, see the section on cache control, below.</span></span>

<span data-ttu-id="eff3e-192">Envisagez de limiter l’accès au contenu du CDN par pays.</span><span class="sxs-lookup"><span data-stu-id="eff3e-192">Consider restricting the CDN content access by country.</span></span> <span data-ttu-id="eff3e-193">Le CDN Azure vous permet de filtrer les demandes en fonction du pays d’origine, et de restreindre le contenu distribué.</span><span class="sxs-lookup"><span data-stu-id="eff3e-193">Azure CDN allows you to filter requests based on the country of origin and restrict the content delivered.</span></span> <span data-ttu-id="eff3e-194">Pour plus d’informations, voir [Restriction de l’accès à votre contenu par pays](/azure/cdn/cdn-restrict-access-by-country/).</span><span class="sxs-lookup"><span data-stu-id="eff3e-194">For more information, see [Restrict access to your content by country](/azure/cdn/cdn-restrict-access-by-country/).</span></span>

### <a name="cache-control"></a><span data-ttu-id="eff3e-195">contrôle de cache</span><span class="sxs-lookup"><span data-stu-id="eff3e-195">Cache control</span></span>

<span data-ttu-id="eff3e-196">Considérez comment gérer la mise en cache dans le système.</span><span class="sxs-lookup"><span data-stu-id="eff3e-196">Consider how to manage caching within the system.</span></span> <span data-ttu-id="eff3e-197">Par exemple, dans Azure CDN, vous pouvez définir des règles globales de mise en cache, puis établir une mise en cache personnalisée pour les points de terminaison ayant une origine particulière.</span><span class="sxs-lookup"><span data-stu-id="eff3e-197">For example, in Azure CDN, you can set global caching rules, and then set custom caching for particular origin endpoints.</span></span> <span data-ttu-id="eff3e-198">Vous avez également la possibilité de contrôler le déroulement de la mise en cache dans un réseau CDN en envoyant des en-têtes de directive de cache à l’origine.</span><span class="sxs-lookup"><span data-stu-id="eff3e-198">You can also control how caching is performed in a CDN by sending cache-directive headers at the origin.</span></span>

<span data-ttu-id="eff3e-199">Pour plus d’informations, consultez la page [Comment fonctionne la mise en cache](/azure/cdn/cdn-how-caching-works).</span><span class="sxs-lookup"><span data-stu-id="eff3e-199">For more information, see [How caching works](/azure/cdn/cdn-how-caching-works).</span></span>

<span data-ttu-id="eff3e-200">Pour rendre les objets inaccessibles sur le réseau CDN, vous pouvez les supprimer de l’origine, supprimer le point de terminaison CDN ou, dans le cas du Stockage Blob, rendre le conteneur ou l’objet blob privé.</span><span class="sxs-lookup"><span data-stu-id="eff3e-200">To prevent objects from being available on the CDN, you can delete them from the origin, remove or delete the CDN endpoint, or in the case of blob storage, make the container or blob private.</span></span> <span data-ttu-id="eff3e-201">Toutefois, les éléments ne seront supprimés qu'à l’expiration de la durée de vie.</span><span class="sxs-lookup"><span data-stu-id="eff3e-201">However, items are not removed from the until the time-to-live expires.</span></span> <span data-ttu-id="eff3e-202">Vous pouvez également vider manuellement le point de terminaison CDN.</span><span class="sxs-lookup"><span data-stu-id="eff3e-202">You can also manually purge a CDN endpoint.</span></span>

### <a name="security"></a><span data-ttu-id="eff3e-203">Sécurité</span><span class="sxs-lookup"><span data-stu-id="eff3e-203">Security</span></span>

<span data-ttu-id="eff3e-204">Le CDN peut distribuer du contenu par le biais de HTTPS (SSL) à l’aide du certificat fourni par le CDN, ainsi que par l’intermédiaire du protocole HTTP standard.</span><span class="sxs-lookup"><span data-stu-id="eff3e-204">The CDN can deliver content over HTTPS (SSL), by using the certificate provided by the CDN, as well as over standard HTTP.</span></span> <span data-ttu-id="eff3e-205">Afin d’éviter les avertissements de navigateur relatifs au contenu mixte, vous devrez peut-être utiliser HTTPS pour demander du contenu statique qui est affiché dans les pages chargées par le biais de HTTPS.</span><span class="sxs-lookup"><span data-stu-id="eff3e-205">To avoid browser warnings about mixed content, you might need to use HTTPS to request static content that is displayed in pages loaded through HTTPS.</span></span>

<span data-ttu-id="eff3e-206">Si vous distribuez des ressources statiques telles que des fichiers de polices à l’aide du CDN, vous pouvez rencontrer des problèmes de stratégie de même origine dans les cas où vous utilisez un appel *XMLHttpRequest* pour demander ces ressources à partir d’un autre domaine.</span><span class="sxs-lookup"><span data-stu-id="eff3e-206">If you deliver static assets such as font files by using the CDN, you might encounter same-origin policy issues if you use an *XMLHttpRequest* call to request these resources from a different domain.</span></span> <span data-ttu-id="eff3e-207">De nombreux navigateurs web empêchent le partage des ressources provenant de différentes origines (CORS) sauf si le serveur web est configuré pour définir les en-têtes de réponse appropriés.</span><span class="sxs-lookup"><span data-stu-id="eff3e-207">Many web browsers prevent cross-origin resource sharing (CORS) unless the web server is configured to set the appropriate response headers.</span></span> <span data-ttu-id="eff3e-208">Vous pouvez configurer le CDN pour la prise en charge du mécanisme CORS en utilisant l’une des méthodes suivantes :</span><span class="sxs-lookup"><span data-stu-id="eff3e-208">You can configure the CDN to support CORS by using one of the following methods:</span></span>

- <span data-ttu-id="eff3e-209">Configurez le réseau CDN de façon à ajouter des en-têtes CORS aux réponses.</span><span class="sxs-lookup"><span data-stu-id="eff3e-209">Configure the CDN to add CORS headers to the responses.</span></span> <span data-ttu-id="eff3e-210">Pour plus d’informations, consultez l’article [Utilisation d’Azure CDN avec CORS](/azure/cdn/cdn-cors).</span><span class="sxs-lookup"><span data-stu-id="eff3e-210">For more information, see [Using Azure CDN with CORS](/azure/cdn/cdn-cors).</span></span>

- <span data-ttu-id="eff3e-211">Si l’origine est le Stockage Blob Azure, ajoutez des règles CORS au point de terminaison de stockage.</span><span class="sxs-lookup"><span data-stu-id="eff3e-211">If the origin is Azure blob storage, add CORS rules to the storage endpoint.</span></span> <span data-ttu-id="eff3e-212">Pour plus d’informations, consultez [Support du partage des ressources provenant de différentes origines (CORS) pour les services de stockage d’Azure](/rest/api/storageservices/Cross-Origin-Resource-Sharing--CORS--Support-for-the-Azure-Storage-Services).</span><span class="sxs-lookup"><span data-stu-id="eff3e-212">For more information, see [Cross-Origin Resource Sharing (CORS) Support for the Azure Storage Services](/rest/api/storageservices/Cross-Origin-Resource-Sharing--CORS--Support-for-the-Azure-Storage-Services).</span></span>

- <span data-ttu-id="eff3e-213">Configurez l’application de façon à définir les en-têtes CORS.</span><span class="sxs-lookup"><span data-stu-id="eff3e-213">Configure the application to set the CORS headers.</span></span> <span data-ttu-id="eff3e-214">Par exemple, consultez la section [Autoriser les demandes d’origines différentes (CORS)](/aspnet/core/security/cors) dans la documentation d’ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="eff3e-214">For example, see [Enabling Cross-Origin Requests (CORS)](/aspnet/core/security/cors) in the ASP.NET Core documentation.</span></span>

### <a name="cdn-fallback"></a><span data-ttu-id="eff3e-215">Secours CDN</span><span class="sxs-lookup"><span data-stu-id="eff3e-215">CDN fallback</span></span>

<span data-ttu-id="eff3e-216">Envisagez la façon dont votre application peut faire face à une défaillance ou à une indisponibilité temporaire du CDN.</span><span class="sxs-lookup"><span data-stu-id="eff3e-216">Consider how your application will cope with a failure or temporary unavailability of the CDN.</span></span> <span data-ttu-id="eff3e-217">Les applications clientes peuvent être en mesure d’utiliser des copies des ressources qui ont été mises en cache localement (sur le client) lors de requêtes précédentes. Vous pouvez également inclure du code qui détecte des défaillances, et demande à la place des ressources à partir de l’emplacement d’origine (dossier de l’application ou conteneur d’objets blob Azure contenant les ressources) si le CDN n’est pas disponible.</span><span class="sxs-lookup"><span data-stu-id="eff3e-217">Client applications may be able to use copies of the resources that were cached locally (on the client) during previous requests, or you can include code that detects failure and instead requests resources from the origin (the application folder or Azure blob container that holds the resources) if the CDN is unavailable.</span></span>
