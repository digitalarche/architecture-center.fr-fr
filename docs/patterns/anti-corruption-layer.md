---
title: "Modèle de couche de lutte contre la corruption"
description: "Implémentez une couche de façade ou d’adaptateur entre une application moderne et un système hérité."
author: dragon119
ms.date: 06/23/2017
ms.openlocfilehash: 590d5f3676c92f5f18661360106e2b2fdd4efbe1
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/14/2017
---
# <a name="anti-corruption-layer-pattern"></a><span data-ttu-id="35f38-103">Modèle de couche de lutte contre la corruption</span><span class="sxs-lookup"><span data-stu-id="35f38-103">Anti-Corruption Layer pattern</span></span>

<span data-ttu-id="35f38-104">Implémentez une couche de façade ou d’adaptateur entre une application moderne et un système hérité dont elle dépend.</span><span class="sxs-lookup"><span data-stu-id="35f38-104">Implement a façade or adapter layer between a modern application and a legacy system that it depends on.</span></span> <span data-ttu-id="35f38-105">Cette couche traduit des requêtes entre l’application moderne et le système hérité.</span><span class="sxs-lookup"><span data-stu-id="35f38-105">This layer translates requests between the modern application and the legacy system.</span></span> <span data-ttu-id="35f38-106">Utilisez ce modèle pour vous assurer que la conception d’une application n’est pas limitée par les dépendances sur les systèmes hérités.</span><span class="sxs-lookup"><span data-stu-id="35f38-106">Use this pattern to ensure that an application's design is not limited by dependencies on legacy systems.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="35f38-107">Contexte et problème</span><span class="sxs-lookup"><span data-stu-id="35f38-107">Context and problem</span></span>

<span data-ttu-id="35f38-108">La plupart des applications s’appuient sur d’autres systèmes pour certaines données ou fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="35f38-108">Most applications rely on other systems for some data or functionality.</span></span> <span data-ttu-id="35f38-109">Par exemple, lorsqu’une application héritée est migrée vers un système moderne, elle peut toujours avoir besoin de ressources héritées existantes.</span><span class="sxs-lookup"><span data-stu-id="35f38-109">For example, when a legacy application is migrated to a modern system, it may still need existing legacy resources.</span></span> <span data-ttu-id="35f38-110">De nouvelles fonctionnalités doivent être en mesure d’appeler le système hérité.</span><span class="sxs-lookup"><span data-stu-id="35f38-110">New features must be able to call the legacy system.</span></span> <span data-ttu-id="35f38-111">Cela est particulièrement vrai lorsqu’il s’agit de migrations graduelles pour lesquelles différentes fonctionnalités d’une application plus importante sont déplacées vers un système moderne au fil du temps.</span><span class="sxs-lookup"><span data-stu-id="35f38-111">This is especially true of gradual migrations, where different features of a larger application are moved to a modern system over time.</span></span>

<span data-ttu-id="35f38-112">Souvent, ces systèmes hérités connaissent des problèmes de qualité comme des schémas de données complexes ou des API obsolètes.</span><span class="sxs-lookup"><span data-stu-id="35f38-112">Often these legacy systems suffer from quality issues such as convoluted data schemas or obsolete APIs.</span></span> <span data-ttu-id="35f38-113">Les fonctionnalités et technologies utilisées dans les systèmes hérités peuvent varier considérablement par rapport à des systèmes plus modernes.</span><span class="sxs-lookup"><span data-stu-id="35f38-113">The features and technologies used in legacy systems can vary widely from more modern systems.</span></span> <span data-ttu-id="35f38-114">Pour interagir avec le système hérité, la nouvelle application doit éventuellement prendre en charge une infrastructure, des protocoles, des modèles de données, des API obsolètes ou d’autres fonctionnalités que vous n’implémenteriez pas dans une application moderne.</span><span class="sxs-lookup"><span data-stu-id="35f38-114">To interoperate with the legacy system, the new application may need to support outdated infrastructure, protocols, data models, APIs, or other features that you wouldn't otherwise put into a modern application.</span></span>

<span data-ttu-id="35f38-115">Maintenir l’accès entre les systèmes nouveaux et hérités peut forcer le nouveau système à respecter au moins certaines API ou d’autres sémantiques du système hérité.</span><span class="sxs-lookup"><span data-stu-id="35f38-115">Maintaining access between new and legacy systems can force the new system to adhere to at least some of the legacy system's APIs or other semantics.</span></span> <span data-ttu-id="35f38-116">Lorsque ces fonctionnalités héritées ont des problèmes de qualité, le fait de les prendre en charge « corrompt » ce qui pourrait être une application moderne correctement conçue.</span><span class="sxs-lookup"><span data-stu-id="35f38-116">When these legacy features have quality issues, supporting them "corrupts" what might otherwise be a cleanly designed modern application.</span></span> 

## <a name="solution"></a><span data-ttu-id="35f38-117">Solution</span><span class="sxs-lookup"><span data-stu-id="35f38-117">Solution</span></span>

<span data-ttu-id="35f38-118">Isolez les systèmes hérités et modernes en plaçant une couche de lutte contre la corruption entre eux.</span><span class="sxs-lookup"><span data-stu-id="35f38-118">Isolate the legacy and modern systems by placing an anti-corruption layer between them.</span></span> <span data-ttu-id="35f38-119">Cette couche traduit les communications entre les deux systèmes, ce qui permet au système hérité de rester identique alors que l’application moderne peut éviter de compromettre sa conception et son approche technologique.</span><span class="sxs-lookup"><span data-stu-id="35f38-119">This layer translates communications between the two systems, allowing the legacy system to remain unchanged while the modern application can avoid compromising its design and technological approach.</span></span>

![](./_images/anti-corruption-layer.png) 

<span data-ttu-id="35f38-120">La communication entre l’application moderne et de la couche de lutte contre la corruption utilise toujours l’architecture et le modèle de données de l’application.</span><span class="sxs-lookup"><span data-stu-id="35f38-120">Communication between the modern application and the anti-corruption layer always uses the application's data model and architecture.</span></span> <span data-ttu-id="35f38-121">Les appels de la couche de lutte contre la corruption au système hérité sont conformes aux méthodes ou au modèle de données de ce système.</span><span class="sxs-lookup"><span data-stu-id="35f38-121">Calls from the anti-corruption layer to the legacy system conform to that system's data model or methods.</span></span> <span data-ttu-id="35f38-122">La couche de lutte contre la corruption contient toute la logique nécessaire pour effectuer la traduction entre les deux systèmes.</span><span class="sxs-lookup"><span data-stu-id="35f38-122">The anti-corruption layer contains all of the logic necessary to translate between the two systems.</span></span> <span data-ttu-id="35f38-123">La couche peut être implémentée en tant que composant dans l’application ou en tant que service indépendant.</span><span class="sxs-lookup"><span data-stu-id="35f38-123">The layer can be implemented as a component within the application or as an independent service.</span></span>

## <a name="issues-and-considerations"></a><span data-ttu-id="35f38-124">Problèmes et considérations</span><span class="sxs-lookup"><span data-stu-id="35f38-124">Issues and considerations</span></span>

- <span data-ttu-id="35f38-125">La couche de lutte contre la corruption peut ajouter de la latence aux appels effectués entre les deux systèmes.</span><span class="sxs-lookup"><span data-stu-id="35f38-125">The anti-corruption layer may add latency to calls made between the two systems.</span></span>
- <span data-ttu-id="35f38-126">La couche de lutte contre la corruption ajoute un service supplémentaire qui doit être géré et maintenu.</span><span class="sxs-lookup"><span data-stu-id="35f38-126">The anti-corruption layer adds an additional service that must be managed and maintained.</span></span>
- <span data-ttu-id="35f38-127">Réfléchissez à la façon dont votre couche de lutte contre la corruption va être mise à l’échelle.</span><span class="sxs-lookup"><span data-stu-id="35f38-127">Consider how your anti-corruption layer will scale.</span></span>
- <span data-ttu-id="35f38-128">Évaluez si vous avez besoin de plus d’une couche de lutte contre la corruption.</span><span class="sxs-lookup"><span data-stu-id="35f38-128">Consider whether you need more than one anti-corruption layer.</span></span> <span data-ttu-id="35f38-129">Vous pouvez décomposer les fonctionnalités en plusieurs services à l’aide de différents langages ou technologies ; vous pouvez également choisir de partitionner la couche de lutte contre la corruption pour d’autres raisons.</span><span class="sxs-lookup"><span data-stu-id="35f38-129">You may want to decompose functionality into multiple services using different technologies or languages, or there may be other reasons to partition the anti-corruption layer.</span></span>
- <span data-ttu-id="35f38-130">Réfléchissez à la façon dont la couche de lutte contre la corruption sera gérée par rapport à vos autres applications ou services.</span><span class="sxs-lookup"><span data-stu-id="35f38-130">Consider how the anti-corruption layer will be managed in relation with your other applications or services.</span></span> <span data-ttu-id="35f38-131">Comment sera-t-elle intégrée à vos processus de surveillance, de mise en production et de configuration ?</span><span class="sxs-lookup"><span data-stu-id="35f38-131">How will it be integrated into your monitoring, release, and configuration processes?</span></span>
- <span data-ttu-id="35f38-132">Assurez-vous que la cohérence des transactions et des données est conservée et qu’elle peut être surveillée.</span><span class="sxs-lookup"><span data-stu-id="35f38-132">Make sure transaction and data consistency are maintained and can be monitored.</span></span>
- <span data-ttu-id="35f38-133">Déterminez si la couche de lutte contre la corruption doit gérer toutes les communications entre les systèmes hérités et modernes ou uniquement un sous-ensemble de fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="35f38-133">Consider whether the anti-corruption layer needs to handle all communication between legacy and modern systems, or just a subset of features.</span></span> 
- <span data-ttu-id="35f38-134">Évaluez si la couche de lutte contre la corruption doit être permanente ou si elle devra être mise hors service une fois toutes les fonctionnalités héritées migrées.</span><span class="sxs-lookup"><span data-stu-id="35f38-134">Consider whether the anti-corruption layer is meant to be permanent, or eventually retired once all legacy functionality has been migrated.</span></span>

## <a name="when-to-use-this-pattern"></a><span data-ttu-id="35f38-135">Quand utiliser ce modèle</span><span class="sxs-lookup"><span data-stu-id="35f38-135">When to use this pattern</span></span>

<span data-ttu-id="35f38-136">Utilisez ce modèle dans les situations suivantes :</span><span class="sxs-lookup"><span data-stu-id="35f38-136">Use this pattern when:</span></span>

- <span data-ttu-id="35f38-137">Une migration est planifiée pour avoir lieu en plusieurs étapes, mais l’intégration entre les systèmes nouveaux et hérités doit être maintenue.</span><span class="sxs-lookup"><span data-stu-id="35f38-137">A migration is planned to happen over multiple stages, but integration between new and legacy systems needs to be maintained.</span></span>
- <span data-ttu-id="35f38-138">Les systèmes nouveaux et hérités ont des sémantiques différentes, mais doivent tout de même communiquer.</span><span class="sxs-lookup"><span data-stu-id="35f38-138">New and legacy system have different semantics, but still need to communicate.</span></span>

<span data-ttu-id="35f38-139">Ce modèle peut ne pas convenir s’il n’y a aucune différence de sémantique significative entre les systèmes nouveaux et hérités.</span><span class="sxs-lookup"><span data-stu-id="35f38-139">This pattern may not be suitable if there are no significant semantic differences between new and legacy systems.</span></span> 

## <a name="related-guidance"></a><span data-ttu-id="35f38-140">Aide connexe</span><span class="sxs-lookup"><span data-stu-id="35f38-140">Related guidance</span></span>

- <span data-ttu-id="35f38-141">[Strangler pattern][strangler] (Modèle d’étranglement)</span><span class="sxs-lookup"><span data-stu-id="35f38-141">[Strangler pattern][strangler]</span></span>

[strangler]: ./strangler.md
