---
title: Pipeline CI/CD avec Azure DevOps
description: Générez et publiez une application .NET sur Azure Web Apps à l’aide d’Azure DevOps.
author: christianreddington
ms.date: 07/11/18
ms.openlocfilehash: 80890784d4c97aac418cef4e49f9075dbef10b8a
ms.sourcegitcommit: b2a4eb132857afa70201e28d662f18458865a48e
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/05/2018
ms.locfileid: "48818936"
---
# <a name="cicd-pipeline-with-azure-devops"></a><span data-ttu-id="b4402-103">Pipeline CI/CD avec Azure DevOps</span><span class="sxs-lookup"><span data-stu-id="b4402-103">CI/CD pipeline with Azure DevOps</span></span>

<span data-ttu-id="b4402-104">DevOps est l’intégration du développement, de l’assurance qualité et des opérations informatiques.</span><span class="sxs-lookup"><span data-stu-id="b4402-104">DevOps is the integration of development, quality assurance, and IT operations.</span></span> <span data-ttu-id="b4402-105">DevOps nécessite une culture unifiée et un ensemble solide de processus pour la distribution de logiciels.</span><span class="sxs-lookup"><span data-stu-id="b4402-105">DevOps requires both unified culture and a strong set of processes for delivering software.</span></span>

<span data-ttu-id="b4402-106">Cet exemple de scénario démontre la manière dont les équipes de développement peuvent utiliser Azure DevOps pour déployer une application web .NET à deux niveaux sur Azure App Service.</span><span class="sxs-lookup"><span data-stu-id="b4402-106">This example scenario demonstrates how development teams can use Azure DevOps to deploy a .NET two-tier web application to Azure App Service.</span></span> <span data-ttu-id="b4402-107">L’application web dépend des services PaaS (platform as a service) Azure en aval.</span><span class="sxs-lookup"><span data-stu-id="b4402-107">The Web Application depends on downstream Azure platform as a service (PaaS) services.</span></span> <span data-ttu-id="b4402-108">Ce document souligne également quelques points dont vous tenir compte lorsque vous concevez un scénario de ce type à l’aide d’Azure PaaS.</span><span class="sxs-lookup"><span data-stu-id="b4402-108">This document also points out some considerations that you should make when designing such a scenario using Azure PaaS.</span></span>

<span data-ttu-id="b4402-109">L’approche moderne en matière de développement d’applications que constituent l’intégration continue et le déploiement continu (CI/CD) vous aide à offrir plus rapidement une valeur ajoutée aux utilisateurs par l’intermédiaire d’un service robuste de compilation, de test, de déploiement et de supervision.</span><span class="sxs-lookup"><span data-stu-id="b4402-109">Adopting a modern approach to application development using Continuous Integration and Continuous Deployment (CI/CD), helps you to accelerate the delivery of value to your users through a robust build, test, deployment, and monitoring service.</span></span> <span data-ttu-id="b4402-110">En combinant l’utilisation d’une plateforme telle qu’Azure DevOps et de services Azure comme App Service, les organisations peuvent se focaliser sur le développement de leur scénario, plutôt que sur la gestion de l’infrastructure sous-jacente.</span><span class="sxs-lookup"><span data-stu-id="b4402-110">By using a platform such as Azure DevOps along with Azure services such as App Service, organizations can focus on the development of their scenario rather than the management of the supporting infrastructure.</span></span>

## <a name="relevant-use-cases"></a><span data-ttu-id="b4402-111">Cas d’usage appropriés</span><span class="sxs-lookup"><span data-stu-id="b4402-111">Relevant use cases</span></span>

<span data-ttu-id="b4402-112">Pensez à DevOps pour les cas d’usage suivants :</span><span class="sxs-lookup"><span data-stu-id="b4402-112">Consider DevOps for the following use cases:</span></span>

* <span data-ttu-id="b4402-113">Accélération du développement d’applications et des cycles de vie de développement</span><span class="sxs-lookup"><span data-stu-id="b4402-113">Accelerating application development and development life cycles</span></span>
* <span data-ttu-id="b4402-114">Qualité et cohérence de la construction dans un processus de compilation et de mise en production automatisé</span><span class="sxs-lookup"><span data-stu-id="b4402-114">Building quality and consistency into an automated build and release process</span></span>

## <a name="architecture"></a><span data-ttu-id="b4402-115">Architecture</span><span class="sxs-lookup"><span data-stu-id="b4402-115">Architecture</span></span>

![Présentation de l’architecture des composants Azure impliqués dans un scénario DevOps utilisant Azure DevOps et Azure App Service][architecture]

<span data-ttu-id="b4402-117">Ce scénario porte sur un pipeline CI/CD pour une application web .NET utilisant Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="b4402-117">This scenario covers a CI/CD pipeline for a .NET web application using Azure DevOps.</span></span> <span data-ttu-id="b4402-118">Les données circulent dans le scénario comme suit :</span><span class="sxs-lookup"><span data-stu-id="b4402-118">The data flows through the scenario as follows:</span></span>

1. <span data-ttu-id="b4402-119">Changer le code source de l’application.</span><span class="sxs-lookup"><span data-stu-id="b4402-119">Change application source code.</span></span>
2. <span data-ttu-id="b4402-120">Valider le code de l’application et le fichier web.config de l’application web.</span><span class="sxs-lookup"><span data-stu-id="b4402-120">Commit application code and Web Apps web.config file.</span></span>
3. <span data-ttu-id="b4402-121">L’intégration continue déclenche la génération de l’application et des tests unitaires.</span><span class="sxs-lookup"><span data-stu-id="b4402-121">Continuous integration triggers application build and unit tests.</span></span>
4. <span data-ttu-id="b4402-122">Le déclencheur de déploiement continu orchestre le déploiement d’artefacts d’application  *avec des valeurs de configuration paramétrables propres à l’environnement*.</span><span class="sxs-lookup"><span data-stu-id="b4402-122">Continuous deployment trigger orchestrates deployment of application artifacts *with environment-specific parameterized configuration values*.</span></span>
5. <span data-ttu-id="b4402-123">Déploiement vers Azure App Service.</span><span class="sxs-lookup"><span data-stu-id="b4402-123">Deployment to Azure App Service.</span></span>
6. <span data-ttu-id="b4402-124">Azure Application Insights collecte et analyse les données relatives à l’intégrité, aux performances et à l’utilisation.</span><span class="sxs-lookup"><span data-stu-id="b4402-124">Azure Application Insights collects and analyzes health, performance, and usage data.</span></span>
7. <span data-ttu-id="b4402-125">Passez en revue les informations relatives à l’intégrité, aux performances et à l’utilisation.</span><span class="sxs-lookup"><span data-stu-id="b4402-125">Review health, performance, and usage information.</span></span>

### <a name="components"></a><span data-ttu-id="b4402-126">Composants</span><span class="sxs-lookup"><span data-stu-id="b4402-126">Components</span></span>

* <span data-ttu-id="b4402-127">[Azure DevOps][vsts] est un service qui vous permet de gérer votre cycle de vie de développement de bout en bout, depuis la planification et la gestion du projet jusqu’à la compilation et la mise en production, en passant par la gestion du code.</span><span class="sxs-lookup"><span data-stu-id="b4402-127">[Azure DevOps][vsts] is a service for managing your development life cycle end-to-end &mdash; from planning and project management, to code management, and continuing to build and release.</span></span>
* <span data-ttu-id="b4402-128">[Azure Web Apps][web-apps] est un service PaaS pour l’hébergement d’applications web, d’API REST et de back ends mobiles.</span><span class="sxs-lookup"><span data-stu-id="b4402-128">[Azure Web Apps][web-apps] is a PaaS service for hosting web applications, REST APIs, and mobile back ends.</span></span> <span data-ttu-id="b4402-129">Bien que cet article se concentre sur .NET, il existe plusieurs options de plateforme de développement supplémentaires prises en charge.</span><span class="sxs-lookup"><span data-stu-id="b4402-129">While this article focuses on .NET, there are several additional development platform options supported.</span></span>
* <span data-ttu-id="b4402-130">[Application Insights][application-insights] est un service interne extensible de gestion des performances des applications (APM) destiné aux développeurs web sur de multiples plateformes.</span><span class="sxs-lookup"><span data-stu-id="b4402-130">[Application Insights][application-insights] is a first-party, extensible Application Performance Management (APM) service for web developers on multiple platforms.</span></span>

### <a name="alternative-devops-tooling-options"></a><span data-ttu-id="b4402-131">Autres options d’outils DevOps</span><span class="sxs-lookup"><span data-stu-id="b4402-131">Alternative DevOps tooling options</span></span>

<span data-ttu-id="b4402-132">Bien que cet article se concentre sur Azure DevOps, [Team Foundation Server][team-foundation-server] peut faire office de substitut local.</span><span class="sxs-lookup"><span data-stu-id="b4402-132">While this article focuses on Azure DevOps, [Team Foundation Server][team-foundation-server] could be used as on-premises substitute.</span></span> <span data-ttu-id="b4402-133">Une autre possibilité consiste à utiliser un ensemble de technologies pour un pipeline de développement open source à l’aide de [Jenkins][jenkins-on-azure].</span><span class="sxs-lookup"><span data-stu-id="b4402-133">Alternatively, you could also use a set of technologies for an open source development pipeline using [Jenkins][jenkins-on-azure].</span></span>

<span data-ttu-id="b4402-134">Dans une perspective IaC (infrastructure as code), les [modèles Azure Resource Manager][arm-templates] sont inclus dans le projet Azure DevOps, mais vous pouvez éventuellement utiliser [Terraform][terraform] ou [Chef][chef].</span><span class="sxs-lookup"><span data-stu-id="b4402-134">From an infrastructure-as-code perspective, [Azure Resource Manager Templates][arm-templates] are included as part of the Azure DevOps project, but you could consider [Terraform][terraform] or [Chef][chef].</span></span> <span data-ttu-id="b4402-135">Si vous préférez un déploiement IaaS (infrastructure as a service) et que vous avez besoin d’une gestion de la configuration, tournez-vous vers [Azure Automation State Configuration][desired-state-configuration], [Ansible][ansible] ou [Chef][chef].</span><span class="sxs-lookup"><span data-stu-id="b4402-135">If you prefer an infrastructure-as-a-service (IaaS)-based deployment and require configuration management, you could consider either [Azure Automation State Configuration][desired-state-configuration], [Ansible][ansible], or [Chef][chef].</span></span>

### <a name="alternatives-to-azure-web-apps"></a><span data-ttu-id="b4402-136">Alternatives à Azure Web Apps</span><span class="sxs-lookup"><span data-stu-id="b4402-136">Alternatives to Azure Web Apps</span></span>

<span data-ttu-id="b4402-137">Examinez ci-après les alternatives possibles à l’hébergement dans Azure Web Apps :</span><span class="sxs-lookup"><span data-stu-id="b4402-137">You could consider these alternatives to hosting in Azure Web Apps:</span></span>

* <span data-ttu-id="b4402-138">[Machines virtuelles Azure][compare-vm-hosting] : pour les charges de travail qui exigent un degré de contrôle élevé ou qui dépendent de services et de composants du système d’exploitation non utilisables avec Web Apps (par exemple, GAC Windows ou COM).</span><span class="sxs-lookup"><span data-stu-id="b4402-138">[Azure Virtual Machines][compare-vm-hosting] &mdash; For workloads that require a high degree of control, or depend on OS components and services that are not possible with Web Apps (for example, the Windows GAC, or COM).</span></span>
* <span data-ttu-id="b4402-139">[Service Fabric][service-fabric] : option appropriée si l’architecture de la charge de travail s’articule autour de composants distribués qui tirent avantage d’un déploiement et d’une exécution sur un cluster avec un haut degré de contrôle.</span><span class="sxs-lookup"><span data-stu-id="b4402-139">[Service Fabric][service-fabric] &mdash; a good option if the workload architecture is focused around distributed components that benefit from being deployed and run across a cluster with a high degree of control.</span></span> <span data-ttu-id="b4402-140">Service Fabric peut également être utilisé pour héberger des conteneurs.</span><span class="sxs-lookup"><span data-stu-id="b4402-140">Service Fabric can also be used to host containers.</span></span>
* <span data-ttu-id="b4402-141">[Azure Functions][azure-functions] : approche serverless efficace si l’architecture de la charge de travail s’articule autour de composants distribués de granularité fine, nécessitant des dépendances minimales, où les différents composants doivent uniquement être exécutés à la demande (et non de façon continue) et où l’orchestration des composants n’est pas obligatoire.</span><span class="sxs-lookup"><span data-stu-id="b4402-141">[Azure Functions][azure-functions] - an effective serverless approach if the workload architecture is centered around fine grained distributed components, requiring minimal dependencies, where individual components are only required to run on demand (not continuously) and orchestration of components is not required.</span></span>

<span data-ttu-id="b4402-142">Cet [arbre de décision](/azure/architecture/guide/technology-choices/compute-decision-tree) peut vous aider lors du choix de la voie à suivre pour une migration.</span><span class="sxs-lookup"><span data-stu-id="b4402-142">This [decision tree](/azure/architecture/guide/technology-choices/compute-decision-tree) may help when choosing the right path to take for a migration.</span></span>

### <a name="devops"></a><span data-ttu-id="b4402-143">DevOps</span><span class="sxs-lookup"><span data-stu-id="b4402-143">DevOps</span></span>

<span data-ttu-id="b4402-144">**[L’intégration continue (CI)][continuous-integration]** garantit un build stable, car plusieurs développeurs valident régulièrement les modifications mineures fréquemment apportées au codebase partagé.</span><span class="sxs-lookup"><span data-stu-id="b4402-144">**[Continuous Integration (CI)][continuous-integration]** maintains a stable build, with multiple developers regularly committing small, frequent changes to the shared codebase.</span></span> <span data-ttu-id="b4402-145">Dans le cadre de votre pipeline d’intégration continue, vous devez :</span><span class="sxs-lookup"><span data-stu-id="b4402-145">As part of your continuous integration pipeline, you should:</span></span>
* <span data-ttu-id="b4402-146">Valider fréquemment les modifications de code mineures.</span><span class="sxs-lookup"><span data-stu-id="b4402-146">Frequently commit smaller code changes.</span></span> <span data-ttu-id="b4402-147">Évitez le traitement par lot des modifications plus importantes ou plus complexes dont la fusion peut se révéler plus difficile.</span><span class="sxs-lookup"><span data-stu-id="b4402-147">Avoid batching up larger or more complex changes that may be more difficult to merge successfully.</span></span>
* <span data-ttu-id="b4402-148">Exécuter le test unitaire des composants de votre application avec une couverture du code suffisante, incluant le test des chemins d’accès incorrects.</span><span class="sxs-lookup"><span data-stu-id="b4402-148">Conduct unit testing of your application components with sufficient code coverage, including testing the unhappy paths.</span></span>
* <span data-ttu-id="b4402-149">Garantir l’exécution du build sur la branche maîtresse (ou jonction) partagée.</span><span class="sxs-lookup"><span data-stu-id="b4402-149">Ensure the build is run against the shared master (or trunk) branch.</span></span> <span data-ttu-id="b4402-150">Cette branche doit être stable et maintenue comme « déploiement prêt ».</span><span class="sxs-lookup"><span data-stu-id="b4402-150">This branch should be stable and maintained as "deployment ready".</span></span> <span data-ttu-id="b4402-151">Les modifications incomplètes ou en cours doivent être isolées dans une branche distincte avec de fréquentes fusions « intégration en aval » pour éviter les conflits ultérieurs.</span><span class="sxs-lookup"><span data-stu-id="b4402-151">Incomplete or work-in-progress changes should be isolated in a separate branch with frequent "forward integration" merges to avoid conflicts later.</span></span>

<span data-ttu-id="b4402-152">La **[livraison continue (CD)][continuous-delivery]** garantit aussi bien la stabilité du build que celle du déploiement.</span><span class="sxs-lookup"><span data-stu-id="b4402-152">**[Continuous Delivery (CD)][continuous-delivery]** demonstrates not just a stable build but a stable deployment.</span></span> <span data-ttu-id="b4402-153">La mise en œuvre de cette approche se révèle un peu plus ardue, car elle nécessite une configuration propre à l’environnement, ainsi qu’un mécanisme permettant de définir correctement ces valeurs.</span><span class="sxs-lookup"><span data-stu-id="b4402-153">This makes realizing CD a little more difficult, requiring environment-specific configuration and a mechanism for setting those values correctly.</span></span> <span data-ttu-id="b4402-154">Voici les autres points à prendre en compte en matière de livraison continue :</span><span class="sxs-lookup"><span data-stu-id="b4402-154">Other CD considerations include the following:</span></span>
* <span data-ttu-id="b4402-155">Une couverture suffisante des tests d’intégration est requise pour garantir la configuration correcte et le bon fonctionnement de bout en bout des différents composants.</span><span class="sxs-lookup"><span data-stu-id="b4402-155">Sufficient integration testing coverage is required to validate that the various components are configured and working correctly end-to-end.</span></span>
* <span data-ttu-id="b4402-156">La livraison continue peut également nécessiter la configuration et la réinitialisation des données propres à l’environnement, ainsi que la gestion des versions du schéma de la base de données.</span><span class="sxs-lookup"><span data-stu-id="b4402-156">CD may also require setting up and resetting environment-specific data and managing database schema versions.</span></span>
* <span data-ttu-id="b4402-157">La livraison continue doit également s’étendre aux environnements de test de charge et d’acceptation utilisateur.</span><span class="sxs-lookup"><span data-stu-id="b4402-157">Continuous delivery should also extend to load testing and user acceptance testing environments.</span></span>
* <span data-ttu-id="b4402-158">La livraison continue tire profit d’une supervision continue, au sein de tous les environnements dans l’idéal.</span><span class="sxs-lookup"><span data-stu-id="b4402-158">Continuous delivery benefits from continuous monitoring, ideally across all environments.</span></span>
* <span data-ttu-id="b4402-159">L’automatisation, par le biais de scripts, de la création et de la configuration de l’infrastructure d’hébergement améliore la cohérence et la fiabilité des déploiements et des tests d’intégration dans les différents environnements.</span><span class="sxs-lookup"><span data-stu-id="b4402-159">The consistency and reliability of deployments and integration testing across environments is made easier by scripting the creation and configuration of the hosting infrastructure.</span></span> <span data-ttu-id="b4402-160">Cette tâche se révèle considérablement plus simple pour les charges de travail cloud.</span><span class="sxs-lookup"><span data-stu-id="b4402-160">This is considerably easier for cloud-based workloads.</span></span> <span data-ttu-id="b4402-161">Pour plus d’informations, consultez l’article [Infrastructure as Code][infra-as-code].</span><span class="sxs-lookup"><span data-stu-id="b4402-161">For more information, see [Infrastructure as Code][infra-as-code].</span></span>
* <span data-ttu-id="b4402-162">Commencez à appliquer la livraison continue dès que possible dans le cycle de vie du projet.</span><span class="sxs-lookup"><span data-stu-id="b4402-162">Begin continuous delivery as early as possible in the project lifecycle.</span></span> <span data-ttu-id="b4402-163">Plus vous tarderez à la mettre en œuvre, plus il vous sera difficile de l’incorporer.</span><span class="sxs-lookup"><span data-stu-id="b4402-163">The later you begin, the more difficult it will be to incorporate.</span></span>
* <span data-ttu-id="b4402-164">Les tests d’intégration et unitaires doivent avoir la même priorité que les fonctionnalités d’application.</span><span class="sxs-lookup"><span data-stu-id="b4402-164">Integration and unit tests should be given the same priority as application features.</span></span>
* <span data-ttu-id="b4402-165">Utilisez des packages de déploiement indépendants de l’environnement et gérez la configuration spécifique de l’environnement par le biais du processus de mise en production.</span><span class="sxs-lookup"><span data-stu-id="b4402-165">Use environment-agnostic deployment packages and manage environment-specific configuration via the release process.</span></span>
* <span data-ttu-id="b4402-166">Protégez la configuration sensible à l’aide des outils de gestion des mises en production, ou en appelant un module de sécurité matériel (HSM) ou le service [Azure Key Vault][azure-key-vault] au cours du processus de mise en production.</span><span class="sxs-lookup"><span data-stu-id="b4402-166">Protect sensitive configuration using the release management tooling, or by calling out to a Hardware-security-module (HSM) or [Azure Key Vault][azure-key-vault] during the release process.</span></span> <span data-ttu-id="b4402-167">Ne stockez pas de configuration sensible au sein du contrôle de code source.</span><span class="sxs-lookup"><span data-stu-id="b4402-167">Do not store sensitive configuration within source control.</span></span>

<span data-ttu-id="b4402-168">**Apprentissage continu**.</span><span class="sxs-lookup"><span data-stu-id="b4402-168">**Continuous Learning**.</span></span> <span data-ttu-id="b4402-169">La supervision la plus efficace d’un environnement de livraison continue (CD) est assurée par les outils d’analyse des performances d’application (APM), par exemple [Application Insights][application-insights].</span><span class="sxs-lookup"><span data-stu-id="b4402-169">The most effective monitoring of a CD environment is provided by application performance monitoring (APM) tools such as [Application Insights][application-insights].</span></span> <span data-ttu-id="b4402-170">Un niveau de supervision suffisant pour une charge de travail d’application est essentiel à la compréhension des bogues ou des performances en charge.</span><span class="sxs-lookup"><span data-stu-id="b4402-170">Sufficient depth of monitoring for an application workload is critical to understand bugs or performance under load.</span></span> <span data-ttu-id="b4402-171">Il est possible d’intégrer Application Insights à VSTS pour assurer la [supervision continue du pipeline CD][app-insights-cd-monitoring].</span><span class="sxs-lookup"><span data-stu-id="b4402-171">Application Insights can be integrated into VSTS to enable [continuous monitoring of the CD pipeline][app-insights-cd-monitoring].</span></span> <span data-ttu-id="b4402-172">Cela peut être utilisé pour permettre la progression automatique à l’étape suivante, sans intervention humaine ou restauration si une alerte est détectée.</span><span class="sxs-lookup"><span data-stu-id="b4402-172">This could be used to enable automatic progression to the next stage, without human intervention, or rollback if an alert is detected.</span></span>

## <a name="considerations"></a><span data-ttu-id="b4402-173">Considérations</span><span class="sxs-lookup"><span data-stu-id="b4402-173">Considerations</span></span>

### <a name="availability"></a><span data-ttu-id="b4402-174">Disponibilité</span><span class="sxs-lookup"><span data-stu-id="b4402-174">Availability</span></span>

<span data-ttu-id="b4402-175">Envisagez l’utilisation des [modèles de conception standards pour la disponibilité][design-patterns-availability] lorsque vous générez votre application cloud.</span><span class="sxs-lookup"><span data-stu-id="b4402-175">Consider leveraging the [typical design patterns for availability][design-patterns-availability] when building your cloud application.</span></span>

<span data-ttu-id="b4402-176">Passez en revue les considérations sur la disponibilité dans [l’architecture de référence d’application web de App Service][app-service-reference-architecture] appropriée</span><span class="sxs-lookup"><span data-stu-id="b4402-176">Review the availability considerations in the appropriate [App Service web application reference architecture][app-service-reference-architecture]</span></span>

<span data-ttu-id="b4402-177">Pour consulter d’autres rubriques relatives à la disponibilité, consultez la [liste de contrôle de la disponibilité][availability] dans le Centre des architectures Azure.</span><span class="sxs-lookup"><span data-stu-id="b4402-177">For other availability topics, see the [availability checklist][availability] in the Azure Architecture Center.</span></span>

### <a name="scalability"></a><span data-ttu-id="b4402-178">Extensibilité</span><span class="sxs-lookup"><span data-stu-id="b4402-178">Scalability</span></span>

<span data-ttu-id="b4402-179">Lors de la création d’une application cloud, soyez conscient des [modèles de conception standards pour l’évolutivité][design-patterns-scalability].</span><span class="sxs-lookup"><span data-stu-id="b4402-179">When building a cloud application be aware of the [typical design patterns for scalability][design-patterns-scalability].</span></span>

<span data-ttu-id="b4402-180">Passez en revue les considérations sur l’extensibilité dans [l’architecture de référence d’application web de App Service][app-service-reference-architecture] appropriée</span><span class="sxs-lookup"><span data-stu-id="b4402-180">Review the scalability considerations in the appropriate [App Service web application reference architecture][app-service-reference-architecture]</span></span>

<span data-ttu-id="b4402-181">Pour consulter d’autres rubriques relatives à l’extensibilité, consultez la [liste de contrôle de l’extensibilité][scalability] dans le Centre des architectures Azure.</span><span class="sxs-lookup"><span data-stu-id="b4402-181">For other scalability topics, see the [scalability checklist][scalability] in the Azure Architecture Center.</span></span>

### <a name="security"></a><span data-ttu-id="b4402-182">Sécurité</span><span class="sxs-lookup"><span data-stu-id="b4402-182">Security</span></span>

<span data-ttu-id="b4402-183">Envisagez l’utilisation des [modèles de conception standards pour la sécurité][design-patterns-security] le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="b4402-183">Consider leveraging the [typical design patterns for security][design-patterns-security] where appropriate.</span></span>

<span data-ttu-id="b4402-184">Passez en revue les considérations sur la sécurité dans [l’architecture de référence d’application web de App Service][app-service-reference-architecture] appropriée.</span><span class="sxs-lookup"><span data-stu-id="b4402-184">Review the security considerations in the appropriate [App Service web application reference architecture][app-service-reference-architecture].</span></span>

<span data-ttu-id="b4402-185">Pour obtenir des conseils d’ordre général sur la conception de solutions sécurisées, consultez la [documentation sur la sécurité Azure][security].</span><span class="sxs-lookup"><span data-stu-id="b4402-185">For general guidance on designing secure solutions, see the [Azure Security Documentation][security].</span></span>

### <a name="resiliency"></a><span data-ttu-id="b4402-186">Résilience</span><span class="sxs-lookup"><span data-stu-id="b4402-186">Resiliency</span></span>

<span data-ttu-id="b4402-187">Examinez les [modèles de conception standards pour la résilience][design-patterns-resiliency] et envisagez de les implémenter le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="b4402-187">Review the [typical design patterns for resiliency][design-patterns-resiliency] and consider implementing these where appropriate.</span></span>

<span data-ttu-id="b4402-188">Vous trouverez différentes [pratiques recommandées pour App Service][resiliency-app-service] dans le Centre des architectures Azure.</span><span class="sxs-lookup"><span data-stu-id="b4402-188">You can find a number of [recommended practices for App Service][resiliency-app-service] in the Azure Architecture Center.</span></span>

<span data-ttu-id="b4402-189">Pour obtenir des conseils d’ordre général sur la conception de solutions résilientes, consultez l’article [Conception d’applications résilientes pour Azure][resiliency].</span><span class="sxs-lookup"><span data-stu-id="b4402-189">For general guidance on designing resilient solutions, see [Designing resilient applications for Azure][resiliency].</span></span>

## <a name="deploy-the-scenario"></a><span data-ttu-id="b4402-190">Déployez le scénario</span><span class="sxs-lookup"><span data-stu-id="b4402-190">Deploy the scenario</span></span>

### <a name="prerequisites"></a><span data-ttu-id="b4402-191">Prérequis</span><span class="sxs-lookup"><span data-stu-id="b4402-191">Prerequisites</span></span>

* <span data-ttu-id="b4402-192">Vous devez disposer d’un compte Azure existant.</span><span class="sxs-lookup"><span data-stu-id="b4402-192">You must have an existing Azure account.</span></span> <span data-ttu-id="b4402-193">Si vous n’avez pas d’abonnement Azure, créez un [compte gratuit][azure-free-account] avant de commencer.</span><span class="sxs-lookup"><span data-stu-id="b4402-193">If you don't have an Azure subscription, create a [free account][azure-free-account] before you begin.</span></span>
* <span data-ttu-id="b4402-194">Vous devez inscrire une organisation Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="b4402-194">You must sign up for an Azure DevOps organization.</span></span> <span data-ttu-id="b4402-195">Pour plus d’informations, consultez l’article [Quickstart: Create your organization][vsts-account-create] (Démarrage rapide : Créer une organisation dans Azure DevOps).</span><span class="sxs-lookup"><span data-stu-id="b4402-195">For more information, see [Quickstart: Create your organization][vsts-account-create].</span></span>

### <a name="walk-through"></a><span data-ttu-id="b4402-196">Procédure pas à pas</span><span class="sxs-lookup"><span data-stu-id="b4402-196">Walk-through</span></span>

<span data-ttu-id="b4402-197">Dans ce scénario, vous allez utiliser le projet Azure DevOps pour créer votre pipeline CI/CD.</span><span class="sxs-lookup"><span data-stu-id="b4402-197">In this scenario, you'll use the Azure DevOps project to create your CI/CD pipeline.</span></span>

<span data-ttu-id="b4402-198">Le projet Azure DevOps déploie automatiquement un plan App Service, une instance App Service ainsi qu’une ressource App Insights, et configure le projet Azure DevOps à votre intention.</span><span class="sxs-lookup"><span data-stu-id="b4402-198">The Azure DevOps project will deploy an App Service Plan, App Service, and an App Insights resource for you, as well as configure the Azure DevOps project for you.</span></span>

<span data-ttu-id="b4402-199">Une fois le projet Azure DevOps déployé et la compilation effectuée, vérifiez les modifications du code, les éléments de travail et les résultats des tests associés.</span><span class="sxs-lookup"><span data-stu-id="b4402-199">Once you've deployed the Azure DevOps project and the build is completed, review the associated code changes, work items, and test results.</span></span> <span data-ttu-id="b4402-200">Vous remarquerez qu’aucun résultat de test n’est affiché, car le code ne contient aucun test à exécuter.</span><span class="sxs-lookup"><span data-stu-id="b4402-200">You will notice that no test results are displayed, because the code does not contain any tests to run.</span></span>

<span data-ttu-id="b4402-201">Examinez les définitions de mise en production.</span><span class="sxs-lookup"><span data-stu-id="b4402-201">Review the release definitions.</span></span> <span data-ttu-id="b4402-202">Notez qu’un pipeline de mise en production a été configuré, entraînant le déploiement de notre application dans l’environnement de développement.</span><span class="sxs-lookup"><span data-stu-id="b4402-202">Notice that a release pipeline has been set up, releasing our application into the Dev environment.</span></span> <span data-ttu-id="b4402-203">Vous pouvez observer qu’un **déclencheur de déploiement continu** est défini à partir de l’artefact de build **Drop**, avec des mises en production automatiques dans l’environnement de développement.</span><span class="sxs-lookup"><span data-stu-id="b4402-203">Observe that there is a **continuous deployment trigger** set from the **Drop** build artifact, with automatic releases into the Dev environment.</span></span> <span data-ttu-id="b4402-204">Dans le cadre d’un processus de déploiement continu, il est possible que les mises en production couvrent plusieurs environnements.</span><span class="sxs-lookup"><span data-stu-id="b4402-204">As part of a continuous deployment process, you may see releases that span multiple environments.</span></span> <span data-ttu-id="b4402-205">Une mise en production peut s’étendre sur chaque infrastructure (à l’aide de techniques telles qu’IaC) et peut également déployer les packages d’application requis en même temps que toutes les tâches de post-configuration.</span><span class="sxs-lookup"><span data-stu-id="b4402-205">A release can span both infrastructure (using techniques such as infrastructure-as-code), and can also deploy the application packages required along with any post-configuration tasks.</span></span>

## <a name="additional-considerations"></a><span data-ttu-id="b4402-206">Considérations supplémentaires</span><span class="sxs-lookup"><span data-stu-id="b4402-206">Additional considerations</span></span>

* <span data-ttu-id="b4402-207">Envisagez de tirer profit de l’une des [tâches de création de jetons][vsts-tokenization] disponibles sur VSTS marketplace.</span><span class="sxs-lookup"><span data-stu-id="b4402-207">Consider leveraging one of the [tokenization tasks][vsts-tokenization] available in the VSTS marketplace.</span></span>
* <span data-ttu-id="b4402-208">Envisagez d’utiliser la tâche VSTS [Déployer : Azure Key Vault][download-keyvault-secrets] pour télécharger les secrets d’une ressource Azure Key Vault dans votre mise en production.</span><span class="sxs-lookup"><span data-stu-id="b4402-208">Consider using the [Deploy: Azure Key Vault][download-keyvault-secrets] VSTS task to download secrets from an Azure Key Vault into your release.</span></span> <span data-ttu-id="b4402-209">Vous pouvez ensuite utiliser ces secrets en tant que variables dans votre définition de mise en production, ce qui vous évite d’avoir à les stocker dans le contrôle de code source.</span><span class="sxs-lookup"><span data-stu-id="b4402-209">You can then use those secrets as variables in your release definition, so you can avoid storing them in source control.</span></span>
* <span data-ttu-id="b4402-210">Envisagez d’utiliser des [variables de mise en production][vsts-release-variables] dans vos définitions de mise en production pour piloter les changements de configuration de vos environnements.</span><span class="sxs-lookup"><span data-stu-id="b4402-210">Consider using [release variables][vsts-release-variables] in your release definitions to drive configuration changes of your environments.</span></span> <span data-ttu-id="b4402-211">Les variables de mise en production peuvent être étendues à toute une version ou à un environnement donné.</span><span class="sxs-lookup"><span data-stu-id="b4402-211">Release variables can be scoped to an entire release or a given environment.</span></span> <span data-ttu-id="b4402-212">Si vous utilisez des variables pour les informations de secret, veillez à sélectionner l’icône en forme de cadenas.</span><span class="sxs-lookup"><span data-stu-id="b4402-212">When using variables for secret information, ensure that you select the padlock icon.</span></span>
* <span data-ttu-id="b4402-213">Envisagez d’utiliser des [portes de déploiement][vsts-deployment-gates] dans votre pipeline de mise en production.</span><span class="sxs-lookup"><span data-stu-id="b4402-213">Consider using [deployment gates][vsts-deployment-gates] in your release pipeline.</span></span> <span data-ttu-id="b4402-214">Vous pourrez ainsi tirer profit des données de supervision en les combinant avec des systèmes externes (par exemple, systèmes de gestion des incidents ou d’autres systèmes sur mesure) pour déterminer s’il faut promouvoir une mise en production.</span><span class="sxs-lookup"><span data-stu-id="b4402-214">This lets you leverage monitoring data in association with external systems (for example, incident management or additional bespoke systems) to determine whether a release should be promoted.</span></span>
* <span data-ttu-id="b4402-215">Lorsqu’une intervention manuelle dans un pipeline de mise en production est requise, envisagez d’utiliser la fonctionnalité [approbations][vsts-approvals].</span><span class="sxs-lookup"><span data-stu-id="b4402-215">Where manual intervention in a release pipeline is required, consider using the [approvals][vsts-approvals] functionality.</span></span>
* <span data-ttu-id="b4402-216">Envisagez d’utiliser [Application Insights][application-insights] et des outils de supervision supplémentaires dès que possible dans votre pipeline de mise en production.</span><span class="sxs-lookup"><span data-stu-id="b4402-216">Consider using [Application Insights][application-insights] and additional monitoring tools as early as possible in your release pipeline.</span></span> <span data-ttu-id="b4402-217">La plupart des organisations se contentent de superviser leur environnement de production. La supervision de vos autres environnements vous permet d’identifier les éventuels bogues plus tôt dans le processus de développement et d’éviter ainsi l’apparition de problèmes dans votre environnement de production.</span><span class="sxs-lookup"><span data-stu-id="b4402-217">Many organizations only begin monitoring in their production environment; by monitoring your other environments, you can identify bugs earlier in the development process and avoid issues in your production environment.</span></span>

## <a name="pricing"></a><span data-ttu-id="b4402-218">Tarifs</span><span class="sxs-lookup"><span data-stu-id="b4402-218">Pricing</span></span>

<span data-ttu-id="b4402-219">Les coûts d’Azure DevOps varient selon le nombre d’utilisateurs de votre organisation qui nécessitent un accès, ainsi qu’en fonction d’autres facteurs tels que le nombre de builds/mises en production simultanés requis et le nombre d’utilisateurs de test.</span><span class="sxs-lookup"><span data-stu-id="b4402-219">Azure DevOps costs depend on the number of users in your organization that require access, along with other factors like the number of concurrent build/releases required and number of test users.</span></span> <span data-ttu-id="b4402-220">Pour plus d’informations, consultez la page [Tarification Azure DevOps][vsts-pricing-page].</span><span class="sxs-lookup"><span data-stu-id="b4402-220">For more information, see [Azure DevOps pricing][vsts-pricing-page].</span></span>

* <span data-ttu-id="b4402-221">[Azure DevOps][vsts-pricing-calculator] est un service vous permettant de gérer votre cycle de vie de développement.</span><span class="sxs-lookup"><span data-stu-id="b4402-221">[Azure DevOps][vsts-pricing-calculator] is a service that enables you to manage your development life cycle.</span></span> <span data-ttu-id="b4402-222">Il est facturé par utilisateur et par mois.</span><span class="sxs-lookup"><span data-stu-id="b4402-222">It is paid for on a per-user per-month basis.</span></span> <span data-ttu-id="b4402-223">Des frais supplémentaires peuvent s’appliquer en fonction des pipelines simultanés requis, ainsi que de l’ajout d’utilisateurs de test et de licences de base utilisateur.</span><span class="sxs-lookup"><span data-stu-id="b4402-223">There may be additional charges dependent upon concurrent pipelines needed, in addition to any additional test users or user basic licenses.</span></span>

## <a name="related-resources"></a><span data-ttu-id="b4402-224">Ressources associées</span><span class="sxs-lookup"><span data-stu-id="b4402-224">Related resources</span></span>

* <span data-ttu-id="b4402-225">[Qu’est DevOps ?][devops-whatis]</span><span class="sxs-lookup"><span data-stu-id="b4402-225">[What is DevOps?][devops-whatis]</span></span>
* <span data-ttu-id="b4402-226">[DevOps at Microsoft - How we work with Azure DevOps][devops-microsoft] (DevOps chez Microsoft - Comment nous travaillons avec Azure DevOps)</span><span class="sxs-lookup"><span data-stu-id="b4402-226">[DevOps at Microsoft - How we work with Azure DevOps][devops-microsoft]</span></span>
* <span data-ttu-id="b4402-227">[Didacticiels pas à pas : DevOps avec Azure DevOps][devops-with-vsts]</span><span class="sxs-lookup"><span data-stu-id="b4402-227">[Step-by-step Tutorials: DevOps with Azure DevOps][devops-with-vsts]</span></span>
* <span data-ttu-id="b4402-228">[Liste de contrôle DevOps][devops-checklist]</span><span class="sxs-lookup"><span data-stu-id="b4402-228">[Devops Checklist][devops-checklist]</span></span>
* <span data-ttu-id="b4402-229">[Créer un pipeline CI/CD pour .NET avec Azure DevOps Project][devops-project-create]</span><span class="sxs-lookup"><span data-stu-id="b4402-229">[Create a CI/CD pipeline for .NET with the Azure DevOps project][devops-project-create]</span></span>

<!-- links -->
[ansible]: /azure/ansible/
[application-insights]: /azure/application-insights/app-insights-overview
[app-service-reference-architecture]: ../../reference-architectures/app-service-web-app/basic-web-app.md
[azure-free-account]: https://azure.microsoft.com/free/?WT.mc_id=A261C142F
[arm-templates]: /azure/azure-resource-manager/resource-group-overview#template-deployment
[architecture]: ./media/architecture-devops-dotnet-webapp.png
[availability]: /azure/architecture/checklist/availability
[chef]: /azure/chef/
[design-patterns-availability]: /azure/architecture/patterns/category/availability
[design-patterns-resiliency]: /azure/architecture/patterns/category/resiliency
[design-patterns-scalability]: /azure/architecture/patterns/category/performance-scalability
[design-patterns-security]: /azure/architecture/patterns/category/security
[desired-state-configuration]: /azure/automation/automation-dsc-overview
[devops-microsoft]: /azure/devops/devops-at-microsoft/
[devops-with-vsts]: https://almvm.azurewebsites.net/labs/vsts/
[devops-checklist]: /azure/architecture/checklist/dev-ops
[application-insights]: https://azure.microsoft.com/services/application-insights/
[cloud-based-load-testing]: https://visualstudio.microsoft.com/team-services/cloud-load-testing/
[cloud-based-load-testing-on-premises]: /vsts/test/load-test/clt-with-private-machines?view=vsts
[jenkins-on-azure]: /azure/jenkins/
[devops-whatis]: /azure/devops/what-is-devops
[download-keyvault-secrets]: /vsts/pipelines/tasks/deploy/azure-key-vault?view=vsts
[resource-groups]: /azure/azure-resource-manager/resource-group-overview
[resiliency-app-service]: /azure/architecture/checklist/resiliency-per-service#app-service
[resiliency]: /azure/architecture/checklist/resiliency
[scalability]: /azure/architecture/checklist/scalability
[vsts]: /vsts/?view=vsts#pivot=services
[continuous-integration]: /azure/devops/what-is-continuous-integration
[continuous-delivery]: /azure/devops/what-is-continuous-delivery
[web-apps]: /azure/app-service/app-service-web-overview
[terraform]: /azure/terraform/
[vsts-account-create]: /azure/devops/organizations/accounts/create-organization-msa-or-work-student?view=vsts
[vsts-approvals]: /vsts/pipelines/release/approvals/approvals?view=vsts
[devops-project]: https://portal.azure.com/?feature.customportal=false#create/Microsoft.AzureProject
[vsts-deployment-gates]: /vsts/pipelines/release/approvals/gates?view=vsts
[vsts-pricing-calculator]: https://azure.com/e/498aa024454445a8a352e75724f900b1
[vsts-pricing-page]: https://azure.microsoft.com/pricing/details/visual-studio-team-services/
[vsts-release-variables]: /vsts/pipelines/release/variables?view=vsts&tabs=batch
[vsts-tokenization]: https://marketplace.visualstudio.com/search?term=token&target=VSTS&category=All%20categories&sortBy=Relevance
[azure-key-vault]: /azure/key-vault/key-vault-overview
[infra-as-code]: https://blogs.msdn.microsoft.com/mvpawardprogram/2018/02/13/infrastructure-as-code/
[team-foundation-server]: https://visualstudio.microsoft.com/tfs/
[infra-as-code]: https://blogs.msdn.microsoft.com/mvpawardprogram/2018/02/13/infrastructure-as-code/
[service-fabric]: /azure/service-fabric/
[azure-functions]: /azure/azure-functions/
[azure-containers]: https://azure.microsoft.com/overview/containers/
[compare-vm-hosting]: /azure/app-service/choose-web-site-cloud-service-vm
[app-insights-cd-monitoring]: /azure/application-insights/app-insights-vsts-continuous-monitoring
[azure-region-pair-bcdr]: /azure/best-practices-availability-paired-regions
[devops-project-create]: /azure/devops-project/azure-devops-project-aspnet-core
[security]: /azure/security/